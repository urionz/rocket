function module(e,t,n){let r,o,a,s,i,u,c,l,S,d,g,p;n.export({finalStep:()=>x,SetupWizardState:()=>C,useSetupWizardContext:()=>P}),n.link("react",{default(e){r=e},createContext(e){o=e},useContext(e){a=e},useEffect(e){s=e},useState(e){i=e},useCallback(e){u=e},useMemo(e){c=e}},0),n.link("../../contexts/RouterContext",{useRouteParameter(e){l=e},useRoute(e){S=e}},1),n.link("../../contexts/ServerContext",{useMethod(e){d=e}},2),n.link("../../contexts/UserContext",{useUserId(e){g=e}},3),n.link("./SetupWizardPage",{SetupWizardPage(e){p=e}},4);const x="final",v=()=>{const e=l("step"),t=g(),n=S("setup-wizard"),[r,o]=i(()=>{if(e===x)return x;const t=parseInt(e,10);return Number.isFinite(t)&&t>=1?t:1});return s(()=>{t?1===r&&o(2):o(1),n.replacingState({step:String(r)})},[n,t,r]),[r,o]},f=()=>{const[e,t]=i(!1),[n,r]=i([]),[o,a]=i(!1),u=d("getSetupWizardParameters");return s(()=>{let e=!0;const n=async()=>{try{const{settings:n=[],allowStandaloneServer:o=!1}=await u()||{};if(!e)return;t(!0),r(n),a(o)}catch(n){t(!1),r([]),a(!1)}};return n(),()=>{e=!1}},[]),{loaded:e,settings:n,canDeclineServerRegistration:o}},m=o({loaded:!1,settings:[],canDeclineServerRegistration:!1,goToPreviousStep:()=>{},goToNextStep:()=>{},goToFinalStep:()=>{}});function C(){const[e,t]=v(),{loaded:n,settings:o,canDeclineServerRegistration:a}=f(),s=u(()=>t(e=>e-1),[]),i=u(()=>t(e=>e+1),[]),l=u(()=>t(x),[]),S=c(()=>({currentStep:e,loaded:n,settings:o,canDeclineServerRegistration:a,goToPreviousStep:s,goToNextStep:i,goToFinalStep:l}),[e,n,o,a]);return r.createElement(m.Provider,{value:S},r.createElement(p,{currentStep:e}))}const P=()=>a(m)}

