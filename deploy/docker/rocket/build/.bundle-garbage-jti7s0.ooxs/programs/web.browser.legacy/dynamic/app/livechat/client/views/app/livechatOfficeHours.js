function module(e,n,t){var r,a,i,s,u,c,o,f,l,h,d;t.link("@babel/runtime/regenerator",{default:function(e){r=e}},0),t.link("meteor/meteor",{Meteor:function(e){a=e}},0),t.link("meteor/reactive-var",{ReactiveVar:function(e){i=e}},1),t.link("meteor/templating",{Template:function(e){s=e}},2),t.link("meteor/rocketchat:tap-i18n",{TAPi18n:function(e){u=e}},3),t.link("toastr",{default:function(e){c=e}},4),t.link("moment",{default:function(e){o=e}},5),t.link("../../../../utils/client",{t:function(e){f=e},handleError:function(e){l=e},APIClient:function(e){h=e}},6),t.link("../../../../settings",{settings:function(e){d=e}},7),t.link("./livechatOfficeHours.html"),s.livechatOfficeHours.helpers({days:function(){return s.instance().officeHours.get()},startName:function(e){return e.day+"_start"},finishName:function(e){return e.day+"_finish"},openName:function(e){return e.day+"_open"},start:function(e){return s.instance().dayVars[e.day].start.get()},finish:function(e){return s.instance().dayVars[e.day].finish.get()},name:function(e){return u.__(e.day)},open:function(e){return s.instance().dayVars[e.day].open.get()},enableOfficeHoursTrueChecked:function(){if(s.instance().enableOfficeHours.get())return"checked"},enableOfficeHoursFalseChecked:function(){if(!s.instance().enableOfficeHours.get())return"checked"},allowAgentsOnlineOutOfficeHoursTrueChecked:function(){if(s.instance().allowAgentsOnlineOutOfficeHours.get())return"checked"},allowAgentsOnlineOutOfficeHoursFalseChecked:function(){if(!s.instance().allowAgentsOnlineOutOfficeHours.get())return"checked"}}),s.livechatOfficeHours.events({"change .preview-settings, keydown .preview-settings":function(e,n){var t=e.currentTarget.name.split("_"),r=o(e.currentTarget.value,"HH:mm");"start"===t[1]?r.isSameOrBefore(o(n.dayVars[t[0]].finish.get(),"HH:mm"))?n.dayVars[t[0]].start.set(e.currentTarget.value):e.currentTarget.value=n.dayVars[t[0]].start.get():"finish"===t[1]&&(r.isSameOrAfter(o(n.dayVars[t[0]].start.get(),"HH:mm"))?n.dayVars[t[0]].finish.set(e.currentTarget.value):e.currentTarget.value=n.dayVars[t[0]].finish.get())},"change .dayOpenCheck input":function(e,n){var t=e.currentTarget.name.split("_");n.dayVars[t[0]][t[1]].set(e.target.checked)},"change .preview-settings, keyup .preview-settings":function(e,n){var t=e.currentTarget.value;"radio"===e.currentTarget.type&&(t="true"===t,n[e.currentTarget.name].set(t))},"submit .rocket-form":function(e,n){for(var t in e.preventDefault(),meteorBabelHelpers.sanitizeForInObject(n.dayVars))if(n.dayVars.hasOwnProperty(t)){var r=n.dayVars[t],i=o(r.start.get(),"HH:mm").utc().format("HH:mm"),s=o(r.finish.get(),"HH:mm").utc().format("HH:mm");a.call("livechat:saveOfficeHours",t,i,s,r.open.get(),(function(e){if(e)return l(e)}))}d.set("Livechat_allow_online_agents_outside_office_hours",n.allowAgentsOnlineOutOfficeHours.get()),d.set("Livechat_enable_office_hours",n.enableOfficeHours.get(),(function(e){if(e)return l(e);c.success(f("Office_hours_updated"))}))}}),s.livechatOfficeHours.onCreated(function(){function e(){var e=this,n,t;return r.async(function(){function a(a){for(;;)switch(a.prev=a.next){case 0:return this.dayVars={Monday:{start:new i("08:00"),finish:new i("20:00"),open:new i(!0)},Tuesday:{start:new i("00:00"),finish:new i("00:00"),open:new i(!0)},Wednesday:{start:new i("00:00"),finish:new i("00:00"),open:new i(!0)},Thursday:{start:new i("00:00"),finish:new i("00:00"),open:new i(!0)},Friday:{start:new i("00:00"),finish:new i("00:00"),open:new i(!0)},Saturday:{start:new i("00:00"),finish:new i("00:00"),open:new i(!1)},Sunday:{start:new i("00:00"),finish:new i("00:00"),open:new i(!1)}},this.officeHours=new i([]),this.enableOfficeHours=new i,this.allowAgentsOnlineOutOfficeHours=new i,a.next=6,r.awrap(h.v1.get("livechat/office-hours"));case 6:n=a.sent,t=n.officeHours,this.officeHours.set(t),t.forEach((function(n){e.dayVars[n.day].start.set(o.utc(n.start,"HH:mm").local().format("HH:mm")),e.dayVars[n.day].finish.set(o.utc(n.finish,"HH:mm").local().format("HH:mm")),e.dayVars[n.day].open.set(n.open)})),this.autorun((function(){e.enableOfficeHours.set(d.get("Livechat_enable_office_hours")),e.allowAgentsOnlineOutOfficeHours.set(d.get("Livechat_allow_online_agents_outside_office_hours"))}));case 11:case"end":return a.stop()}}return a}(),null,this)}return e}())}

