function module(e,n,t){var r,c,o,u,a,i;t.link("meteor/meteor",{Meteor:function(e){r=e}},0),t.link("meteor/templating",{Template:function(e){c=e}},1),t.link("toastr",{default:function(e){o=e}},2),t.link("../../ui-utils",{modal:function(e){u=e}},3),t.link("../../utils",{t:function(e){a=e}},4),t.link("../../models",{WebdavAccounts:function(e){i=e}},5),c.selectWebdavAccount.helpers({webdavAccounts:function(){return i.find().fetch()},usernamePlusServer:function(e){return e.name||e.username+"@"+e.server_url.replace(/^https?\:\/\//i,"")}}),c.selectWebdavAccount.events({"click .webdav-account":function(){u.close();var e=this._id,n=c.instance().data.url,t=c.instance().data.attachment.title,i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType="arraybuffer",i.onload=function(){var n=i.response;if(n){var c=new Uint8Array(n);r.call("uploadFileToWebdav",e,c,t,(function(e,n){return e?o.error(a(e.error)):n.success?o.success(a("File_uploaded")):o.error(a(n.message))}))}},i.send(null)}})}

