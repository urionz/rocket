function module(e,t){var n=e("./lib/request"),o=e("./lib/response"),s=e("xtend"),r=e("builtin-status-codes"),E=e("url"),a=t;a.request=function(e,t){e="string"==typeof e?E.parse(e):s(e);var o=-1===global.location.protocol.search(/^https?:$/)?"http:":"",r=e.protocol||o,a=e.hostname||e.host,C=e.port,T=e.path||"/";a&&-1!==a.indexOf(":")&&(a="["+a+"]"),e.url=(a?r+"//"+a:"")+(C?":"+C:"")+T,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var O=new n(e);return t&&O.on("response",t),O},a.get=function e(t,n){var o=a.request(t,n);return o.end(),o},a.ClientRequest=n,a.IncomingMessage=o.IncomingMessage,a.Agent=function(){},a.Agent.defaultMaxSockets=4,a.globalAgent=new a.Agent,a.STATUS_CODES=r,a.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}

