function module(e,n,i){var r,t,l,a,o,u,c,f;i.link("meteor/meteor",{Meteor:function(e){r=e}},0),i.link("meteor/templating",{Template:function(e){t=e}},1),i.link("meteor/tracker",{Tracker:function(e){l=e}},2),i.link("meteor/rocketchat:tap-i18n",{TAPi18n:function(e){a=e}},3),i.link("toastr",{default:function(e){o=e}},4),i.link("../../../settings",{settings:function(e){u=e}},5),i.link("../../../utils",{handleError:function(e){c=e}},6),i.link("../../../ui-utils/client",{SideNav:function(e){f=e}},7),t.mailer.helpers({fromEmail:function(){return u.get("From_Email")}}),t.mailer.events({"click .send":function(e,n){e.preventDefault();var i=$(n.find("[name=from]")).val(),t=$(n.find("[name=subject]")).val(),l=$(n.find("[name=body]")).val(),u=$(n.find("[name=dryrun]:checked")).val(),f=$(n.find("[name=query]")).val();if(i){if(-1!==l.indexOf("[unsubscribe]"))return r.call("Mailer.sendMail",i,t,l,u,f,(function(e){return e?c(e):o.success(a.__("The_emails_are_being_sent"))}));o.error(a.__("error-missing-unsubscribe-link"))}else o.error(a.__("error-invalid-from-address"))}}),t.mailer.onRendered((function(){l.afterFlush((function(){f.setFlex("adminFlex"),f.openFlex()}))}))}

