function module(t,e,i){"use strict";var o=t("../core/core.defaults"),n=t("../core/core.element"),l=t("../helpers/index"),a=t("../core/core.layouts"),r=l.noop;o._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}});var s=n.extend({initialize:function(t){var e=this;l.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:r,update:function(t,e,i){var o=this;return o.beforeUpdate(),o.maxWidth=t,o.maxHeight=e,o.margins=i,o.beforeSetDimensions(),o.setDimensions(),o.afterSetDimensions(),o.beforeBuildLabels(),o.buildLabels(),o.afterBuildLabels(),o.beforeFit(),o.fit(),o.afterFit(),o.afterUpdate(),o.minSize},afterUpdate:r,beforeSetDimensions:r,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:r,beforeBuildLabels:r,buildLabels:r,afterBuildLabels:r,beforeFit:r,fit:function(){var t=this,e=l.valueOrDefault,i=t.options,n=i.display,a=e(i.fontSize,o.global.defaultFontSize),r=t.minSize,s=l.isArray(i.text)?i.text.length:1,f=l.options.toLineHeight(i.lineHeight,a),d=n?s*f+2*i.padding:0;t.isHorizontal()?(r.width=t.maxWidth,r.height=d):(r.width=d,r.height=t.maxHeight),t.width=r.width,t.height=r.height},afterFit:r,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,i=l.valueOrDefault,n=t.options,a=o.global;if(n.display){var r=i(n.fontSize,a.defaultFontSize),s=i(n.fontStyle,a.defaultFontStyle),f=i(n.fontFamily,a.defaultFontFamily),d=l.fontString(r,s,f),h=l.options.toLineHeight(n.lineHeight,r),g=h/2+n.padding,p=0,u=t.top,m=t.left,c=t.bottom,b=t.right,x,v,S;e.fillStyle=i(n.fontColor,a.defaultFontColor),e.font=d,t.isHorizontal()?(v=m+(b-m)/2,S=u+g,x=b-m):(v="left"===n.position?m+g:b-g,S=u+(c-u)/2,x=c-u,p=Math.PI*("left"===n.position?-.5:.5)),e.save(),e.translate(v,S),e.rotate(p),e.textAlign="center",e.textBaseline="middle";var H=n.text;if(l.isArray(H))for(var y=0,z=0;z<H.length;++z)e.fillText(H[z],0,y,x),y+=h;else e.fillText(H,0,0,x);e.restore()}}});function f(t,e){var i=new s({ctx:t.ctx,options:e,chart:t});a.configure(t,i,e),a.addBox(t,i),t.titleBlock=i}i.exports={id:"title",_element:s,beforeInit:function(t){var e=t.options.title;e&&f(t,e)},beforeUpdate:function(t){var e=t.options.title,i=t.titleBlock;e?(l.mergeIf(e,o.global.title),i?(a.configure(t,i,e),i.options=e):f(t,e)):i&&(a.removeBox(t,i),delete t.titleBlock)}}}

