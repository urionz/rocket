function module(e,t){"use strict";var n=e("../utils/common"),_=4,r=0,a=1,i=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var d=0,f=1,o=2,b=3,u=258,c=29,s=256,p=s+1+c,h=30,v=19,y=2*p+1,m=15,g=16,w=7,x=256,A=16,k=17,z=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=512,D=new Array(2*(p+2));l(D);var E=new Array(2*h);l(E);var F=new Array(512);l(F);var G=new Array(256);l(G);var H=new Array(c);l(H);var I=new Array(h),J,K,L;function M(e,t,n,_,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=_,this.max_length=r,this.has_stree=e&&e.length}function N(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function O(e){return e<256?F[e]:F[256+(e>>>7)]}function P(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function Q(e,t,n){e.bi_valid>g-n?(e.bi_buf|=t<<e.bi_valid&65535,P(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=n-g):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function R(e,t,n){Q(e,n[2*t],n[2*t+1])}function T(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function U(e){16===e.bi_valid?(P(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function V(e,t){var n=t.dyn_tree,_=t.max_code,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,d=t.stat_desc.max_length,f,o,b,u,c,s,p=0;for(u=0;u<=m;u++)e.bl_count[u]=0;for(n[2*e.heap[e.heap_max]+1]=0,f=e.heap_max+1;f<y;f++)(u=n[2*n[2*(o=e.heap[f])+1]+1]+1)>d&&(u=d,p++),n[2*o+1]=u,o>_||(e.bl_count[u]++,c=0,o>=l&&(c=i[o-l]),s=n[2*o],e.opt_len+=s*(u+c),a&&(e.static_len+=s*(r[2*o+1]+c)));if(0!==p){do{for(u=d-1;0===e.bl_count[u];)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[d]--,p-=2}while(p>0);for(u=d;0!==u;u--)for(o=e.bl_count[u];0!==o;)(b=e.heap[--f])>_||(n[2*b+1]!==u&&(e.opt_len+=(u-n[2*b+1])*n[2*b],n[2*b+1]=u),o--)}}function W(e,t,n){var _=new Array(m+1),r=0,a,i;for(a=1;a<=m;a++)_[a]=r=r+n[a-1]<<1;for(i=0;i<=t;i++){var l=e[2*i+1];0!==l&&(e[2*i]=T(_[l]++,l))}}function X(){var e,t,n,_,r,a=new Array(m+1);for(n=0,_=0;_<c-1;_++)for(H[_]=n,e=0;e<1<<S[_];e++)G[n++]=_;for(G[n-1]=_,r=0,_=0;_<16;_++)for(I[_]=r,e=0;e<1<<j[_];e++)F[r++]=_;for(r>>=7;_<h;_++)for(I[_]=r<<7,e=0;e<1<<j[_]-7;e++)F[256+r++]=_;for(t=0;t<=m;t++)a[t]=0;for(e=0;e<=143;)D[2*e+1]=8,e++,a[8]++;for(;e<=255;)D[2*e+1]=9,e++,a[9]++;for(;e<=279;)D[2*e+1]=7,e++,a[7]++;for(;e<=287;)D[2*e+1]=8,e++,a[8]++;for(W(D,p+1,a),e=0;e<h;e++)E[2*e+1]=5,E[2*e]=T(e,5);J=new M(D,S,s+1,p,m),K=new M(E,j,0,h,m),L=new M(new Array(0),q,0,v,w)}function Y(e){var t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<h;t++)e.dyn_dtree[2*t]=0;for(t=0;t<v;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*x]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Z(e){e.bi_valid>8?P(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function $(e,t,_,r){Z(e),r&&(P(e,_),P(e,~_)),n.arraySet(e.pending_buf,e.window,t,_,e.pending),e.pending+=_}function ee(e,t,n,_){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&_[t]<=_[n]}function te(e,t,n){for(var _=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&ee(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!ee(t,_,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=_}function ne(e,t,n){var _,r,a=0,i,l;if(0!==e.last_lit)do{_=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],r=e.pending_buf[e.l_buf+a],a++,0===_?R(e,r,t):(R(e,(i=G[r])+s+1,t),0!==(l=S[i])&&Q(e,r-=H[i],l),R(e,i=O(--_),n),0!==(l=j[i])&&Q(e,_-=I[i],l))}while(a<e.last_lit);R(e,x,t)}function _e(e,t){var n=t.dyn_tree,_=t.stat_desc.static_tree,r=t.stat_desc.has_stree,a=t.stat_desc.elems,i,l,d=-1,f;for(e.heap_len=0,e.heap_max=y,i=0;i<a;i++)0!==n[2*i]?(e.heap[++e.heap_len]=d=i,e.depth[i]=0):n[2*i+1]=0;for(;e.heap_len<2;)n[2*(f=e.heap[++e.heap_len]=d<2?++d:0)]=1,e.depth[f]=0,e.opt_len--,r&&(e.static_len-=_[2*f+1]);for(t.max_code=d,i=e.heap_len>>1;i>=1;i--)te(e,n,i);f=a;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],te(e,n,1),l=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=l,n[2*f]=n[2*i]+n[2*l],e.depth[f]=(e.depth[i]>=e.depth[l]?e.depth[i]:e.depth[l])+1,n[2*i+1]=n[2*l+1]=f,e.heap[1]=f++,te(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],V(e,t),W(n,d,e.bl_count)}function re(e,t,n){var _,r=-1,a,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),t[2*(n+1)+1]=65535,_=0;_<=n;_++)a=i,i=t[2*(_+1)+1],++l<d&&a===i||(l<f?e.bl_tree[2*a]+=l:0!==a?(a!==r&&e.bl_tree[2*a]++,e.bl_tree[2*A]++):l<=10?e.bl_tree[2*k]++:e.bl_tree[2*z]++,l=0,r=a,0===i?(d=138,f=3):a===i?(d=6,f=3):(d=7,f=4))}function ae(e,t,n){var _,r=-1,a,i=t[1],l=0,d=7,f=4;for(0===i&&(d=138,f=3),_=0;_<=n;_++)if(a=i,i=t[2*(_+1)+1],!(++l<d&&a===i)){if(l<f)do{R(e,a,e.bl_tree)}while(0!=--l);else 0!==a?(a!==r&&(R(e,a,e.bl_tree),l--),R(e,A,e.bl_tree),Q(e,l-3,2)):l<=10?(R(e,k,e.bl_tree),Q(e,l-3,3)):(R(e,z,e.bl_tree),Q(e,l-11,7));l=0,r=a,0===i?(d=138,f=3):a===i?(d=6,f=3):(d=7,f=4)}}function ie(e){var t;for(re(e,e.dyn_ltree,e.l_desc.max_code),re(e,e.dyn_dtree,e.d_desc.max_code),_e(e,e.bl_desc),t=v-1;t>=3&&0===e.bl_tree[2*B[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function le(e,t,n,_){var r;for(Q(e,t-257,5),Q(e,n-1,5),Q(e,_-4,4),r=0;r<_;r++)Q(e,e.bl_tree[2*B[r]+1],3);ae(e,e.dyn_ltree,t-1),ae(e,e.dyn_dtree,n-1)}function de(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*n])return r;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(n=32;n<s;n++)if(0!==e.dyn_ltree[2*n])return a;return r}l(I);var fe=!1;function oe(e){fe||(X(),fe=!0),e.l_desc=new N(e.dyn_ltree,J),e.d_desc=new N(e.dyn_dtree,K),e.bl_desc=new N(e.bl_tree,L),e.bi_buf=0,e.bi_valid=0,Y(e)}function be(e,t,n,_){Q(e,(d<<1)+(_?1:0),3),$(e,t,n,!0)}function ue(e){Q(e,f<<1,3),R(e,x,D),U(e)}function ce(e,t,n,r){var a,l,d=0;e.level>0?(e.strm.data_type===i&&(e.strm.data_type=de(e)),_e(e,e.l_desc),_e(e,e.d_desc),d=ie(e),a=e.opt_len+3+7>>>3,(l=e.static_len+3+7>>>3)<=a&&(a=l)):a=l=n+5,n+4<=a&&-1!==t?be(e,t,n,r):e.strategy===_||l===a?(Q(e,(f<<1)+(r?1:0),3),ne(e,D,E)):(Q(e,(o<<1)+(r?1:0),3),le(e,e.l_desc.max_code+1,e.d_desc.max_code+1,d+1),ne(e,e.dyn_ltree,e.dyn_dtree)),Y(e),r&&Z(e)}function se(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(G[n]+s+1)]++,e.dyn_dtree[2*O(t)]++),e.last_lit===e.lit_bufsize-1}t._tr_init=oe,t._tr_stored_block=be,t._tr_flush_block=ce,t._tr_tally=se,t._tr_align=ue}

