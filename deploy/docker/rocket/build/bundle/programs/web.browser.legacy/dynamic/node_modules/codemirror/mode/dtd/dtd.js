function module(t,e,n){var r;r=function(t){"use strict";t.defineMode("dtd",(function(t){var e=t.indentUnit,n;function r(t,e){return n=e,t}function a(t,e){var n=t.next();if("<"!=n||!t.eat("!")){if("<"==n&&t.eat("?"))return e.tokenize=o("meta","?>"),r("meta",n);if("#"==n&&t.eatWhile(/[\w]/))return r("atom","tag");if("|"==n)return r("keyword","seperator");if(n.match(/[\(\)\[\]\-\.,\+\?>]/))return r(null,n);if(n.match(/[\[\]]/))return r("rule",n);if('"'==n||"'"==n)return e.tokenize=u(n),e.tokenize(t,e);if(t.eatWhile(/[a-zA-Z\?\+\d]/)){var a=t.current();return null!==a.substr(a.length-1,a.length).match(/\?|\+/)&&t.backUp(1),r("tag","tag")}return"%"==n||"*"==n?r("number","number"):(t.eatWhile(/[\w\\\-_%.{,]/),r(null,null))}return t.eatWhile(/[\-]/)?(e.tokenize=i,i(t,e)):t.eatWhile(/[\w]/)?r("keyword","doindent"):void 0}function i(t,e){for(var n=0,i;null!=(i=t.next());){if(n>=2&&">"==i){e.tokenize=a;break}n="-"==i?n+1:0}return r("comment","comment")}function u(t){return function(e,n){for(var i=!1,u;null!=(u=e.next());){if(u==t&&!i){n.tokenize=a;break}i=!i&&"\\"==u}return r("string","tag")}}function o(t,e){return function(n,r){for(;!n.eol();){if(n.match(e)){r.tokenize=a;break}n.next()}return t}}return{startState:function(t){return{tokenize:a,baseIndent:t||0,stack:[]}},token:function(t,e){if(t.eatSpace())return null;var r=e.tokenize(t,e),a=e.stack[e.stack.length-1];return"["==t.current()||"doindent"===n||"["==n?e.stack.push("rule"):"endtag"===n?e.stack[e.stack.length-1]="endtag":"]"==t.current()||"]"==n||">"==n&&"rule"==a?e.stack.pop():"["==n&&e.stack.push("["),r},indent:function(t,r){var a=t.stack.length;return r.match(/\]\s+|\]/)?a-=1:">"===r.substr(r.length-1,r.length)&&("<"===r.substr(0,1)||"doindent"==n&&r.length>1||("doindent"==n?a--:">"==n&&r.length>1||"tag"==n&&">"!==r||("tag"==n&&"rule"==t.stack[t.stack.length-1]?a--:"tag"==n?a++:">"===r&&"rule"==t.stack[t.stack.length-1]&&">"===n?a--:">"===r&&"rule"==t.stack[t.stack.length-1]||("<"!==r.substr(0,1)&&">"===r.substr(0,1)?a-=1:">"===r||(a-=1)))),null!=n&&"]"!=n||a--),t.baseIndent+a*e},electricChars:"]>"}})),t.defineMIME("application/xml-dtd","dtd")},"object"==typeof e&&"object"==typeof n?r(t("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}

