function module(t,e,n){var r;r=function(t){"use strict";t.defineMode("commonlisp",(function(t){var e=/^(block|let*|return-from|catch|load-time-value|setq|eval-when|locally|symbol-macrolet|flet|macrolet|tagbody|function|multiple-value-call|the|go|multiple-value-prog1|throw|if|progn|unwind-protect|labels|progv|let|quote)$/,n=/^with|^def|^do|^prog|case$|^cond$|bind$|when$|unless$/,r=/^(?:[+\-]?(?:\d+|\d*\.\d+)(?:[efd][+\-]?\d+)?|[+\-]?\d+(?:\/[+\-]?\d+)?|#b[+\-]?[01]+|#o[+\-]?[0-7]+|#x[+\-]?[\da-f]+)/,o=/[^\s'`,@()\[\]";]/,i;function l(t){for(var e;e=t.next();)if("\\"==e)t.next();else if(!o.test(e)){t.backUp(1);break}return t.current()}function c(t,o){if(t.eatSpace())return i="ws",null;if(t.match(r))return"number";var c,c;if("\\"==(c=t.next())&&(c=t.next()),'"'==c)return(o.tokenize=u)(t,o);if("("==c)return i="open","bracket";if(")"==c||"]"==c)return i="close","bracket";if(";"==c)return t.skipToEnd(),i="ws","comment";if(/['`,@]/.test(c))return null;if("|"==c)return t.skipTo("|")?(t.next(),"symbol"):(t.skipToEnd(),"error");if("#"==c)return"("==(c=t.next())?(i="open","bracket"):/[+\-=\.']/.test(c)?null:/\d/.test(c)&&t.match(/^\d*#/)?null:"|"==c?(o.tokenize=a)(t,o):":"==c?(l(t),"meta"):"\\"==c?(t.next(),l(t),"string-2"):"error";var s=l(t);return"."==s?null:(i="symbol","nil"==s||"t"==s||":"==s.charAt(0)?"atom":"open"==o.lastType&&(e.test(s)||n.test(s))?"keyword":"&"==s.charAt(0)?"variable-2":"variable")}function u(t,e){for(var n=!1,r;r=t.next();){if('"'==r&&!n){e.tokenize=c;break}n=!n&&"\\"==r}return"string"}function a(t,e){for(var n,r;n=t.next();){if("#"==n&&"|"==r){e.tokenize=c;break}r=n}return i="ws","comment"}return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastType:null,tokenize:c}},token:function(e,r){e.sol()&&"number"!=typeof r.ctx.indentTo&&(r.ctx.indentTo=r.ctx.start+1),i=null;var o=r.tokenize(e,r);return"ws"!=i&&(null==r.ctx.indentTo?"symbol"==i&&n.test(e.current())?r.ctx.indentTo=r.ctx.start+t.indentUnit:r.ctx.indentTo="next":"next"==r.ctx.indentTo&&(r.ctx.indentTo=e.column()),r.lastType=i),"open"==i?r.ctx={prev:r.ctx,start:e.column(),indentTo:null}:"close"==i&&(r.ctx=r.ctx.prev||r.ctx),o},indent:function(t,e){var n=t.ctx.indentTo;return"number"==typeof n?n:t.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;",blockCommentStart:"#|",blockCommentEnd:"|#"}})),t.defineMIME("text/x-common-lisp","commonlisp")},"object"==typeof e&&"object"==typeof n?r(t("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],r):r(CodeMirror)}

