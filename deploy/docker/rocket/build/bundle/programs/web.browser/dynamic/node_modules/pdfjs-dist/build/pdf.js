function module(e,t,r){
/**
 * @licstart The following is the entire license notice for the
 * Javascript code in this page
 *
 * Copyright 2018 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * Javascript code in this page
 */
!function e(n,i){"object"==typeof t&&"object"==typeof r?r.exports=i():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],i):"object"==typeof t?t["pdfjs-dist/build/pdf"]=i():n["pdfjs-dist/build/pdf"]=n.pdfjsLib=i()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";var n="2.0.943",i="dc98bf76",a=r(1),o=r(129),s=r(145),u=r(146),l=r(130),c=r(147),h=r(135),d=r(132),f;if(r(4)()){var p=r(148).PDFNodeStream;o.setPDFNetworkStreamFactory((function(e){return new p(e)}))}else if("undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream){var v=r(151).PDFFetchStream;o.setPDFNetworkStreamFactory((function(e){return new v(e)}))}else{var m=r(152).PDFNetworkStream;o.setPDFNetworkStreamFactory((function(e){return new m(e)}))}t.build=o.build,t.version=o.version,t.getDocument=o.getDocument,t.LoopbackPort=o.LoopbackPort,t.PDFDataRangeTransport=o.PDFDataRangeTransport,t.PDFWorker=o.PDFWorker,t.renderTextLayer=s.renderTextLayer,t.AnnotationLayer=u.AnnotationLayer,t.createPromiseCapability=a.createPromiseCapability,t.PasswordResponses=a.PasswordResponses,t.InvalidPDFException=a.InvalidPDFException,t.MissingPDFException=a.MissingPDFException,t.SVGGraphics=c.SVGGraphics,t.NativeImageDecoding=a.NativeImageDecoding,t.CMapCompressionType=a.CMapCompressionType,t.PermissionFlag=a.PermissionFlag,t.UnexpectedResponseException=a.UnexpectedResponseException,t.OPS=a.OPS,t.VerbosityLevel=a.VerbosityLevel,t.UNSUPPORTED_FEATURES=a.UNSUPPORTED_FEATURES,t.createValidAbsoluteUrl=a.createValidAbsoluteUrl,t.createObjectURL=a.createObjectURL,t.removeNullCharacters=a.removeNullCharacters,t.shadow=a.shadow,t.Util=a.Util,t.ReadableStream=a.ReadableStream,t.URL=a.URL,t.RenderingCancelledException=l.RenderingCancelledException,t.getFilenameFromUrl=l.getFilenameFromUrl,t.LinkTarget=l.LinkTarget,t.addLinkAttributes=l.addLinkAttributes,t.loadScript=l.loadScript,t.GlobalWorkerOptions=h.GlobalWorkerOptions,t.apiCompatibilityParams=d.apiCompatibilityParams},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unreachable=t.warn=t.utf8StringToString=t.stringToUTF8String=t.stringToPDFString=t.stringToBytes=t.string32=t.shadow=t.setVerbosityLevel=t.URL=t.ReadableStream=t.removeNullCharacters=t.readUint32=t.readUint16=t.readInt8=t.log2=t.isEvalSupported=t.isLittleEndian=t.createValidAbsoluteUrl=t.isSameOrigin=t.isSpace=t.isString=t.isNum=t.isEmptyObj=t.isBool=t.isArrayBuffer=t.info=t.getVerbosityLevel=t.getLookupTableFactory=t.getInheritableProperty=t.deprecated=t.createObjectURL=t.createPromiseCapability=t.bytesToString=t.assert=t.arraysToBytes=t.arrayByteLength=t.FormatError=t.XRefParseException=t.toRomanNumerals=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.NativeImageDecoding=t.MissingPDFException=t.MissingDataException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r(2);var i=r(125),a=r(127),o=[1,0,0,1,0,0],s=[.001,0,0,.001,0,0],u={NONE:"none",DECODE:"decode",DISPLAY:"display"},l={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},c={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},h={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},d={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},f={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},p={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},v={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},m={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},g={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10},y={ERRORS:0,WARNINGS:1,INFOS:5},b={NONE:0,BINARY:1,STREAM:2},_={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},A={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},S={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},w=y.WARNINGS;function k(e){Number.isInteger(e)&&(w=e)}function P(){return w}function x(e){w>=y.INFOS&&console.log("Info: "+e)}function C(e){w>=y.WARNINGS&&console.log("Warning: "+e)}function R(e){console.log("Deprecated API usage: "+e)}function E(e){throw new Error(e)}function T(e,t){e||E(t)}function O(e,t){try{var r=new a.URL(e);if(!r.origin||"null"===r.origin)return!1}catch(i){return!1}var n=new a.URL(t,r);return r.origin===n.origin}function I(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function F(e,t){if(!e)return null;try{var r=t?new a.URL(e,t):new a.URL(e);if(I(r))return r}catch(n){}return null}function L(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!1}),r}function j(e){var t;return function(){return e&&(t=Object.create(null),e(t),e=null),t}}var M=function e(){function t(e,t){this.name="PasswordException",this.message=e,this.code=t}return t.prototype=new Error,t.constructor=t,t}(),D=function e(){function t(e,t){this.name="UnknownErrorException",this.message=e,this.details=t}return t.prototype=new Error,t.constructor=t,t}(),N=function e(){function t(e){this.name="InvalidPDFException",this.message=e}return t.prototype=new Error,t.constructor=t,t}(),q=function e(){function t(e){this.name="MissingPDFException",this.message=e}return t.prototype=new Error,t.constructor=t,t}(),W=function e(){function t(e,t){this.name="UnexpectedResponseException",this.message=e,this.status=t}return t.prototype=new Error,t.constructor=t,t}(),U=function e(){function t(e,t){this.begin=e,this.end=t,this.message="Missing data ["+e+", "+t+")"}return t.prototype=new Error,t.prototype.name="MissingDataException",t.constructor=t,t}(),B=function e(){function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="XRefParseException",t.constructor=t,t}(),z=function e(){function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="FormatError",t.constructor=t,t}(),G=function e(){function t(e){this.name="AbortException",this.message=e}return t.prototype=new Error,t.constructor=t,t}(),H=/\x00/g;function X(e){return"string"!=typeof e?(C("The argument for removeNullCharacters must be a string."),e):e.replace(H,"")}function Y(e){T(null!==e&&"object"===(void 0===e?"undefined":n(e))&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length,r=8192;if(t<8192)return String.fromCharCode.apply(null,e);for(var i=[],a=0;a<t;a+=8192){var o=Math.min(a+8192,t),s=e.subarray(a,o);i.push(String.fromCharCode.apply(null,s))}return i.join("")}function V(e){T("string"==typeof e,"Invalid argument for stringToBytes");for(var t=e.length,r=new Uint8Array(t),n=0;n<t;++n)r[n]=255&e.charCodeAt(n);return r}function Q(e){return void 0!==e.length?e.length:(T(void 0!==e.byteLength),e.byteLength)}function K(e){if(1===e.length&&e[0]instanceof Uint8Array)return e[0];var t=0,r,n=e.length,i,a;for(r=0;r<n;r++)t+=a=Q(i=e[r]);var o=0,s=new Uint8Array(t);for(r=0;r<n;r++)(i=e[r])instanceof Uint8Array||(i="string"==typeof i?V(i):new Uint8Array(i)),a=i.byteLength,s.set(i,o),o+=a;return s}function J(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}function Z(e){return e<=0?0:Math.ceil(Math.log2(e))}function $(e,t){return e[t]<<24>>24}function ee(e,t){return e[t]<<8|e[t+1]}function te(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function re(){var e=new Uint8Array(4),t;return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}function ne(){try{return new Function(""),!0}catch(e){return!1}}function ie(e){for(var t=e.dict,r=e.key,n=e.getArray,i=void 0!==n&&n,a=e.stopWhenFound,o=void 0===a||a,s=100,u=0,l=void 0;t;){var c=i?t.getArray(r):t.get(r);if(void 0!==c){if(o)return c;l||(l=[]),l.push(c)}if(++u>100){C('getInheritableProperty: maximum loop count exceeded for "'+r+'"');break}t=t.get("Parent")}return l}var ae=function e(){function t(){}var r=["rgb(",0,",",0,",",0,")"];return t.makeCssRgb=function e(t,n,i){return r[1]=t,r[3]=n,r[5]=i,r.join("")},t.transform=function e(t,r){return[t[0]*r[0]+t[2]*r[1],t[1]*r[0]+t[3]*r[1],t[0]*r[2]+t[2]*r[3],t[1]*r[2]+t[3]*r[3],t[0]*r[4]+t[2]*r[5]+t[4],t[1]*r[4]+t[3]*r[5]+t[5]]},t.applyTransform=function e(t,r){var n,i;return[t[0]*r[0]+t[1]*r[2]+r[4],t[0]*r[1]+t[1]*r[3]+r[5]]},t.applyInverseTransform=function e(t,r){var n=r[0]*r[3]-r[1]*r[2],i,a;return[(t[0]*r[3]-t[1]*r[2]+r[2]*r[5]-r[4]*r[3])/n,(-t[0]*r[1]+t[1]*r[0]+r[4]*r[1]-r[5]*r[0])/n]},t.getAxialAlignedBoundingBox=function e(r,n){var i=t.applyTransform(r,n),a=t.applyTransform(r.slice(2,4),n),o=t.applyTransform([r[0],r[3]],n),s=t.applyTransform([r[2],r[1]],n);return[Math.min(i[0],a[0],o[0],s[0]),Math.min(i[1],a[1],o[1],s[1]),Math.max(i[0],a[0],o[0],s[0]),Math.max(i[1],a[1],o[1],s[1])]},t.inverseTransform=function e(t){var r=t[0]*t[3]-t[1]*t[2];return[t[3]/r,-t[1]/r,-t[2]/r,t[0]/r,(t[2]*t[5]-t[4]*t[3])/r,(t[4]*t[1]-t[5]*t[0])/r]},t.apply3dTransform=function e(t,r){return[t[0]*r[0]+t[1]*r[1]+t[2]*r[2],t[3]*r[0]+t[4]*r[1]+t[5]*r[2],t[6]*r[0]+t[7]*r[1]+t[8]*r[2]]},t.singularValueDecompose2dScale=function e(t){var r=[t[0],t[2],t[1],t[3]],n=t[0]*r[0]+t[1]*r[2],i=t[0]*r[1]+t[1]*r[3],a=t[2]*r[0]+t[3]*r[2],o=t[2]*r[1]+t[3]*r[3],s=(n+o)/2,u=Math.sqrt((n+o)*(n+o)-4*(n*o-a*i))/2,l=s+u||1,c=s-u||1;return[Math.sqrt(l),Math.sqrt(c)]},t.normalizeRect=function e(t){var r=t.slice(0);return t[0]>t[2]&&(r[0]=t[2],r[2]=t[0]),t[1]>t[3]&&(r[1]=t[3],r[3]=t[1]),r},t.intersect=function e(r,n){function i(e,t){return e-t}var a=[r[0],r[2],n[0],n[2]].sort(i),o=[r[1],r[3],n[1],n[3]].sort(i),s=[];return r=t.normalizeRect(r),n=t.normalizeRect(n),(a[0]===r[0]&&a[1]===n[0]||a[0]===n[0]&&a[1]===r[0])&&(s[0]=a[1],s[2]=a[2],(o[0]===r[1]&&o[1]===n[1]||o[0]===n[1]&&o[1]===r[1])&&(s[1]=o[1],s[3]=o[2],s))},t}(),oe=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function se(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];T(Number.isInteger(e)&&e>0,"The number should be a positive integer.");for(var r=void 0,n=[];e>=1e3;)e-=1e3,n.push("M");r=e/100|0,e%=100,n.push(oe[r]),r=e/10|0,e%=10,n.push(oe[10+r]),n.push(oe[20+e]);var i=n.join("");return t?i.toLowerCase():i}var ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function le(e){var t,r=e.length,n=[];if("þ"===e[0]&&"ÿ"===e[1])for(t=2;t<r;t+=2)n.push(String.fromCharCode(e.charCodeAt(t)<<8|e.charCodeAt(t+1)));else for(t=0;t<r;++t){var i=ue[e.charCodeAt(t)];n.push(i?String.fromCharCode(i):e.charAt(t))}return n.join("")}function ce(e){return decodeURIComponent(escape(e))}function he(e){return unescape(encodeURIComponent(e))}function de(e){for(var t in e)return!1;return!0}function fe(e){return"boolean"==typeof e}function pe(e){return"number"==typeof e}function ve(e){return"string"==typeof e}function me(e){return"object"===(void 0===e?"undefined":n(e))&&null!==e&&void 0!==e.byteLength}function ge(e){return 32===e||9===e||13===e||10===e}function ye(){var e={};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e}var be=function e(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function e(r,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!i&&a.URL.createObjectURL){var o=new Blob([r],{type:n});return a.URL.createObjectURL(o)}for(var s="data:"+n+";base64,",u=0,l=r.length;u<l;u+=3){var c=255&r[u],h=255&r[u+1],d=255&r[u+2],f=c>>2,p=(3&c)<<4|h>>4,v=u+1<l?(15&h)<<2|d>>6:64,m=u+2<l?63&d:64;s+=t[f]+t[p]+t[v]+t[m]}return s}}();t.FONT_IDENTITY_MATRIX=s,t.IDENTITY_MATRIX=o,t.OPS=_,t.VerbosityLevel=y,t.UNSUPPORTED_FEATURES=A,t.AnnotationBorderStyleType=v,t.AnnotationFieldFlag=p,t.AnnotationFlag=f,t.AnnotationType=d,t.FontType=g,t.ImageKind=h,t.CMapCompressionType=b,t.AbortException=G,t.InvalidPDFException=N,t.MissingDataException=U,t.MissingPDFException=q,t.NativeImageDecoding=u,t.PasswordException=M,t.PasswordResponses=S,t.PermissionFlag=l,t.StreamType=m,t.TextRenderingMode=c,t.UnexpectedResponseException=W,t.UnknownErrorException=D,t.Util=ae,t.toRomanNumerals=se,t.XRefParseException=B,t.FormatError=z,t.arrayByteLength=Q,t.arraysToBytes=K,t.assert=T,t.bytesToString=Y,t.createPromiseCapability=ye,t.createObjectURL=be,t.deprecated=R,t.getInheritableProperty=ie,t.getLookupTableFactory=j,t.getVerbosityLevel=P,t.info=x,t.isArrayBuffer=me,t.isBool=fe,t.isEmptyObj=de,t.isNum=pe,t.isString=ve,t.isSpace=ge,t.isSameOrigin=O,t.createValidAbsoluteUrl=F,t.isLittleEndian=re,t.isEvalSupported=ne,t.log2=Z,t.readInt8=$,t.readUint16=ee,t.readUint32=te,t.removeNullCharacters=X,t.ReadableStream=i.ReadableStream,t.URL=a.URL,t.setVerbosityLevel=k,t.shadow=L,t.string32=J,t.stringToBytes=V,t.stringToPDFString=le,t.stringToUTF8String=ce,t.utf8StringToString=he,t.warn=C,t.unreachable=E},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(3);if(!i._pdfjsCompatibilityChecked){i._pdfjsCompatibilityChecked=!0;var a=r(4),o="object"===("undefined"==typeof window?"undefined":n(window))&&"object"===("undefined"==typeof document?"undefined":n(document));!function e(){!i.btoa&&a()&&(i.btoa=function(e){return Buffer.from(e,"binary").toString("base64")})}(),function e(){!i.atob&&a()&&(i.atob=function(e){return Buffer.from(e,"base64").toString("binary")})}(),function e(){o&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function e(){var t=document.getElementsByTagName("script");return t[t.length-1]},enumerable:!0,configurable:!0}))}(),function e(){o&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}(),function e(){var t;if(o&&!a()&&!1!==document.createElement("div").classList.toggle("test",0)){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e){if(arguments.length>1){var t=!!arguments[1];return this[t?"add":"remove"](e),t}return r(e)}}}(),function e(){String.prototype.includes||r(5)}(),function e(){Array.prototype.includes||r(33)}(),function e(){Object.assign||r(42)}(),function e(){Math.log2||(Math.log2=r(52))}(),function e(){Number.isNaN||(Number.isNaN=r(54))}(),function e(){Number.isInteger||(Number.isInteger=r(56))}(),function e(){i.Promise||(i.Promise=r(59))}(),function e(){i.WeakMap||(i.WeakMap=r(94))}(),function e(){String.codePointAt||(String.codePointAt=r(111))}(),function e(){String.fromCodePoint||(String.fromCodePoint=r(113))}(),function e(){i.Symbol||r(115)}(),function e(){Object.values||(Object.values=r(122))}()}},function(e,t,r){"use strict";e.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function e(){return"object"===("undefined"==typeof process?"undefined":n(process))&&process+""=="[object process]"}},function(e,t,r){"use strict";r(6),e.exports=r(9).String.includes},function(e,t,r){"use strict";var n=r(7),i=r(25),a="includes";n(n.P+n.F*r(32)(a),"String",{includes:function e(t){return!!~i(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(8),i=r(9),a=r(10),o=r(20),s=r(23),u="prototype",l=function e(t,r,u){var l=t&e.F,c=t&e.G,h,d=t&e.P,f=t&e.B,p=c?n:t&e.S?n[r]||(n[r]={}):(n[r]||{}).prototype,v=c?i:i[r]||(i[r]={}),m=v.prototype||(v.prototype={}),g,y,b,_;for(g in c&&(u=r),u)b=((y=!l&&p&&void 0!==p[g])?p:u)[g],_=f&&y?s(b,n):d&&"function"==typeof b?s(Function.call,b):b,p&&o(p,g,b,t&e.U),v[g]!=b&&a(v,g,_),d&&m[g]!=b&&(m[g]=b)};n.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,r){"use strict";var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,r){"use strict";var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,r){"use strict";var n=r(11),i=r(19);e.exports=r(15)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){"use strict";var n=r(12),i=r(14),a=r(18),o=Object.defineProperty;t.f=r(15)?Object.defineProperty:function e(t,r,s){if(n(t),r=a(r,!0),n(s),i)try{return o(t,r,s)}catch(u){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(t[r]=s.value),t}},function(e,t,r){"use strict";var n=r(13);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":n(e))?null!==e:"function"==typeof e}},function(e,t,r){"use strict";e.exports=!r(15)&&!r(16)((function(){return 7!=Object.defineProperty(r(17)("div"),"a",{get:function e(){return 7}}).a}))},function(e,t,r){"use strict";e.exports=!r(16)((function(){return 7!=Object.defineProperty({},"a",{get:function e(){return 7}}).a}))},function(e,t,r){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,r){"use strict";var n=r(13),i=r(8).document,a=n(i)&&n(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){"use strict";var n=r(13);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){"use strict";var n=r(8),i=r(10),a=r(21),o=r(22)("src"),s="toString",u=Function.toString,l=(""+u).split(s);r(9).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,r,s){var u="function"==typeof r;u&&(a(r,"name")||i(r,"name",t)),e[t]!==r&&(u&&(a(r,o)||i(r,o,e[t]?""+e[t]:l.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,s,(function e(){return"function"==typeof this&&this[o]||u.call(this)}))},function(e,t,r){"use strict";var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,r){"use strict";var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,r){"use strict";var n=r(24);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){"use strict";var n=r(26),i=r(31);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(e))}},function(e,t,r){"use strict";var n=r(13),i=r(27),a=r(28)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,r){"use strict";var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,r){"use strict";var n=r(29)("wks"),i=r(22),a=r(8).Symbol,o="function"==typeof a,s;(e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=n},function(e,t,r){"use strict";var n=r(9),i=r(8),a="__core-js_shared__",o=i[a]||(i[a]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(30)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){"use strict";e.exports=!1},function(e,t,r){"use strict";e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){"use strict";var n=r(28)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(i){}}return!0}},function(e,t,r){"use strict";r(34),e.exports=r(9).Array.includes},function(e,t,r){"use strict";var n=r(7),i=r(35)(!0);n(n.P,"Array",{includes:function e(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),r(41)("includes")},function(e,t,r){"use strict";var n=r(36),i=r(38),a=r(40);e.exports=function(e){return function(t,r,o){var s=n(t),u=i(s.length),l=a(o,u),c;if(e&&r!=r){for(;u>l;)if((c=s[l++])!=c)return!0}else for(;u>l;l++)if((e||l in s)&&s[l]===r)return e||l||0;return!e&&-1}}},function(e,t,r){"use strict";var n=r(37),i=r(31);e.exports=function(e){return n(i(e))}},function(e,t,r){"use strict";var n=r(27);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,r){"use strict";var n=r(39),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){"use strict";var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,r){"use strict";var n=r(39),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):a(e,t)}},function(e,t,r){"use strict";var n=r(28)("unscopables"),i=Array.prototype;null==i[n]&&r(10)(i,n,{}),e.exports=function(e){i[n][e]=!0}},function(e,t,r){"use strict";r(43),e.exports=r(9).Object.assign},function(e,t,r){"use strict";var n=r(7);n(n.S+n.F,"Object",{assign:r(44)})},function(e,t,r){"use strict";var n=r(45),i=r(49),a=r(50),o=r(51),s=r(37),u=Object.assign;e.exports=!u||r(16)((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n}))?function e(t,r){for(var u=o(t),l=arguments.length,c=1,h=i.f,d=a.f;l>c;)for(var f=s(arguments[c++]),p=h?n(f).concat(h(f)):n(f),v=p.length,m=0,g;v>m;)d.call(f,g=p[m++])&&(u[g]=f[g]);return u}:u},function(e,t,r){"use strict";var n=r(46),i=r(48);e.exports=Object.keys||function e(t){return n(t,i)}},function(e,t,r){"use strict";var n=r(21),i=r(36),a=r(35)(!1),o=r(47)("IE_PROTO");e.exports=function(e,t){var r=i(e),s=0,u=[],l;for(l in r)l!=o&&n(r,l)&&u.push(l);for(;t.length>s;)n(r,l=t[s++])&&(~a(u,l)||u.push(l));return u}},function(e,t,r){"use strict";var n=r(29)("keys"),i=r(22);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t,r){"use strict";e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){"use strict";t.f=Object.getOwnPropertySymbols},function(e,t,r){"use strict";t.f={}.propertyIsEnumerable},function(e,t,r){"use strict";var n=r(31);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";r(53),e.exports=r(9).Math.log2},function(e,t,r){"use strict";var n=r(7);n(n.S,"Math",{log2:function e(t){return Math.log(t)/Math.LN2}})},function(e,t,r){"use strict";r(55),e.exports=r(9).Number.isNaN},function(e,t,r){"use strict";var n=r(7);n(n.S,"Number",{isNaN:function e(t){return t!=t}})},function(e,t,r){"use strict";r(57),e.exports=r(9).Number.isInteger},function(e,t,r){"use strict";var n=r(7);n(n.S,"Number",{isInteger:r(58)})},function(e,t,r){"use strict";var n=r(13),i=Math.floor;e.exports=function e(t){return!n(t)&&isFinite(t)&&i(t)===t}},function(e,t,r){"use strict";r(60),r(62),r(72),r(75),r(92),r(93),e.exports=r(9).Promise},function(e,t,r){"use strict";var n=r(61),i={};i[r(28)("toStringTag")]="z",i+""!="[object z]"&&r(20)(Object.prototype,"toString",(function e(){return"[object "+n(this)+"]"}),!0)},function(e,t,r){"use strict";var n=r(27),i=r(28)("toStringTag"),a="Arguments"==n(function(){return arguments}()),o=function e(t,r){try{return t[r]}catch(n){}};e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=o(t=Object(e),i))?r:a?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,r){"use strict";var n=r(63)(!0);r(64)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e=this._t,t=this._i,r;return t>=e.length?{value:void 0,done:!0}:(r=n(e,t),this._i+=r.length,{value:r,done:!1})}))},function(e,t,r){"use strict";var n=r(39),i=r(31);e.exports=function(e){return function(t,r){var a=String(i(t)),o=n(r),s=a.length,u,l;return o<0||o>=s?e?"":void 0:(u=a.charCodeAt(o))<55296||u>56319||o+1===s||(l=a.charCodeAt(o+1))<56320||l>57343?e?a.charAt(o):u:e?a.slice(o,o+2):l-56320+(u-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(30),i=r(7),a=r(20),o=r(10),s=r(65),u=r(66),l=r(70),c=r(71),h=r(28)("iterator"),d=!([].keys&&"next"in[].keys()),f="@@iterator",p="keys",v="values",m=function e(){return this};e.exports=function(e,t,r,g,y,b,_){u(r,t,g);var A=function e(t){if(!d&&t in P)return P[t];switch(t){case p:return function e(){return new r(this,t)};case v:return function e(){return new r(this,t)}}return function e(){return new r(this,t)}},S=t+" Iterator",w=y==v,k=!1,P=e.prototype,x=P[h]||P[f]||y&&P[y],C=x||A(y),R=y?w?A("entries"):C:void 0,E="Array"==t&&P.entries||x,T,O,I;if(E&&(I=c(E.call(new e)))!==Object.prototype&&I.next&&(l(I,S,!0),n||"function"==typeof I[h]||o(I,h,m)),w&&x&&x.name!==v&&(k=!0,C=function e(){return x.call(this)}),n&&!_||!d&&!k&&P[h]||o(P,h,C),s[t]=C,s[S]=m,y)if(T={values:w?C:A(v),keys:b?C:A(p),entries:R},_)for(O in T)O in P||a(P,O,T[O]);else i(i.P+i.F*(d||k),t,T);return T}},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";var n=r(67),i=r(19),a=r(70),o={};r(10)(o,r(28)("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(o,{next:i(1,r)}),a(e,t+" Iterator")}},function(e,t,r){"use strict";var n=r(12),i=r(68),a=r(48),o=r(47)("IE_PROTO"),s=function e(){},u="prototype",l=function e(){var t=r(17)("iframe"),n=a.length,i="<",o=">",s;for(t.style.display="none",r(69).appendChild(t),t.src="javascript:",(s=t.contentWindow.document).open(),s.write("<script>document.F=Object<\/script>"),s.close(),l=s.F;n--;)delete l.prototype[a[n]];return l()};e.exports=Object.create||function e(t,r){var a;return null!==t?(s.prototype=n(t),a=new s,s.prototype=null,a[o]=t):a=l(),void 0===r?a:i(a,r)}},function(e,t,r){"use strict";var n=r(11),i=r(12),a=r(45);e.exports=r(15)?Object.defineProperties:function e(t,r){i(t);for(var o=a(r),s=o.length,u=0,l;s>u;)n.f(t,l=o[u++],r[l]);return t}},function(e,t,r){"use strict";var n=r(8).document;e.exports=n&&n.documentElement},function(e,t,r){"use strict";var n=r(11).f,i=r(21),a=r(28)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,r){"use strict";var n=r(21),i=r(51),a=r(47)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,r){"use strict";for(var n=r(73),i=r(45),a=r(20),o=r(8),s=r(10),u=r(65),l=r(28),c=l("iterator"),h=l("toStringTag"),d=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(f),v=0;v<p.length;v++){var m=p[v],g=f[m],y=o[m],b=y&&y.prototype,_;if(b&&(b[c]||s(b,c,d),b[h]||s(b,h,m),u[m]=d,g))for(_ in n)b[_]||a(b,_,n[_],!0)}},function(e,t,r){"use strict";var n=r(41),i=r(74),a=r(65),o=r(36);e.exports=r(64)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t,r){"use strict";e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(30),i=r(8),a=r(23),o=r(61),s=r(7),u=r(13),l=r(24),c=r(76),h=r(77),d=r(81),f=r(82).set,p=r(84)(),v=r(85),m=r(86),g=r(87),y=r(88),b="Promise",_=i.TypeError,A=i.process,S=A&&A.versions,w=S&&S.v8||"",k=i.Promise,P="process"==o(A),x=function e(){},C,R,E,T,O=R=v.f,I=!!function(){try{var e=k.resolve(1),t=(e.constructor={})[r(28)("species")]=function(e){e(x,x)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(x)instanceof t&&0!==w.indexOf("6.6")&&-1===g.indexOf("Chrome/66")}catch(n){}}(),F=function e(t){var r;return!(!u(t)||"function"!=typeof(r=t.then))&&r},L=function e(t,r){if(!t._n){t._n=!0;var n=t._c;p((function(){for(var e=t._v,i=1==t._s,a=0,o=function r(n){var a=i?n.ok:n.fail,o=n.resolve,s=n.reject,u=n.domain,l,c,h;try{a?(i||(2==t._h&&D(t),t._h=1),!0===a?l=e:(u&&u.enter(),l=a(e),u&&(u.exit(),h=!0)),l===n.promise?s(_("Promise-chain cycle")):(c=F(l))?c.call(l,o,s):o(l)):s(e)}catch(d){u&&!h&&u.exit(),s(d)}};n.length>a;)o(n[a++]);t._c=[],t._n=!1,r&&!t._h&&j(t)}))}},j=function e(t){f.call(i,(function(){var e=t._v,r=M(t),n,a,o;if(r&&(n=m((function(){P?A.emit("unhandledRejection",e,t):(a=i.onunhandledrejection)?a({promise:t,reason:e}):(o=i.console)&&o.error&&o.error("Unhandled promise rejection",e)})),t._h=P||M(t)?2:1),t._a=void 0,r&&n.e)throw n.v}))},M=function e(t){return 1!==t._h&&0===(t._a||t._c).length},D=function e(t){f.call(i,(function(){var e;P?A.emit("rejectionHandled",t):(e=i.onrejectionhandled)&&e({promise:t,reason:t._v})}))},N=function e(t){var r=this;r._d||(r._d=!0,(r=r._w||r)._v=t,r._s=2,r._a||(r._a=r._c.slice()),L(r,!0))},q=function e(t){var r=this,n;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw _("Promise can't be resolved itself");(n=F(t))?p((function(){var i={_w:r,_d:!1};try{n.call(t,a(e,i,1),a(N,i,1))}catch(o){N.call(i,o)}})):(r._v=t,r._s=1,L(r,!1))}catch(i){N.call({_w:r,_d:!1},i)}}};I||(k=function e(t){c(this,k,b,"_h"),l(t),C.call(this);try{t(a(q,this,1),a(N,this,1))}catch(r){N.call(this,r)}},(C=function e(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(89)(k.prototype,{then:function e(t,r){var n=O(d(this,k));return n.ok="function"!=typeof t||t,n.fail="function"==typeof r&&r,n.domain=P?A.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function e(t){return this.then(void 0,t)}}),E=function e(){var t=new C;this.promise=t,this.resolve=a(q,t,1),this.reject=a(N,t,1)},v.f=O=function e(t){return t===k||t===T?new E(t):R(t)}),s(s.G+s.W+s.F*!I,{Promise:k}),r(70)(k,b),r(90)(b),T=r(9).Promise,s(s.S+s.F*!I,b,{reject:function e(t){var r=O(this),n;return(0,r.reject)(t),r.promise}}),s(s.S+s.F*(n||!I),b,{resolve:function e(t){return y(n&&this===T?k:this,t)}}),s(s.S+s.F*!(I&&r(91)((function(e){k.all(e).catch(x)}))),b,{all:function e(t){var r=this,n=O(r),i=n.resolve,a=n.reject,o=m((function(){var e=[],n=0,o=1;h(t,!1,(function(t){var s=n++,u=!1;e.push(void 0),o++,r.resolve(t).then((function(t){u||(u=!0,e[s]=t,--o||i(e))}),a)})),--o||i(e)}));return o.e&&a(o.v),n.promise},race:function e(t){var r=this,n=O(r),i=n.reject,a=m((function(){h(t,!1,(function(e){r.resolve(e).then(n.resolve,i)}))}));return a.e&&i(a.v),n.promise}})},function(e,t,r){"use strict";e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){"use strict";var n=r(23),i=r(78),a=r(79),o=r(12),s=r(38),u=r(80),l={},c={},h=e.exports=function(e,t,r,h,d){var f=d?function(){return e}:u(e),p=n(r,h,t?2:1),v=0,m,g,y,b;if("function"!=typeof f)throw TypeError(e+" is not iterable!");if(a(f)){for(m=s(e.length);m>v;v++)if((b=t?p(o(g=e[v])[0],g[1]):p(e[v]))===l||b===c)return b}else for(y=f.call(e);!(g=y.next()).done;)if((b=i(y,p,g.value,t))===l||b===c)return b};h.BREAK=l,h.RETURN=c},function(e,t,r){"use strict";var n=r(12);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(o){var a=e.return;throw void 0!==a&&n(a.call(e)),o}}},function(e,t,r){"use strict";var n=r(65),i=r(28)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[i]===e)}},function(e,t,r){"use strict";var n=r(61),i=r(28)("iterator"),a=r(65);e.exports=r(9).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[n(e)]}},function(e,t,r){"use strict";var n=r(12),i=r(24),a=r(28)("species");e.exports=function(e,t){var r=n(e).constructor,o;return void 0===r||null==(o=n(r)[a])?t:i(o)}},function(e,t,r){"use strict";var n=r(23),i=r(83),a=r(69),o=r(17),s=r(8),u=s.process,l=s.setImmediate,c=s.clearImmediate,h=s.MessageChannel,d=s.Dispatch,f=0,p={},v="onreadystatechange",m,g,y,b=function e(){var t=+this;if(p.hasOwnProperty(t)){var r=p[t];delete p[t],r()}},_=function e(t){b.call(t.data)};l&&c||(l=function e(t){for(var r=[],n=1;arguments.length>n;)r.push(arguments[n++]);return p[++f]=function(){i("function"==typeof t?t:Function(t),r)},m(f),f},c=function e(t){delete p[t]},"process"==r(27)(u)?m=function e(t){u.nextTick(n(b,t,1))}:d&&d.now?m=function e(t){d.now(n(b,t,1))}:h?(y=(g=new h).port2,g.port1.onmessage=_,m=n(y.postMessage,y,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(m=function e(t){s.postMessage(t+"","*")},s.addEventListener("message",_,!1)):m=v in o("script")?function e(t){a.appendChild(o("script")).onreadystatechange=function(){a.removeChild(this),b.call(t)}}:function e(t){setTimeout(n(b,t,1),0)}),e.exports={set:l,clear:c}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){"use strict";var n=r(8),i=r(82).set,a=n.MutationObserver||n.WebKitMutationObserver,o=n.process,s=n.Promise,u="process"==r(27)(o);e.exports=function(){var e,t,r,l=function n(){var i,a;for(u&&(i=o.domain)&&i.exit();e;){a=e.fn,e=e.next;try{a()}catch(s){throw e?r():t=void 0,s}}t=void 0,i&&i.enter()};if(u)r=function e(){o.nextTick(l)};else if(!a||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);r=function e(){c.then(l)}}else r=function e(){i.call(n,l)};else{var h=!0,d=document.createTextNode("");new a(l).observe(d,{characterData:!0}),r=function e(){d.data=h=!h}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t,r){"use strict";var n=r(24);function i(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new i(e)}},function(e,t,r){"use strict";e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,r){"use strict";var n,i=r(8).navigator;e.exports=i&&i.userAgent||""},function(e,t,r){"use strict";var n=r(12),i=r(13),a=r(85);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=a.f(e),o;return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(20);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){"use strict";var n=r(8),i=r(11),a=r(15),o=r(28)("species");e.exports=function(e){var t=n[e];a&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function e(){return this}})}},function(e,t,r){"use strict";var n=r(28)("iterator"),i=!1;try{var a=[7][n]();a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(o){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var a=[7],s=a[n]();s.next=function(){return{done:r=!0}},a[n]=function(){return s},e(a)}catch(o){}return r}},function(e,t,r){"use strict";var n=r(7),i=r(9),a=r(8),o=r(81),s=r(88);n(n.P+n.R,"Promise",{finally:function e(t){var r=o(this,i.Promise||a.Promise),n="function"==typeof t;return this.then(n?function(e){return s(r,t()).then((function(){return e}))}:t,n?function(e){return s(r,t()).then((function(){throw e}))}:t)}})},function(e,t,r){"use strict";var n=r(7),i=r(85),a=r(86);n(n.S,"Promise",{try:function e(t){var r=i.f(this),n=a(t);return(n.e?r.reject:r.resolve)(n.v),r.promise}})},function(e,t,r){"use strict";r(60),r(72),r(95),r(107),r(109),e.exports=r(9).WeakMap},function(e,t,r){"use strict";var n=r(96)(0),i=r(20),a=r(100),o=r(44),s=r(101),u=r(13),l=r(16),c=r(102),h="WeakMap",d=a.getWeak,f=Object.isExtensible,p=s.ufstore,v={},m,g=function e(t){return function e(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function e(t){if(u(t)){var r=d(t);return!0===r?p(c(this,h)).get(t):r?r[this._i]:void 0}},set:function e(t,r){return s.def(c(this,h),t,r)}},b=e.exports=r(103)(h,g,y,s,!0,!0);l((function(){return 7!=(new b).set((Object.freeze||Object)(v),7).get(v)}))&&(o((m=s.getConstructor(g,h)).prototype,y),a.NEED=!0,n(["delete","has","get","set"],(function(e){var t=b.prototype,r=t[e];i(t,e,(function(t,n){if(u(t)&&!f(t)){this._f||(this._f=new m);var i=this._f[e](t,n);return"set"==e?this:i}return r.call(this,t,n)}))})))},function(e,t,r){"use strict";var n=r(23),i=r(37),a=r(51),o=r(38),s=r(97);e.exports=function(e,t){var r=1==e,u=2==e,l=3==e,c=4==e,h=6==e,d=5==e||h,f=t||s;return function(t,s,p){for(var v=a(t),m=i(v),g=n(s,p,3),y=o(m.length),b=0,_=r?f(t,y):u?f(t,0):void 0,A,S;y>b;b++)if((d||b in m)&&(S=g(A=m[b],b,v),e))if(r)_[b]=S;else if(S)switch(e){case 3:return!0;case 5:return A;case 6:return b;case 2:_.push(A)}else if(c)return!1;return h?-1:l||c?c:_}}},function(e,t,r){"use strict";var n=r(98);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){"use strict";var n=r(13),i=r(99),a=r(28)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){"use strict";var n=r(27);e.exports=Array.isArray||function e(t){return"Array"==n(t)}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(22)("meta"),a=r(13),o=r(21),s=r(11).f,u=0,l=Object.isExtensible||function(){return!0},c=!r(16)((function(){return l(Object.preventExtensions({}))})),h=function e(t){s(t,i,{value:{i:"O"+ ++u,w:{}}})},d=function e(t,r){if(!a(t))return"symbol"==(void 0===t?"undefined":n(t))?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!l(t))return"F";if(!r)return"E";h(t)}return t[i].i},f=function e(t,r){if(!o(t,i)){if(!l(t))return!0;if(!r)return!1;h(t)}return t[i].w},p=function e(t){return c&&v.NEED&&l(t)&&!o(t,i)&&h(t),t},v=e.exports={KEY:i,NEED:!1,fastKey:d,getWeak:f,onFreeze:p}},function(e,t,r){"use strict";var n=r(89),i=r(100).getWeak,a=r(12),o=r(13),s=r(76),u=r(77),l=r(96),c=r(21),h=r(102),d=l(5),f=l(6),p=0,v=function e(t){return t._l||(t._l=new m)},m=function e(){this.a=[]},g=function e(t,r){return d(t.a,(function(e){return e[0]===r}))};m.prototype={get:function e(t){var r=g(this,t);if(r)return r[1]},has:function e(t){return!!g(this,t)},set:function e(t,r){var n=g(this,t);n?n[1]=r:this.a.push([t,r])},delete:function e(t){var r=f(this.a,(function(e){return e[0]===t}));return~r&&this.a.splice(r,1),!!~r}},e.exports={getConstructor:function e(t,r,a,l){var d=t((function(e,t){s(e,d,r,"_i"),e._t=r,e._i=p++,e._l=void 0,null!=t&&u(t,a,e[l],e)}));return n(d.prototype,{delete:function e(t){if(!o(t))return!1;var n=i(t);return!0===n?v(h(this,r)).delete(t):n&&c(n,this._i)&&delete n[this._i]},has:function e(t){if(!o(t))return!1;var n=i(t);return!0===n?v(h(this,r)).has(t):n&&c(n,this._i)}}),d},def:function e(t,r,n){var o=i(a(r),!0);return!0===o?v(t).set(r,n):o[t._i]=n,t},ufstore:v}},function(e,t,r){"use strict";var n=r(13);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){"use strict";var n=r(8),i=r(7),a=r(20),o=r(89),s=r(100),u=r(77),l=r(76),c=r(13),h=r(16),d=r(91),f=r(70),p=r(104);e.exports=function(e,t,r,v,m,g){var y=n[e],b=y,_=m?"set":"add",A=b&&b.prototype,S={},w=function e(t){var r=A[t];a(A,t,"delete"==t?function(e){return!(g&&!c(e))&&r.call(this,0===e?0:e)}:"has"==t?function e(t){return!(g&&!c(t))&&r.call(this,0===t?0:t)}:"get"==t?function e(t){return g&&!c(t)?void 0:r.call(this,0===t?0:t)}:"add"==t?function e(t){return r.call(this,0===t?0:t),this}:function e(t,n){return r.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(g||A.forEach&&!h((function(){(new b).entries().next()})))){var k=new b,P=k[_](g?{}:-0,1)!=k,x=h((function(){k.has(1)})),C=d((function(e){new b(e)})),R=!g&&h((function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)}));C||((b=t((function(t,r){l(t,b,e);var n=p(new y,t,b);return null!=r&&u(r,m,n[_],n),n}))).prototype=A,A.constructor=b),(x||R)&&(w("delete"),w("has"),m&&w("get")),(R||P)&&w(_),g&&A.clear&&delete A.clear}else b=v.getConstructor(t,e,m,_),o(b.prototype,r),s.NEED=!0;return f(b,e),S[e]=b,i(i.G+i.W+i.F*(b!=y),S),g||v.setStrong(b,e,m),b}},function(e,t,r){"use strict";var n=r(13),i=r(105).set;e.exports=function(e,t,r){var a=t.constructor,o;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(e,o),e}},function(e,t,r){"use strict";var n=r(13),i=r(12),a=function e(t,r){if(i(t),!n(r)&&null!==r)throw TypeError(r+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(23)(Function.call,r(106).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function e(r,i){return a(r,i),t?r.__proto__=i:n(r,i),r}}({},!1):void 0),check:a}},function(e,t,r){"use strict";var n=r(50),i=r(19),a=r(36),o=r(18),s=r(21),u=r(14),l=Object.getOwnPropertyDescriptor;t.f=r(15)?l:function e(t,r){if(t=a(t),r=o(r,!0),u)try{return l(t,r)}catch(c){}if(s(t,r))return i(!n.f.call(t,r),t[r])}},function(e,t,r){"use strict";r(108)("WeakMap")},function(e,t,r){"use strict";var n=r(7);e.exports=function(e){n(n.S,e,{of:function e(){for(var t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return new this(r)}})}},function(e,t,r){"use strict";r(110)("WeakMap")},function(e,t,r){"use strict";var n=r(7),i=r(24),a=r(23),o=r(77);e.exports=function(e){n(n.S,e,{from:function e(t){var r=arguments[1],n,s,u,l;return i(this),(n=void 0!==r)&&i(r),null==t?new this:(s=[],n?(u=0,l=a(r,arguments[2],2),o(t,!1,(function(e){s.push(l(e,u++))}))):o(t,!1,s.push,s),new this(s))}})}},function(e,t,r){"use strict";r(112),e.exports=r(9).String.codePointAt},function(e,t,r){"use strict";var n=r(7),i=r(63)(!1);n(n.P,"String",{codePointAt:function e(t){return i(this,t)}})},function(e,t,r){"use strict";r(114),e.exports=r(9).String.fromCodePoint},function(e,t,r){"use strict";var n=r(7),i=r(40),a=String.fromCharCode,o=String.fromCodePoint;n(n.S+n.F*(!!o&&1!=o.length),"String",{fromCodePoint:function e(t){for(var r=[],n=arguments.length,o=0,s;n>o;){if(s=+arguments[o++],i(s,1114111)!==s)throw RangeError(s+" is not a valid code point");r.push(s<65536?a(s):a(55296+((s-=65536)>>10),s%1024+56320))}return r.join("")}})},function(e,t,r){"use strict";r(116),r(60),e.exports=r(9).Symbol},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(8),a=r(21),o=r(15),s=r(7),u=r(20),l=r(100).KEY,c=r(16),h=r(29),d=r(70),f=r(22),p=r(28),v=r(117),m=r(118),g=r(119),y=r(99),b=r(12),_=r(13),A=r(36),S=r(18),w=r(19),k=r(67),P=r(120),x=r(106),C=r(11),R=r(45),E=x.f,T=C.f,O=P.f,I=i.Symbol,F=i.JSON,L=F&&F.stringify,j="prototype",M=p("_hidden"),D=p("toPrimitive"),N={}.propertyIsEnumerable,q=h("symbol-registry"),W=h("symbols"),U=h("op-symbols"),B=Object.prototype,z="function"==typeof I,G=i.QObject,H=!G||!G.prototype||!G.prototype.findChild,X=o&&c((function(){return 7!=k(T({},"a",{get:function e(){return T(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=E(B,t);n&&delete B[t],T(e,t,r),n&&e!==B&&T(B,t,n)}:T,Y=function e(t){var r=W[t]=k(I.prototype);return r._k=t,r},V=z&&"symbol"==n(I.iterator)?function(e){return"symbol"==(void 0===e?"undefined":n(e))}:function(e){return e instanceof I},Q=function e(t,r,n){return t===B&&Q(U,r,n),b(t),r=S(r,!0),b(n),a(W,r)?(n.enumerable?(a(t,M)&&t[M][r]&&(t[M][r]=!1),n=k(n,{enumerable:w(0,!1)})):(a(t,M)||T(t,M,w(1,{})),t[M][r]=!0),X(t,r,n)):T(t,r,n)},K=function e(t,r){b(t);for(var n=g(r=A(r)),i=0,a=n.length,o;a>i;)Q(t,o=n[i++],r[o]);return t},J=function e(t,r){return void 0===r?k(t):K(k(t),r)},Z=function e(t){var r=N.call(this,t=S(t,!0));return!(this===B&&a(W,t)&&!a(U,t))&&(!(r||!a(this,t)||!a(W,t)||a(this,M)&&this[M][t])||r)},$=function e(t,r){if(t=A(t),r=S(r,!0),t!==B||!a(W,r)||a(U,r)){var n=E(t,r);return!n||!a(W,r)||a(t,M)&&t[M][r]||(n.enumerable=!0),n}},ee=function e(t){for(var r=O(A(t)),n=[],i=0,o;r.length>i;)a(W,o=r[i++])||o==M||o==l||n.push(o);return n},te=function e(t){for(var r=t===B,n=O(r?U:A(t)),i=[],o=0,s;n.length>o;)!a(W,s=n[o++])||r&&!a(B,s)||i.push(W[s]);return i};z||(u((I=function e(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),r=function e(r){this===B&&e.call(U,r),a(this,M)&&a(this[M],t)&&(this[M][t]=!1),X(this,t,w(1,r))};return o&&H&&X(B,t,{configurable:!0,set:r}),Y(t)}).prototype,"toString",(function e(){return this._k})),x.f=$,C.f=Q,r(121).f=P.f=ee,r(50).f=Z,r(49).f=te,o&&!r(30)&&u(B,"propertyIsEnumerable",Z,!0),v.f=function(e){return Y(p(e))}),s(s.G+s.W+s.F*!z,{Symbol:I});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;re.length>ne;)p(re[ne++]);for(var ie=R(p.store),ae=0;ie.length>ae;)m(ie[ae++]);s(s.S+s.F*!z,"Symbol",{for:function e(t){return a(q,t+="")?q[t]:q[t]=I(t)},keyFor:function e(t){if(!V(t))throw TypeError(t+" is not a symbol!");for(var r in q)if(q[r]===t)return r},useSetter:function e(){H=!0},useSimple:function e(){H=!1}}),s(s.S+s.F*!z,"Object",{create:J,defineProperty:Q,defineProperties:K,getOwnPropertyDescriptor:$,getOwnPropertyNames:ee,getOwnPropertySymbols:te}),F&&s(s.S+s.F*(!z||c((function(){var e=I();return"[null]"!=L([e])||"{}"!=L({a:e})||"{}"!=L(Object(e))}))),"JSON",{stringify:function e(t){for(var r=[t],n=1,i,a;arguments.length>n;)r.push(arguments[n++]);if(a=i=r[1],(_(i)||void 0!==t)&&!V(t))return y(i)||(i=function e(t,r){if("function"==typeof a&&(r=a.call(this,t,r)),!V(r))return r}),r[1]=i,L.apply(F,r)}}),I.prototype[D]||r(10)(I.prototype,D,I.prototype.valueOf),d(I,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(e,t,r){"use strict";t.f=r(28)},function(e,t,r){"use strict";var n=r(8),i=r(9),a=r(30),o=r(117),s=r(11).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,r){"use strict";var n=r(45),i=r(49),a=r(50);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var o=r(e),s=a.f,u=0,l;o.length>u;)s.call(e,l=o[u++])&&t.push(l);return t}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(36),a=r(121).f,o={}.toString,s="object"==("undefined"==typeof window?"undefined":n(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function e(t){try{return a(t)}catch(r){return s.slice()}};e.exports.f=function e(t){return s&&"[object Window]"==o.call(t)?u(t):a(i(t))}},function(e,t,r){"use strict";var n=r(46),i=r(48).concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return n(t,i)}},function(e,t,r){"use strict";r(123),e.exports=r(9).Object.values},function(e,t,r){"use strict";var n=r(7),i=r(124)(!1);n(n.S,"Object",{values:function e(t){return i(t)}})},function(e,t,r){"use strict";var n=r(45),i=r(36),a=r(50).f;e.exports=function(e){return function(t){for(var r=i(t),o=n(r),s=o.length,u=0,l=[],c;s>u;)a.call(r,c=o[u++])&&l.push(e?[c,r[c]]:r[c]);return l}}},function(e,t,r){"use strict";var n=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function e(t){t.close()}}),n=!0}catch(i){}t.ReadableStream=n?ReadableStream:r(126).ReadableStream},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){for(var r in t)e[r]=t[r]}(t,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=7)}([function(e,t,r){var i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return void 0===e?"undefined":n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":n(e)},a,o=r(1).assert;function s(e){return"string"==typeof e||"symbol"===(void 0===e?"undefined":i(e))}function u(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}t.typeIsObject=function(e){return"object"===(void 0===e?"undefined":i(e))&&null!==e||"function"==typeof e},t.createDataProperty=function(e,r,n){o(t.typeIsObject(e)),Object.defineProperty(e,r,{value:n,writable:!0,enumerable:!0,configurable:!0})},t.createArrayFromList=function(e){return e.slice()},t.ArrayBufferCopy=function(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)},t.CreateIterResultObject=function(e,t){o("boolean"==typeof t);var r={};return Object.defineProperty(r,"value",{value:e,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(r,"done",{value:t,enumerable:!0,writable:!0,configurable:!0}),r},t.IsFiniteNonNegativeNumber=function(e){return!Number.isNaN(e)&&(e!==1/0&&!(e<0))},t.InvokeOrNoop=function(e,t,r){o(void 0!==e),o(s(t)),o(Array.isArray(r));var n=e[t];if(void 0!==n)return u(n,e,r)},t.PromiseInvokeOrNoop=function(e,r,n){o(void 0!==e),o(s(r)),o(Array.isArray(n));try{return Promise.resolve(t.InvokeOrNoop(e,r,n))}catch(i){return Promise.reject(i)}},t.PromiseInvokeOrPerformFallback=function(e,t,r,n,i){o(void 0!==e),o(s(t)),o(Array.isArray(r)),o(Array.isArray(i));var a=void 0;try{a=e[t]}catch(l){return Promise.reject(l)}if(void 0===a)return n.apply(null,i);try{return Promise.resolve(u(a,e,r))}catch(c){return Promise.reject(c)}},t.TransferArrayBuffer=function(e){return e.slice()},t.ValidateAndNormalizeHighWaterMark=function(e){if(e=Number(e),Number.isNaN(e)||e<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return e},t.ValidateAndNormalizeQueuingStrategy=function(e,r){if(void 0!==e&&"function"!=typeof e)throw new TypeError("size property of a queuing strategy must be a function");return{size:e,highWaterMark:r=t.ValidateAndNormalizeHighWaterMark(r)}}},function(e,t,r){function n(e){e&&e.constructor===i&&setTimeout((function(){throw e}),0)}function i(e){this.name="AssertionError",this.message=e||"",this.stack=(new Error).stack}function a(e,t){if(!e)throw new i(t)}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,e.exports={rethrowAssertionErrorRejection:n,AssertionError:i,assert:a}},function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=r(0),o=a.InvokeOrNoop,s=a.PromiseInvokeOrNoop,u=a.ValidateAndNormalizeQueuingStrategy,l=a.typeIsObject,c=r(1),h=c.assert,d=c.rethrowAssertionErrorRejection,f=r(3),p=f.DequeueValue,v=f.EnqueueValueWithSize,m=f.PeekQueueValue,g=f.ResetQueue,y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.size,a=r.highWaterMark,o=void 0===a?1:a,s;if(i(this,e),this._state="writable",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1,void 0!==t.type)throw new RangeError("Invalid type is specified");this._writableStreamController=new Y(this,t,n,o),this._writableStreamController.__startSteps()}return n(e,[{key:"abort",value:function e(t){return!1===_(this)?Promise.reject(ae("abort")):!0===A(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):S(this,t)}},{key:"getWriter",value:function e(){if(!1===_(this))throw ae("getWriter");return b(this)}},{key:"locked",get:function e(){if(!1===_(this))throw ae("locked");return A(this)}}]),e}();function b(e){return new D(e)}function _(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function A(e){return h(!0===_(e),"IsWritableStreamLocked should only be used on known writable streams"),void 0!==e._writer}function S(e,t){var r=e._state;if("closed"===r)return Promise.resolve(void 0);if("errored"===r)return Promise.reject(e._storedError);var n=new TypeError("Requested to abort");if(void 0!==e._pendingAbortRequest)return Promise.reject(n);h("writable"===r||"erroring"===r,"state must be writable or erroring");var i=!1;"erroring"===r&&(i=!0,t=void 0);var a=new Promise((function(r,n){e._pendingAbortRequest={_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:i}}));return!1===i&&P(e,n),a}function w(e){var t;return h(!0===A(e)),h("writable"===e._state),new Promise((function(t,r){var n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}function k(e,t){var r=e._state;"writable"!==r?(h("erroring"===r),x(e)):P(e,t)}function P(e,t){h(void 0===e._storedError,"stream._storedError === undefined"),h("writable"===e._state,"state must be writable");var r=e._writableStreamController;h(void 0!==r,"controller must not be undefined"),e._state="erroring",e._storedError=t;var n=e._writer;void 0!==n&&z(n,t),!1===I(e)&&!0===r._started&&x(e)}function x(e){h("erroring"===e._state,"stream._state === erroring"),h(!1===I(e),"WritableStreamHasOperationMarkedInFlight(stream) === false"),e._state="errored",e._writableStreamController.__errorSteps();for(var t=e._storedError,r=0;r<e._writeRequests.length;r++){var n;e._writeRequests[r]._reject(t)}if(e._writeRequests=[],void 0!==e._pendingAbortRequest){var i=e._pendingAbortRequest,a;if(e._pendingAbortRequest=void 0,!0===i._wasAlreadyErroring)return i._reject(t),void j(e);e._writableStreamController.__abortSteps(i._reason).then((function(){i._resolve(),j(e)}),(function(t){i._reject(t),j(e)}))}else j(e)}function C(e){h(void 0!==e._inFlightWriteRequest),e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function R(e,t){h(void 0!==e._inFlightWriteRequest),e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,h("writable"===e._state||"erroring"===e._state),k(e,t)}function E(e){h(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0;var t=e._state;h("writable"===t||"erroring"===t),"erroring"===t&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";var r=e._writer;void 0!==r&&fe(r),h(void 0===e._pendingAbortRequest,"stream._pendingAbortRequest === undefined"),h(void 0===e._storedError,"stream._storedError === undefined")}function T(e,t){h(void 0!==e._inFlightCloseRequest),e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,h("writable"===e._state||"erroring"===e._state),void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),k(e,t)}function O(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function I(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}function F(e){h(void 0===e._inFlightCloseRequest),h(void 0!==e._closeRequest),e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function L(e){h(void 0===e._inFlightWriteRequest,"there must be no pending write request"),h(0!==e._writeRequests.length,"writeRequests must not be empty"),e._inFlightWriteRequest=e._writeRequests.shift()}function j(e){h("errored"===e._state,'_stream_.[[state]] is `"errored"`'),void 0!==e._closeRequest&&(h(void 0===e._inFlightCloseRequest),e._closeRequest._reject(e._storedError),e._closeRequest=void 0);var t=e._writer;void 0!==t&&(he(t,e._storedError),t._closedPromise.catch((function(){})))}function M(e,t){h("writable"===e._state),h(!1===O(e));var r=e._writer;void 0!==r&&t!==e._backpressure&&(!0===t?ye(r):(h(!1===t),_e(r))),e._backpressure=t}e.exports={AcquireWritableStreamDefaultWriter:b,IsWritableStream:_,IsWritableStreamLocked:A,WritableStream:y,WritableStreamAbort:S,WritableStreamDefaultControllerError:ie,WritableStreamDefaultWriterCloseWithErrorPropagation:U,WritableStreamDefaultWriterRelease:H,WritableStreamDefaultWriterWrite:X,WritableStreamCloseQueuedOrInFlight:O};var D=function(){function e(t){if(i(this,e),!1===_(t))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===A(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;var r=t._state;if("writable"===r)!1===O(t)&&!0===t._backpressure?pe(this):me(this),ue(this);else if("erroring"===r)ve(this,t._storedError),this._readyPromise.catch((function(){})),ue(this);else if("closed"===r)me(this),ce(this);else{h("errored"===r,"state must be errored");var n=t._storedError;ve(this,n),this._readyPromise.catch((function(){})),le(this,n),this._closedPromise.catch((function(){}))}}return n(e,[{key:"abort",value:function e(t){return!1===N(this)?Promise.reject(oe("abort")):void 0===this._ownerWritableStream?Promise.reject(se("abort")):q(this,t)}},{key:"close",value:function e(){if(!1===N(this))return Promise.reject(oe("close"));var t=this._ownerWritableStream;return void 0===t?Promise.reject(se("close")):!0===O(t)?Promise.reject(new TypeError("cannot close an already-closing stream")):W(this)}},{key:"releaseLock",value:function e(){if(!1===N(this))throw oe("releaseLock");var t=this._ownerWritableStream;void 0!==t&&(h(void 0!==t._writer),H(this))}},{key:"write",value:function e(t){return!1===N(this)?Promise.reject(oe("write")):void 0===this._ownerWritableStream?Promise.reject(se("write to")):X(this,t)}},{key:"closed",get:function e(){return!1===N(this)?Promise.reject(oe("closed")):this._closedPromise}},{key:"desiredSize",get:function e(){if(!1===N(this))throw oe("desiredSize");if(void 0===this._ownerWritableStream)throw se("desiredSize");return G(this)}},{key:"ready",get:function e(){return!1===N(this)?Promise.reject(oe("ready")):this._readyPromise}}]),e}();function N(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function q(e,t){var r=e._ownerWritableStream;return h(void 0!==r),S(r,t)}function W(e){var t=e._ownerWritableStream;h(void 0!==t);var r=t._state;if("closed"===r||"errored"===r)return Promise.reject(new TypeError("The stream (in "+r+" state) is not in the writable state and cannot be closed"));h("writable"===r||"erroring"===r),h(!1===O(t));var n=new Promise((function(e,r){var n={_resolve:e,_reject:r};t._closeRequest=n}));return!0===t._backpressure&&"writable"===r&&_e(e),V(t._writableStreamController),n}function U(e){var t=e._ownerWritableStream;h(void 0!==t);var r=t._state;return!0===O(t)||"closed"===r?Promise.resolve():"errored"===r?Promise.reject(t._storedError):(h("writable"===r||"erroring"===r),W(e))}function B(e,t){"pending"===e._closedPromiseState?he(e,t):de(e,t),e._closedPromise.catch((function(){}))}function z(e,t){"pending"===e._readyPromiseState?ge(e,t):be(e,t),e._readyPromise.catch((function(){}))}function G(e){var t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:K(t._writableStreamController)}function H(e){var t=e._ownerWritableStream;h(void 0!==t),h(t._writer===e);var r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");z(e,r),B(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function X(e,t){var r=e._ownerWritableStream;h(void 0!==r);var n=r._writableStreamController,i=Q(n,t);if(r!==e._ownerWritableStream)return Promise.reject(se("write to"));var a=r._state;if("errored"===a)return Promise.reject(r._storedError);if(!0===O(r)||"closed"===a)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return Promise.reject(r._storedError);h("writable"===a);var o=w(r);return J(n,t,i),o}var Y=function(){function e(t,r,n,a){if(i(this,e),!1===_(t))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==t._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=t,this._underlyingSink=r,this._queue=void 0,this._queueTotalSize=void 0,g(this),this._started=!1;var o=u(n,a),s;this._strategySize=o.size,this._strategyHWM=o.highWaterMark,M(t,ne(this))}return n(e,[{key:"error",value:function e(t){if(!1===Z(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");var r;"writable"===this._controlledWritableStream._state&&ie(this,t)}},{key:"__abortSteps",value:function e(t){return s(this._underlyingSink,"abort",[t])}},{key:"__errorSteps",value:function e(){g(this)}},{key:"__startSteps",value:function e(){var t=this,r=o(this._underlyingSink,"start",[this]),n=this._controlledWritableStream;Promise.resolve(r).then((function(){h("writable"===n._state||"erroring"===n._state),t._started=!0,$(t)}),(function(e){h("writable"===n._state||"erroring"===n._state),t._started=!0,k(n,e)})).catch(d)}}]),e}();function V(e){v(e,"close",0),$(e)}function Q(e,t){var r=e._strategySize;if(void 0===r)return 1;try{return r(t)}catch(n){return ee(e,n),1}}function K(e){return e._strategyHWM-e._queueTotalSize}function J(e,t,r){var n={chunk:t};try{v(e,n,r)}catch(o){return void ee(e,o)}var i=e._controlledWritableStream,a;!1===O(i)&&"writable"===i._state&&M(i,ne(e));$(e)}function Z(e){return!!l(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingSink")}function $(e){var t=e._controlledWritableStream;if(!1!==e._started&&void 0===t._inFlightWriteRequest){var r=t._state;if("closed"!==r&&"errored"!==r)if("erroring"!==r){if(0!==e._queue.length){var n=m(e);"close"===n?te(e):re(e,n.chunk)}}else x(t)}}function ee(e,t){"writable"===e._controlledWritableStream._state&&ie(e,t)}function te(e){var t=e._controlledWritableStream,r;F(t),p(e),h(0===e._queue.length,"queue must be empty once the final write record is dequeued"),s(e._underlyingSink,"close",[]).then((function(){E(t)}),(function(e){T(t,e)})).catch(d)}function re(e,t){var r=e._controlledWritableStream,n;L(r),s(e._underlyingSink,"write",[t,e]).then((function(){C(r);var t=r._state;if(h("writable"===t||"erroring"===t),p(e),!1===O(r)&&"writable"===t){var n=ne(e);M(r,n)}$(e)}),(function(e){R(r,e)})).catch(d)}function ne(e){var t;return K(e)<=0}function ie(e,t){var r=e._controlledWritableStream;h("writable"===r._state),P(r,t)}function ae(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function oe(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function se(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function ue(e){e._closedPromise=new Promise((function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function le(e,t){e._closedPromise=Promise.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function ce(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function he(e,t){h(void 0!==e._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),h(void 0!==e._closedPromise_reject,"writer._closedPromise_reject !== undefined"),h("pending"===e._closedPromiseState,"writer._closedPromiseState is pending"),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected"}function de(e,t){h(void 0===e._closedPromise_resolve,"writer._closedPromise_resolve === undefined"),h(void 0===e._closedPromise_reject,"writer._closedPromise_reject === undefined"),h("pending"!==e._closedPromiseState,"writer._closedPromiseState is not pending"),e._closedPromise=Promise.reject(t),e._closedPromiseState="rejected"}function fe(e){h(void 0!==e._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),h(void 0!==e._closedPromise_reject,"writer._closedPromise_reject !== undefined"),h("pending"===e._closedPromiseState,"writer._closedPromiseState is pending"),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved"}function pe(e){e._readyPromise=new Promise((function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function ve(e,t){e._readyPromise=Promise.reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function me(e){e._readyPromise=Promise.resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}function ge(e,t){h(void 0!==e._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),h(void 0!==e._readyPromise_reject,"writer._readyPromise_reject !== undefined"),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected"}function ye(e){h(void 0===e._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),h(void 0===e._readyPromise_reject,"writer._readyPromise_reject === undefined"),e._readyPromise=new Promise((function(t,r){e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function be(e,t){h(void 0===e._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),h(void 0===e._readyPromise_reject,"writer._readyPromise_reject === undefined"),e._readyPromise=Promise.reject(t),e._readyPromiseState="rejected"}function _e(e){h(void 0!==e._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),h(void 0!==e._readyPromise_reject,"writer._readyPromise_reject !== undefined"),e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled"}},function(e,t,r){var n,i=r(0).IsFiniteNonNegativeNumber,a,o=r(1).assert;t.DequeueValue=function(e){o("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),o(e._queue.length>0,"Spec-level failure: should never dequeue from an empty queue.");var t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value},t.EnqueueValueWithSize=function(e,t,r){if(o("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]]."),r=Number(r),!i(r))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r},t.PeekQueueValue=function(e){var t;return o("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),o(e._queue.length>0,"Spec-level failure: should never peek at an empty queue."),e._queue[0].value},t.ResetQueue=function(e){o("_queue"in e&&"_queueTotalSize"in e,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]]."),e._queue=[],e._queueTotalSize=0}},function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=r(0),o=a.ArrayBufferCopy,s=a.CreateIterResultObject,u=a.IsFiniteNonNegativeNumber,l=a.InvokeOrNoop,c=a.PromiseInvokeOrNoop,h=a.TransferArrayBuffer,d=a.ValidateAndNormalizeQueuingStrategy,f=a.ValidateAndNormalizeHighWaterMark,p=r(0),v=p.createArrayFromList,m=p.createDataProperty,g=p.typeIsObject,y=r(1),b=y.assert,_=y.rethrowAssertionErrorRejection,A=r(3),S=A.DequeueValue,w=A.EnqueueValueWithSize,k=A.ResetQueue,P=r(2),x=P.AcquireWritableStreamDefaultWriter,C=P.IsWritableStream,R=P.IsWritableStreamLocked,E=P.WritableStreamAbort,T=P.WritableStreamDefaultWriterCloseWithErrorPropagation,O=P.WritableStreamDefaultWriterRelease,I=P.WritableStreamDefaultWriterWrite,F=P.WritableStreamCloseQueuedOrInFlight,L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.size,a=r.highWaterMark;i(this,e),this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0;var o=t.type,s;if("bytes"===String(o))void 0===a&&(a=0),this._readableStreamController=new _e(this,t,a);else{if(void 0!==o)throw new RangeError("Invalid type is specified");void 0===a&&(a=1),this._readableStreamController=new ce(this,t,n,a)}}return n(e,[{key:"cancel",value:function e(t){return!1===D(this)?Promise.reject(He("cancel")):!0===q(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):X(this,t)}},{key:"getReader",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.mode;if(!1===D(this))throw He("getReader");if(void 0===r)return M(this);if("byob"===(r=String(r)))return j(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function e(t,r){var n=t.writable,i=t.readable,a;return it(this.pipeTo(n,r)),i}},{key:"pipeTo",value:function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.preventClose,a=n.preventAbort,o=n.preventCancel;if(!1===D(this))return Promise.reject(He("pipeTo"));if(!1===C(t))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(i=Boolean(i),a=Boolean(a),o=Boolean(o),!0===q(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(!0===R(t))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var s=M(this),u=x(t),l=!1,c=Promise.resolve();return new Promise((function(e,n){function h(){return c=Promise.resolve(),!0===l?Promise.resolve():u._readyPromise.then((function(){return le(s).then((function(e){var t=e.value,r;!0!==e.done&&(c=I(u,t).catch((function(){})))}))})).then(h)}if(p(r,s._closedPromise,(function(e){!1===a?m((function(){return E(t,e)}),!0,e):g(!0,e)})),p(t,u._closedPromise,(function(e){!1===o?m((function(){return X(r,e)}),!0,e):g(!0,e)})),v(r,s._closedPromise,(function(){!1===i?m((function(){return T(u)})):g()})),!0===F(t)||"closed"===t._state){var d=new TypeError("the destination writable stream closed before all data could be piped to it");!1===o?m((function(){return X(r,d)}),!0,d):g(!0,d)}function f(){var e=c;return c.then((function(){return e!==c?f():void 0}))}function p(e,t,r){"errored"===e._state?r(e._storedError):t.catch(r).catch(_)}function v(e,t,r){"closed"===e._state?r():t.then(r).catch(_)}function m(e,r,n){function i(){e().then((function(){return y(r,n)}),(function(e){return y(!0,e)})).catch(_)}!0!==l&&(l=!0,"writable"===t._state&&!1===F(t)?f().then(i):i())}function g(e,r){!0!==l&&(l=!0,"writable"===t._state&&!1===F(t)?f().then((function(){return y(e,r)})).catch(_):y(e,r))}function y(t,r){O(u),se(s),t?n(r):e(void 0)}h().catch((function(e){c=Promise.resolve(),_(e)}))}))}},{key:"tee",value:function e(){if(!1===D(this))throw He("tee");var t=W(this,!1);return v(t)}},{key:"locked",get:function e(){if(!1===D(this))throw He("locked");return q(this)}}]),e}();function j(e){return new re(e)}function M(e){return new te(e)}function D(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function N(e){return b(!0===D(e),"IsReadableStreamDisturbed should only be used on known readable streams"),e._disturbed}function q(e){return b(!0===D(e),"IsReadableStreamLocked should only be used on known readable streams"),void 0!==e._reader}function W(e,t){b(!0===D(e)),b("boolean"==typeof t);var r=M(e),n={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};n.promise=new Promise((function(e){n._resolve=e}));var i=U();i._reader=r,i._teeState=n,i._cloneForBranch2=t;var a=B();a._stream=e,a._teeState=n;var o=z();o._stream=e,o._teeState=n;var s=Object.create(Object.prototype);m(s,"pull",i),m(s,"cancel",a);var u=new L(s),l=Object.create(Object.prototype);m(l,"pull",i),m(l,"cancel",o);var c=new L(l);return i._branch1=u._readableStreamController,i._branch2=c._readableStreamController,r._closedPromise.catch((function(e){!0!==n.closedOrErrored&&(me(i._branch1,e),me(i._branch2,e),n.closedOrErrored=!0)})),[u,c]}function U(){function e(){var t=e._reader,r=e._branch1,n=e._branch2,i=e._teeState;return le(t).then((function(e){b(g(e));var t=e.value,a=e.done;if(b("boolean"==typeof a),!0===a&&!1===i.closedOrErrored&&(!1===i.canceled1&&pe(r),!1===i.canceled2&&pe(n),i.closedOrErrored=!0),!0!==i.closedOrErrored){var o=t,s=t;!1===i.canceled1&&ve(r,o),!1===i.canceled2&&ve(n,s)}}))}return e}function B(){function e(t){var r=e._stream,n=e._teeState;if(n.canceled1=!0,n.reason1=t,!0===n.canceled2){var i,a=X(r,v([n.reason1,n.reason2]));n._resolve(a)}return n.promise}return e}function z(){function e(t){var r=e._stream,n=e._teeState;if(n.canceled2=!0,n.reason2=t,!0===n.canceled1){var i,a=X(r,v([n.reason1,n.reason2]));n._resolve(a)}return n.promise}return e}function G(e){var t;return b(!0===ne(e._reader)),b("readable"===e._state||"closed"===e._state),new Promise((function(t,r){var n={_resolve:t,_reject:r};e._reader._readIntoRequests.push(n)}))}function H(e){var t;return b(!0===ie(e._reader)),b("readable"===e._state),new Promise((function(t,r){var n={_resolve:t,_reject:r};e._reader._readRequests.push(n)}))}function X(e,t){return e._disturbed=!0,"closed"===e._state?Promise.resolve(void 0):"errored"===e._state?Promise.reject(e._storedError):(Y(e),e._readableStreamController.__cancelSteps(t).then((function(){})));var r}function Y(e){b("readable"===e._state),e._state="closed";var t=e._reader;if(void 0!==t){if(!0===ie(t)){for(var r=0;r<t._readRequests.length;r++){var n;(0,t._readRequests[r]._resolve)(s(void 0,!0))}t._readRequests=[]}$e(t)}}function V(e,t){b(!0===D(e),"stream must be ReadableStream"),b("readable"===e._state,"state must be readable"),e._state="errored",e._storedError=t;var r=e._reader;if(void 0!==r){if(!0===ie(r)){for(var n=0;n<r._readRequests.length;n++){var i;r._readRequests[n]._reject(t)}r._readRequests=[]}else{b(ne(r),"reader must be ReadableStreamBYOBReader");for(var a=0;a<r._readIntoRequests.length;a++){var o;r._readIntoRequests[a]._reject(t)}r._readIntoRequests=[]}Je(r,t),r._closedPromise.catch((function(){}))}}function Q(e,t,r){var n=e._reader,i;b(n._readIntoRequests.length>0),n._readIntoRequests.shift()._resolve(s(t,r))}function K(e,t,r){var n=e._reader,i;b(n._readRequests.length>0),n._readRequests.shift()._resolve(s(t,r))}function J(e){return e._reader._readIntoRequests.length}function Z(e){return e._reader._readRequests.length}function $(e){var t=e._reader;return void 0!==t&&!1!==ne(t)}function ee(e){var t=e._reader;return void 0!==t&&!1!==ie(t)}e.exports={ReadableStream:L,IsReadableStreamDisturbed:N,ReadableStreamDefaultControllerClose:pe,ReadableStreamDefaultControllerEnqueue:ve,ReadableStreamDefaultControllerError:me,ReadableStreamDefaultControllerGetDesiredSize:ye};var te=function(){function e(t){if(i(this,e),!1===D(t))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===q(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ae(this,t),this._readRequests=[]}return n(e,[{key:"cancel",value:function e(t){return!1===ie(this)?Promise.reject(Ye("cancel")):void 0===this._ownerReadableStream?Promise.reject(Xe("cancel")):oe(this,t)}},{key:"read",value:function e(){return!1===ie(this)?Promise.reject(Ye("read")):void 0===this._ownerReadableStream?Promise.reject(Xe("read from")):le(this)}},{key:"releaseLock",value:function e(){if(!1===ie(this))throw Ye("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");se(this)}}},{key:"closed",get:function e(){return!1===ie(this)?Promise.reject(Ye("closed")):this._closedPromise}}]),e}(),re=function(){function e(t){if(i(this,e),!D(t))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===Ae(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(q(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ae(this,t),this._readIntoRequests=[]}return n(e,[{key:"cancel",value:function e(t){return ne(this)?void 0===this._ownerReadableStream?Promise.reject(Xe("cancel")):oe(this,t):Promise.reject(et("cancel"))}},{key:"read",value:function e(t){return ne(this)?void 0===this._ownerReadableStream?Promise.reject(Xe("read from")):ArrayBuffer.isView(t)?0===t.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):ue(this,t):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(et("read"))}},{key:"releaseLock",value:function e(){if(!ne(this))throw et("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");se(this)}}},{key:"closed",get:function e(){return ne(this)?this._closedPromise:Promise.reject(et("closed"))}}]),e}();function ne(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function ie(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function ae(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?Ve(e):"closed"===t._state?Ke(e):(b("errored"===t._state,"state must be errored"),Qe(e,t._storedError),e._closedPromise.catch((function(){})))}function oe(e,t){var r=e._ownerReadableStream;return b(void 0!==r),X(r,t)}function se(e){b(void 0!==e._ownerReadableStream),b(e._ownerReadableStream._reader===e),"readable"===e._ownerReadableStream._state?Je(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Ze(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._closedPromise.catch((function(){})),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function ue(e,t){var r=e._ownerReadableStream;return b(void 0!==r),r._disturbed=!0,"errored"===r._state?Promise.reject(r._storedError):Fe(r._readableStreamController,t)}function le(e){var t=e._ownerReadableStream;return b(void 0!==t),t._disturbed=!0,"closed"===t._state?Promise.resolve(s(void 0,!0)):"errored"===t._state?Promise.reject(t._storedError):(b("readable"===t._state),t._readableStreamController.__pullSteps())}var ce=function(){function e(t,r,n,a){if(i(this,e),!1===D(t))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==t._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=t,this._underlyingSource=r,this._queue=void 0,this._queueTotalSize=void 0,k(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;var o=d(n,a);this._strategySize=o.size,this._strategyHWM=o.highWaterMark;var s=this,u=l(r,"start",[this]);Promise.resolve(u).then((function(){s._started=!0,b(!1===s._pulling),b(!1===s._pullAgain),de(s)}),(function(e){ge(s,e)})).catch(_)}return n(e,[{key:"close",value:function e(){if(!1===he(this))throw tt("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be closed");pe(this)}},{key:"enqueue",value:function e(t){if(!1===he(this))throw tt("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var r=this._controlledReadableStream._state;if("readable"!==r)throw new TypeError("The stream (in "+r+" state) is not in the readable state and cannot be enqueued to");return ve(this,t)}},{key:"error",value:function e(t){if(!1===he(this))throw tt("error");var r=this._controlledReadableStream;if("readable"!==r._state)throw new TypeError("The stream is "+r._state+" and so cannot be errored");me(this,t)}},{key:"__cancelSteps",value:function e(t){return k(this),c(this._underlyingSource,"cancel",[t])}},{key:"__pullSteps",value:function e(){var t=this._controlledReadableStream;if(this._queue.length>0){var r=S(this);return!0===this._closeRequested&&0===this._queue.length?Y(t):de(this),Promise.resolve(s(r,!1))}var n=H(t);return de(this),n}},{key:"desiredSize",get:function e(){if(!1===he(this))throw tt("desiredSize");return ye(this)}}]),e}();function he(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingSource")}function de(e){var t,r;!1!==fe(e)&&(!0!==e._pulling?(b(!1===e._pullAgain),e._pulling=!0,c(e._underlyingSource,"pull",[e]).then((function(){if(e._pulling=!1,!0===e._pullAgain)return e._pullAgain=!1,de(e)}),(function(t){ge(e,t)})).catch(_)):e._pullAgain=!0)}function fe(e){var t=e._controlledReadableStream,r;return"closed"!==t._state&&"errored"!==t._state&&(!0!==e._closeRequested&&(!1!==e._started&&(!0===q(t)&&Z(t)>0||ye(e)>0)))}function pe(e){var t=e._controlledReadableStream;b(!1===e._closeRequested),b("readable"===t._state),e._closeRequested=!0,0===e._queue.length&&Y(t)}function ve(e,t){var r=e._controlledReadableStream;if(b(!1===e._closeRequested),b("readable"===r._state),!0===q(r)&&Z(r)>0)K(r,t,!1);else{var n=1;if(void 0!==e._strategySize){var i=e._strategySize;try{n=i(t)}catch(a){throw ge(e,a),a}}try{w(e,t,n)}catch(o){throw ge(e,o),o}}de(e)}function me(e,t){var r=e._controlledReadableStream;b("readable"===r._state),k(e),V(r,t)}function ge(e,t){"readable"===e._controlledReadableStream._state&&me(e,t)}function ye(e){var t,r=e._controlledReadableStream._state;return"errored"===r?null:"closed"===r?0:e._strategyHWM-e._queueTotalSize}var be=function(){function e(t,r){i(this,e),this._associatedReadableByteStreamController=t,this._view=r}return n(e,[{key:"respond",value:function e(t){if(!1===Se(this))throw rt("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");ze(this._associatedReadableByteStreamController,t)}},{key:"respondWithNewView",value:function e(t){if(!1===Se(this))throw rt("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");Ge(this._associatedReadableByteStreamController,t)}},{key:"view",get:function e(){return this._view}}]),e}(),_e=function(){function e(t,r,n){if(i(this,e),!1===D(t))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==t._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=t,this._underlyingByteSource=r,this._pullAgain=!1,this._pulling=!1,ke(this),this._queue=this._queueTotalSize=void 0,k(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=f(n);var a=r.autoAllocateChunkSize;if(void 0!==a&&(!1===Number.isInteger(a)||a<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=a,this._pendingPullIntos=[];var o=this,s=l(r,"start",[this]);Promise.resolve(s).then((function(){o._started=!0,b(!1===o._pulling),b(!1===o._pullAgain),we(o)}),(function(e){"readable"===t._state&&Ue(o,e)})).catch(_)}return n(e,[{key:"close",value:function e(){if(!1===Ae(this))throw nt("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var t=this._controlledReadableStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be closed");qe(this)}},{key:"enqueue",value:function e(t){if(!1===Ae(this))throw nt("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var r=this._controlledReadableStream._state;if("readable"!==r)throw new TypeError("The stream (in "+r+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(t))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");We(this,t)}},{key:"error",value:function e(t){if(!1===Ae(this))throw nt("error");var r=this._controlledReadableStream;if("readable"!==r._state)throw new TypeError("The stream is "+r._state+" and so cannot be errored");Ue(this,t)}},{key:"__cancelSteps",value:function e(t){var r;this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0);return k(this),c(this._underlyingByteSource,"cancel",[t])}},{key:"__pullSteps",value:function e(){var t=this._controlledReadableStream;if(b(!0===ee(t)),this._queueTotalSize>0){b(0===Z(t));var r=this._queue.shift();this._queueTotalSize-=r.byteLength,Te(this);var n=void 0;try{n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}catch(l){return Promise.reject(l)}return Promise.resolve(s(n,!1))}var i=this._autoAllocateChunkSize;if(void 0!==i){var a=void 0;try{a=new ArrayBuffer(i)}catch(c){return Promise.reject(c)}var o={buffer:a,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}var u=H(t);return we(this),u}},{key:"byobRequest",get:function e(){if(!1===Ae(this))throw nt("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var t=this._pendingPullIntos[0],r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled);this._byobRequest=new be(this,r)}return this._byobRequest}},{key:"desiredSize",get:function e(){if(!1===Ae(this))throw nt("desiredSize");return Be(this)}}]),e}();function Ae(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_underlyingByteSource")}function Se(e){return!!g(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function we(e){var t,r;!1!==Ne(e)&&(!0!==e._pulling?(b(!1===e._pullAgain),e._pulling=!0,c(e._underlyingByteSource,"pull",[e]).then((function(){e._pulling=!1,!0===e._pullAgain&&(e._pullAgain=!1,we(e))}),(function(t){"readable"===e._controlledReadableStream._state&&Ue(e,t)})).catch(_)):e._pullAgain=!0)}function ke(e){Oe(e),e._pendingPullIntos=[]}function Pe(e,t){b("errored"!==e._state,"state must not be errored");var r=!1;"closed"===e._state&&(b(0===t.bytesFilled),r=!0);var n=xe(t);"default"===t.readerType?K(e,n,r):(b("byob"===t.readerType),Q(e,n,r))}function xe(e){var t=e.bytesFilled,r=e.elementSize;return b(t<=e.byteLength),b(t%r==0),new e.ctor(e.buffer,e.byteOffset,t/r)}function Ce(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Re(e,t){var r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+i,s=a-a%r,u=i,l=!1;s>n&&(u=s-t.bytesFilled,l=!0);for(var c=e._queue;u>0;){var h=c[0],d=Math.min(u,h.byteLength),f=t.byteOffset+t.bytesFilled;o(t.buffer,f,h.buffer,h.byteOffset,d),h.byteLength===d?c.shift():(h.byteOffset+=d,h.byteLength-=d),e._queueTotalSize-=d,Ee(e,d,t),u-=d}return!1===l&&(b(0===e._queueTotalSize,"queue must be empty"),b(t.bytesFilled>0),b(t.bytesFilled<t.elementSize)),l}function Ee(e,t,r){b(0===e._pendingPullIntos.length||e._pendingPullIntos[0]===r),Oe(e),r.bytesFilled+=t}function Te(e){b("readable"===e._controlledReadableStream._state),0===e._queueTotalSize&&!0===e._closeRequested?Y(e._controlledReadableStream):we(e)}function Oe(e){void 0!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=void 0,e._byobRequest=void 0)}function Ie(e){for(b(!1===e._closeRequested);e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;var t=e._pendingPullIntos[0];!0===Re(e,t)&&(De(e),Pe(e._controlledReadableStream,t))}}function Fe(e,t){var r=e._controlledReadableStream,n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);var i=t.constructor,a={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,ctor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return a.buffer=h(a.buffer),e._pendingPullIntos.push(a),G(r);if("closed"===r._state){var o=new t.constructor(a.buffer,a.byteOffset,0);return Promise.resolve(s(o,!0))}if(e._queueTotalSize>0){if(!0===Re(e,a)){var u=xe(a);return Te(e),Promise.resolve(s(u,!1))}if(!0===e._closeRequested){var l=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ue(e,l),Promise.reject(l)}}a.buffer=h(a.buffer),e._pendingPullIntos.push(a);var c=G(r);return we(e),c}function Le(e,t){t.buffer=h(t.buffer),b(0===t.bytesFilled,"bytesFilled must be 0");var r=e._controlledReadableStream;if(!0===$(r))for(;J(r)>0;){var n;Pe(r,De(e))}}function je(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");if(Ee(e,t,r),!(r.bytesFilled<r.elementSize)){De(e);var n=r.bytesFilled%r.elementSize;if(n>0){var i=r.byteOffset+r.bytesFilled,a=r.buffer.slice(i-n,i);Ce(e,a,0,a.byteLength)}r.buffer=h(r.buffer),r.bytesFilled-=n,Pe(e._controlledReadableStream,r),Ie(e)}}function Me(e,t){var r=e._pendingPullIntos[0],n=e._controlledReadableStream;if("closed"===n._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");Le(e,r)}else b("readable"===n._state),je(e,t,r)}function De(e){var t=e._pendingPullIntos.shift();return Oe(e),t}function Ne(e){var t=e._controlledReadableStream;return"readable"===t._state&&(!0!==e._closeRequested&&(!1!==e._started&&(!0===ee(t)&&Z(t)>0||(!0===$(t)&&J(t)>0||Be(e)>0))))}function qe(e){var t=e._controlledReadableStream;if(b(!1===e._closeRequested),b("readable"===t._state),e._queueTotalSize>0)e._closeRequested=!0;else{var r;if(e._pendingPullIntos.length>0)if(e._pendingPullIntos[0].bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ue(e,n),n}Y(t)}}function We(e,t){var r=e._controlledReadableStream;b(!1===e._closeRequested),b("readable"===r._state);var n=t.buffer,i=t.byteOffset,a=t.byteLength,o=h(n),s;!0===ee(r)?0===Z(r)?Ce(e,o,i,a):(b(0===e._queue.length),K(r,new Uint8Array(o,i,a),!1)):!0===$(r)?(Ce(e,o,i,a),Ie(e)):(b(!1===q(r),"stream must not be locked"),Ce(e,o,i,a))}function Ue(e,t){var r=e._controlledReadableStream;b("readable"===r._state),ke(e),k(e),V(r,t)}function Be(e){var t,r=e._controlledReadableStream._state;return"errored"===r?null:"closed"===r?0:e._strategyHWM-e._queueTotalSize}function ze(e,t){if(t=Number(t),!1===u(t))throw new RangeError("bytesWritten must be a finite");b(e._pendingPullIntos.length>0),Me(e,t)}function Ge(e,t){b(e._pendingPullIntos.length>0);var r=e._pendingPullIntos[0];if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,Me(e,t.byteLength)}function He(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function Xe(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Ye(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}function Ve(e){e._closedPromise=new Promise((function(t,r){e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function Qe(e,t){e._closedPromise=Promise.reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function Ke(e){e._closedPromise=Promise.resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function Je(e,t){b(void 0!==e._closedPromise_resolve),b(void 0!==e._closedPromise_reject),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function Ze(e,t){b(void 0===e._closedPromise_resolve),b(void 0===e._closedPromise_reject),e._closedPromise=Promise.reject(t)}function $e(e){b(void 0!==e._closedPromise_resolve),b(void 0!==e._closedPromise_reject),e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0}function et(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function tt(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function rt(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function nt(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function it(e){try{Promise.prototype.then.call(e,void 0,(function(){}))}catch(t){}}},function(e,t,r){var n=r(6),i=r(4),a=r(2);t.TransformStream=n.TransformStream,t.ReadableStream=i.ReadableStream,t.IsReadableStreamDisturbed=i.IsReadableStreamDisturbed,t.ReadableStreamDefaultControllerClose=i.ReadableStreamDefaultControllerClose,t.ReadableStreamDefaultControllerEnqueue=i.ReadableStreamDefaultControllerEnqueue,t.ReadableStreamDefaultControllerError=i.ReadableStreamDefaultControllerError,t.ReadableStreamDefaultControllerGetDesiredSize=i.ReadableStreamDefaultControllerGetDesiredSize,t.AcquireWritableStreamDefaultWriter=a.AcquireWritableStreamDefaultWriter,t.IsWritableStream=a.IsWritableStream,t.IsWritableStreamLocked=a.IsWritableStreamLocked,t.WritableStream=a.WritableStream,t.WritableStreamAbort=a.WritableStreamAbort,t.WritableStreamDefaultControllerError=a.WritableStreamDefaultControllerError,t.WritableStreamDefaultWriterCloseWithErrorPropagation=a.WritableStreamDefaultWriterCloseWithErrorPropagation,t.WritableStreamDefaultWriterRelease=a.WritableStreamDefaultWriterRelease,t.WritableStreamDefaultWriterWrite=a.WritableStreamDefaultWriterWrite},function(e,t,r){var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a,o=r(1).assert,s=r(0),u=s.InvokeOrNoop,l=s.PromiseInvokeOrPerformFallback,c=s.PromiseInvokeOrNoop,h=s.typeIsObject,d=r(4),f=d.ReadableStream,p=d.ReadableStreamDefaultControllerClose,v=d.ReadableStreamDefaultControllerEnqueue,m=d.ReadableStreamDefaultControllerError,g=d.ReadableStreamDefaultControllerGetDesiredSize,y=r(2),b=y.WritableStream,_=y.WritableStreamDefaultControllerError;function A(e){if(!0===e._errored)throw new TypeError("TransformStream is already errored");if(!0===e._readableClosed)throw new TypeError("Readable side is already closed");k(e)}function S(e,t){if(!0===e._errored)throw new TypeError("TransformStream is already errored");if(!0===e._readableClosed)throw new TypeError("Readable side is already closed");var r=e._readableController,n,i;try{v(r,t)}catch(a){throw e._readableClosed=!0,P(e,a),e._storedError}!0===g(r)<=0&&!1===e._backpressure&&R(e,!0)}function w(e,t){if(!0===e._errored)throw new TypeError("TransformStream is already errored");x(e,t)}function k(e){o(!1===e._errored),o(!1===e._readableClosed);try{p(e._readableController)}catch(t){o(!1)}e._readableClosed=!0}function P(e,t){!1===e._errored&&x(e,t)}function x(e,t){o(!1===e._errored),e._errored=!0,e._storedError=t,!1===e._writableDone&&_(e._writableController,t),!1===e._readableClosed&&m(e._readableController,t)}function C(e){return o(void 0!==e._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!1===e._backpressure?Promise.resolve():(o(!0===e._backpressure,"_backpressure should have been initialized"),e._backpressureChangePromise)}function R(e,t){o(e._backpressure!==t,"TransformStreamSetBackpressure() should be called only when backpressure is changed"),void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(t),e._backpressureChangePromise=new Promise((function(t){e._backpressureChangePromise_resolve=t})),e._backpressureChangePromise.then((function(e){o(e!==t,"_backpressureChangePromise should be fulfilled only when backpressure is changed")})),e._backpressure=t}function E(e,t){var r;return S(t._controlledTransformStream,e),Promise.resolve()}function T(e,t){o(!1===e._errored),o(!1===e._transforming),o(!1===e._backpressure),e._transforming=!0;var r=e._transformer,n=e._transformStreamController,i;return l(r,"transform",[t,n],E,[t,n]).then((function(){return e._transforming=!1,C(e)}),(function(t){return P(e,t),Promise.reject(t)}))}function O(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function I(e){return!!h(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}var F=function(){function e(t,r){i(this,e),this._transformStream=t,this._startPromise=r}return n(e,[{key:"start",value:function e(t){var r=this._transformStream;return r._writableController=t,this._startPromise.then((function(){return C(r)}))}},{key:"write",value:function e(t){var r;return T(this._transformStream,t)}},{key:"abort",value:function e(){var t=this._transformStream;t._writableDone=!0,x(t,new TypeError("Writable side aborted"))}},{key:"close",value:function e(){var t=this._transformStream,r;return o(!1===t._transforming),t._writableDone=!0,c(t._transformer,"flush",[t._transformStreamController]).then((function(){return!0===t._errored?Promise.reject(t._storedError):(!1===t._readableClosed&&k(t),Promise.resolve())})).catch((function(e){return P(t,e),Promise.reject(t._storedError)}))}}]),e}(),L=function(){function e(t,r){i(this,e),this._transformStream=t,this._startPromise=r}return n(e,[{key:"start",value:function e(t){var r=this._transformStream;return r._readableController=t,this._startPromise.then((function(){return o(void 0!==r._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!0===r._backpressure?Promise.resolve():(o(!1===r._backpressure,"_backpressure should have been initialized"),r._backpressureChangePromise)}))}},{key:"pull",value:function e(){var t=this._transformStream;return o(!0===t._backpressure,"pull() should be never called while _backpressure is false"),o(void 0!==t._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),R(t,!1),t._backpressureChangePromise}},{key:"cancel",value:function e(){var t=this._transformStream;t._readableClosed=!0,x(t,new TypeError("Readable side canceled"))}}]),e}(),j=function(){function e(t){if(i(this,e),!1===I(t))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==t._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=t}return n(e,[{key:"enqueue",value:function e(t){if(!1===O(this))throw D("enqueue");S(this._controlledTransformStream,t)}},{key:"close",value:function e(){if(!1===O(this))throw D("close");A(this._controlledTransformStream)}},{key:"error",value:function e(t){if(!1===O(this))throw D("error");w(this._controlledTransformStream,t)}},{key:"desiredSize",get:function e(){if(!1===O(this))throw D("desiredSize");var t,r=this._controlledTransformStream._readableController;return g(r)}}]),e}(),M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this._transformer=t;var r=t.readableStrategy,n=t.writableStrategy;this._transforming=!1,this._errored=!1,this._storedError=void 0,this._writableController=void 0,this._readableController=void 0,this._transformStreamController=void 0,this._writableDone=!1,this._readableClosed=!1,this._backpressure=void 0,this._backpressureChangePromise=void 0,this._backpressureChangePromise_resolve=void 0,this._transformStreamController=new j(this);var a=void 0,s=new Promise((function(e){a=e})),l=new L(this,s);this._readable=new f(l,r);var c=new F(this,s),h;this._writable=new b(c,n),o(void 0!==this._writableController),o(void 0!==this._readableController),R(this,g(this._readableController)<=0);var d=this,p=u(t,"start",[d._transformStreamController]);a(p),s.catch((function(e){!1===d._errored&&(d._errored=!0,d._storedError=e)}))}return n(e,[{key:"readable",get:function e(){if(!1===I(this))throw N("readable");return this._readable}},{key:"writable",get:function e(){if(!1===I(this))throw N("writable");return this._writable}}]),e}();function D(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function N(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}e.exports={TransformStream:M}},function(e,t,r){e.exports=r(5)}]))},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=!1;try{if("function"==typeof URL&&"object"===n(URL.prototype)&&"origin"in URL.prototype){var a=new URL("b","http://a");a.pathname="c%20d",i="http://a/c%20d"===a.href}}catch(u){}if(i)t.URL=URL;else{var o=r(128).URL,s=r(3).URL;s&&(o.createObjectURL=function(e){return s.createObjectURL.apply(s,arguments)},o.revokeObjectURL=function(e){s.revokeObjectURL(e)}),t.URL=o}},function(e,t,r){"use strict";!function e(){var r=Object.create(null);r.ftp=21,r.file=0,r.gopher=70,r.http=80,r.https=443,r.ws=80,r.wss=443;var n=Object.create(null);function i(e){return void 0!==r[e]}function a(){f.call(this),this._isInvalid=!0}function o(e){return""===e&&a.call(this),e.toLowerCase()}function s(e){var t=e.charCodeAt(0);return t>32&&t<127&&-1===[34,35,60,62,63,96].indexOf(t)?e:encodeURIComponent(e)}function u(e){var t=e.charCodeAt(0);return t>32&&t<127&&-1===[34,35,60,62,96].indexOf(t)?e:encodeURIComponent(e)}n["%2e"]=".",n[".%2e"]="..",n["%2e."]="..",n["%2e%2e"]="..";var l,c=/[a-zA-Z]/,h=/[a-zA-Z0-9\+\-\.]/;function d(e,t,d){function f(e){b.push(e)}var p=t||"scheme start",v=0,m="",g=!1,y=!1,b=[];e:for(;(e[v-1]!==l||0===v)&&!this._isInvalid;){var _=e[v];switch(p){case"scheme start":if(!_||!c.test(_)){if(t){f("Invalid scheme.");break e}m="",p="no scheme";continue}m+=_.toLowerCase(),p="scheme";break;case"scheme":if(_&&h.test(_))m+=_.toLowerCase();else{if(":"!==_){if(t){if(_===l)break e;f("Code point not allowed in scheme: "+_);break e}m="",v=0,p="no scheme";continue}if(this._scheme=m,m="",t)break e;i(this._scheme)&&(this._isRelative=!0),p="file"===this._scheme?"relative":this._isRelative&&d&&d._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"===_?(this._query="?",p="query"):"#"===_?(this._fragment="#",p="fragment"):_!==l&&"\t"!==_&&"\n"!==_&&"\r"!==_&&(this._schemeData+=s(_));break;case"no scheme":if(d&&i(d._scheme)){p="relative";continue}f("Missing scheme."),a.call(this);break;case"relative or authority":if("/"!==_||"/"!==e[v+1]){f("Expected /, got: "+_),p="relative";continue}p="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=d._scheme),_===l){this._host=d._host,this._port=d._port,this._path=d._path.slice(),this._query=d._query,this._username=d._username,this._password=d._password;break e}if("/"===_||"\\"===_)"\\"===_&&f("\\ is an invalid code point."),p="relative slash";else if("?"===_)this._host=d._host,this._port=d._port,this._path=d._path.slice(),this._query="?",this._username=d._username,this._password=d._password,p="query";else{if("#"!==_){var A=e[v+1],S=e[v+2];("file"!==this._scheme||!c.test(_)||":"!==A&&"|"!==A||S!==l&&"/"!==S&&"\\"!==S&&"?"!==S&&"#"!==S)&&(this._host=d._host,this._port=d._port,this._username=d._username,this._password=d._password,this._path=d._path.slice(),this._path.pop()),p="relative path";continue}this._host=d._host,this._port=d._port,this._path=d._path.slice(),this._query=d._query,this._fragment="#",this._username=d._username,this._password=d._password,p="fragment"}break;case"relative slash":if("/"!==_&&"\\"!==_){"file"!==this._scheme&&(this._host=d._host,this._port=d._port,this._username=d._username,this._password=d._password),p="relative path";continue}"\\"===_&&f("\\ is an invalid code point."),p="file"===this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!==_){f("Expected '/', got: "+_),p="authority ignore slashes";continue}p="authority second slash";break;case"authority second slash":if(p="authority ignore slashes","/"!==_){f("Expected '/', got: "+_);continue}break;case"authority ignore slashes":if("/"!==_&&"\\"!==_){p="authority";continue}f("Expected authority, got: "+_);break;case"authority":if("@"===_){g&&(f("@ already seen."),m+="%40"),g=!0;for(var w=0;w<m.length;w++){var k=m[w];if("\t"!==k&&"\n"!==k&&"\r"!==k)if(":"!==k||null!==this._password){var P=s(k);null!==this._password?this._password+=P:this._username+=P}else this._password="";else f("Invalid whitespace in authority.")}m=""}else{if(_===l||"/"===_||"\\"===_||"?"===_||"#"===_){v-=m.length,m="",p="host";continue}m+=_}break;case"file host":if(_===l||"/"===_||"\\"===_||"?"===_||"#"===_){2!==m.length||!c.test(m[0])||":"!==m[1]&&"|"!==m[1]?0===m.length?p="relative path start":(this._host=o.call(this,m),m="",p="relative path start"):p="relative path";continue}"\t"===_||"\n"===_||"\r"===_?f("Invalid whitespace in file host."):m+=_;break;case"host":case"hostname":if(":"!==_||y){if(_===l||"/"===_||"\\"===_||"?"===_||"#"===_){if(this._host=o.call(this,m),m="",p="relative path start",t)break e;continue}"\t"!==_&&"\n"!==_&&"\r"!==_?("["===_?y=!0:"]"===_&&(y=!1),m+=_):f("Invalid code point in host/hostname: "+_)}else if(this._host=o.call(this,m),m="",p="port","hostname"===t)break e;break;case"port":if(/[0-9]/.test(_))m+=_;else{if(_===l||"/"===_||"\\"===_||"?"===_||"#"===_||t){if(""!==m){var x=parseInt(m,10);x!==r[this._scheme]&&(this._port=x+""),m=""}if(t)break e;p="relative path start";continue}"\t"===_||"\n"===_||"\r"===_?f("Invalid code point in port: "+_):a.call(this)}break;case"relative path start":if("\\"===_&&f("'\\' not allowed in path."),p="relative path","/"!==_&&"\\"!==_)continue;break;case"relative path":var C;if(_!==l&&"/"!==_&&"\\"!==_&&(t||"?"!==_&&"#"!==_))"\t"!==_&&"\n"!==_&&"\r"!==_&&(m+=s(_));else"\\"===_&&f("\\ not allowed in relative path."),(C=n[m.toLowerCase()])&&(m=C),".."===m?(this._path.pop(),"/"!==_&&"\\"!==_&&this._path.push("")):"."===m&&"/"!==_&&"\\"!==_?this._path.push(""):"."!==m&&("file"===this._scheme&&0===this._path.length&&2===m.length&&c.test(m[0])&&"|"===m[1]&&(m=m[0]+":"),this._path.push(m)),m="","?"===_?(this._query="?",p="query"):"#"===_&&(this._fragment="#",p="fragment");break;case"query":t||"#"!==_?_!==l&&"\t"!==_&&"\n"!==_&&"\r"!==_&&(this._query+=u(_)):(this._fragment="#",p="fragment");break;case"fragment":_!==l&&"\t"!==_&&"\n"!==_&&"\r"!==_&&(this._fragment+=_)}v++}}function f(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function p(e,t){void 0===t||t instanceof p||(t=new p(String(t))),this._url=e,f.call(this);var r=e.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");d.call(this,r,null,t)}p.prototype={toString:function e(){return this.href},get href(){if(this._isInvalid)return this._url;var e="";return""===this._username&&null===this._password||(e=this._username+(null!==this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+e+this.host:"")+this.pathname+this._query+this._fragment},set href(e){f.call(this),d.call(this,e)},get protocol(){return this._scheme+":"},set protocol(e){this._isInvalid||d.call(this,e+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(e){!this._isInvalid&&this._isRelative&&d.call(this,e,"host")},get hostname(){return this._host},set hostname(e){!this._isInvalid&&this._isRelative&&d.call(this,e,"hostname")},get port(){return this._port},set port(e){!this._isInvalid&&this._isRelative&&d.call(this,e,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(e){!this._isInvalid&&this._isRelative&&(this._path=[],d.call(this,e,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(e){!this._isInvalid&&this._isRelative&&(this._query="?","?"===e[0]&&(e=e.slice(1)),d.call(this,e,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(e){this._isInvalid||(this._fragment="#","#"===e[0]&&(e=e.slice(1)),d.call(this,e,"fragment"))},get origin(){var e;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new p(this._schemeData).origin||"null"}catch(t){}return"null"}return(e=this.host)?this._scheme+"://"+e:""}},t.URL=p}()},function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.build=r.version=r.setPDFNetworkStreamFactory=r.PDFPageProxy=r.PDFDocumentProxy=r.PDFWorker=r.PDFDataRangeTransport=r.LoopbackPort=r.getDocument=void 0;var i=function(){function e(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(1),u=n(130),l=n(131),c=n(132),h=n(133),d,f=b(n(3)),p=n(135),v=n(136),m=n(141),g=n(143),y=n(144);function b(e){return e&&e.__esModule?e:{default:e}}function _(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var S=65536,w=!1,k=void 0,P=null,x=!1;"undefined"==typeof window?(w=!0,void 0===e.ensure&&(e.ensure=e("node-ensure")),x=!0):void 0!==e&&"function"==typeof e.ensure&&(x=!0),"undefined"!=typeof requirejs&&requirejs.toUrl&&(k=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));var C="undefined"!=typeof requirejs&&requirejs.load,R;if(P=x?function(){return new Promise((function(t,r){e.ensure([],(function(){try{var n=void 0;n=e("./pdf.worker.js"),t(n.WorkerMessageHandler)}catch(i){r(i)}}),r,"pdfjsWorker")}))}:C?function(){return new Promise((function(e,t){requirejs(["pdfjs-dist/build/pdf.worker"],(function(r){try{e(r.WorkerMessageHandler)}catch(n){t(n)}}),t)}))}:null,!k&&"undefined"!=typeof document){var E=document.currentScript&&document.currentScript.src;E&&(k=E.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function T(e){R=e}function O(e){var t=new F,r;if("string"==typeof e)r={url:e};else if((0,s.isArrayBuffer)(e))r={data:e};else if(e instanceof L)r={range:e};else{if("object"!==(void 0===e?"undefined":o(e)))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=e}var n=Object.create(null),i=null,a=null;for(var l in r)if("url"!==l||"undefined"==typeof window)if("range"!==l)if("worker"!==l)if("data"!==l||r[l]instanceof Uint8Array)n[l]=r[l];else{var h=r[l];if("string"==typeof h)n[l]=(0,s.stringToBytes)(h);else if("object"!==(void 0===h?"undefined":o(h))||null===h||isNaN(h.length)){if(!(0,s.isArrayBuffer)(h))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");n[l]=new Uint8Array(h)}else n[l]=new Uint8Array(h)}else a=r[l];else i=r[l];else n[l]=new s.URL(r[l],window.location).href;n.rangeChunkSize=n.rangeChunkSize||S,n.CMapReaderFactory=n.CMapReaderFactory||u.DOMCMapReaderFactory,n.ignoreErrors=!0!==n.stopAtErrors,n.pdfBug=!0===n.pdfBug;var d=Object.values(s.NativeImageDecoding);if(void 0!==n.nativeImageDecoderSupport&&d.includes(n.nativeImageDecoderSupport)||(n.nativeImageDecoderSupport=c.apiCompatibilityParams.nativeImageDecoderSupport||s.NativeImageDecoding.DECODE),Number.isInteger(n.maxImageSize)||(n.maxImageSize=-1),"boolean"!=typeof n.isEvalSupported&&(n.isEvalSupported=!0),"boolean"!=typeof n.disableFontFace&&(n.disableFontFace=c.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof n.disableRange&&(n.disableRange=!1),"boolean"!=typeof n.disableStream&&(n.disableStream=!1),"boolean"!=typeof n.disableAutoFetch&&(n.disableAutoFetch=!1),"boolean"!=typeof n.disableCreateObjectURL&&(n.disableCreateObjectURL=c.apiCompatibilityParams.disableCreateObjectURL||!1),(0,s.setVerbosityLevel)(n.verbosity),!a){var f={postMessageTransfers:n.postMessageTransfers,verbosity:n.verbosity},m=p.GlobalWorkerOptions.workerPort;m?(f.port=m,a=N.fromPort(f)):a=new N(f),t._worker=a}var y=t.docId;return a.promise.then((function(){if(t.destroyed)throw new Error("Loading aborted");return I(a,n,i,y).then((function(e){if(t.destroyed)throw new Error("Loading aborted");var r=void 0;i?r=new g.PDFDataTransportStream({length:n.length,initialData:n.initialData,disableRange:n.disableRange,disableStream:n.disableStream},i):n.data||(r=R({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream}));var o=new v.MessageHandler(y,e,a.port);o.postMessageTransfers=a.postMessageTransfers;var s=new q(o,t,r,n);t._transport=s,o.send("Ready",null)}))})).catch(t._capability.reject),t}function I(e,t,r,n){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(r&&(t.length=r.length,t.initialData=r.initialData),e.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.0.943",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,disableCreateObjectURL:t.disableCreateObjectURL,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,nativeImageDecoderSupport:t.nativeImageDecoderSupport,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported}).then((function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t})))}var F=function e(){var t=0;function r(){this._capability=(0,s.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+t++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return r.prototype={get promise(){return this._capability.promise},destroy:function e(){var t=this,r;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then((function(){t._transport=null,t._worker&&(t._worker.destroy(),t._worker=null)}))},then:function e(t,r){return this.promise.then.apply(this.promise,arguments)}},r}(),L=function(){function e(t,r){A(this,e),this.length=t,this.initialData=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=(0,s.createPromiseCapability)()}return a(e,[{key:"addRangeListener",value:function e(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function e(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function e(t){this._progressiveReadListeners.push(t)}},{key:"onDataRange",value:function e(t,r){var n=!0,i=!1,a=void 0;try{for(var o=this._rangeListeners[Symbol.iterator](),s;!(n=(s=o.next()).done);n=!0){var u;(0,s.value)(t,r)}}catch(l){i=!0,a=l}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}}},{key:"onDataProgress",value:function e(t){var r=this;this._readyCapability.promise.then((function(){var e=!0,n=!1,i=void 0;try{for(var a=r._progressListeners[Symbol.iterator](),o;!(e=(o=a.next()).done);e=!0){var s;(0,o.value)(t)}}catch(u){n=!0,i=u}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}}))}},{key:"onDataProgressiveRead",value:function e(t){var r=this;this._readyCapability.promise.then((function(){var e=!0,n=!1,i=void 0;try{for(var a=r._progressiveReadListeners[Symbol.iterator](),o;!(e=(o=a.next()).done);e=!0){var s;(0,o.value)(t)}}catch(u){n=!0,i=u}finally{try{!e&&a.return&&a.return()}finally{if(n)throw i}}}))}},{key:"transportReady",value:function e(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function e(t,r){(0,s.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function e(){}}]),e}(),j=function(){function e(t,r,n){A(this,e),this.loadingTask=n,this._pdfInfo=t,this._transport=r}return a(e,[{key:"getPage",value:function e(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function e(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function e(){return this._transport.getDestinations()}},{key:"getDestination",value:function e(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function e(){return this._transport.getPageLabels()}},{key:"getPageMode",value:function e(){return this._transport.getPageMode()}},{key:"getAttachments",value:function e(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function e(){return this._transport.getJavaScript()}},{key:"getOutline",value:function e(){return this._transport.getOutline()}},{key:"getPermissions",value:function e(){return this._transport.getPermissions()}},{key:"getMetadata",value:function e(){return this._transport.getMetadata()}},{key:"getData",value:function e(){return this._transport.getData()}},{key:"getDownloadInfo",value:function e(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function e(){return this._transport.getStats()}},{key:"cleanup",value:function e(){this._transport.startCleanup()}},{key:"destroy",value:function e(){return this.loadingTask.destroy()}},{key:"numPages",get:function e(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function e(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function e(){return this._transport.loadingParams}}]),e}(),M=function e(){function t(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.pageIndex=e,this._pageInfo=t,this.transport=r,this._stats=n?new u.StatTimer:u.DummyStatTimer,this._pdfBug=n,this.commonObjs=r.commonObjs,this.objs=new W,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return t.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this._pageInfo.rotate},get ref(){return this._pageInfo.ref},get userUnit(){return this._pageInfo.userUnit},get view(){return this._pageInfo.view},getViewport:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new u.PageViewport({viewBox:this.view,scale:t,rotation:r,dontFlip:n})},getAnnotations:function e(t){var r=t&&t.intent||null;return this.annotationsPromise&&this.annotationsIntent===r||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,r),this.annotationsIntent=r),this.annotationsPromise},render:function e(t){var r=this,n=this._stats;n.time("Overall"),this.pendingCleanup=!1;var i="print"===t.intent?"print":"display",a=t.canvasFactory||new u.DOMCanvasFactory,o=new y.WebGLContext({enable:t.enableWebGL});this.intentStates[i]||(this.intentStates[i]=Object.create(null));var l=this.intentStates[i];l.displayReadyCapability||(l.receivingOperatorList=!0,l.displayReadyCapability=(0,s.createPromiseCapability)(),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1},n.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:i,renderInteractiveForms:!0===t.renderInteractiveForms}));var c=function e(t){var i=l.renderTasks.indexOf(h);i>=0&&l.renderTasks.splice(i,1),r.cleanupAfterRender&&(r.pendingCleanup=!0),r._tryCleanup(),t?h.capability.reject(t):h.capability.resolve(),n.timeEnd("Rendering"),n.timeEnd("Overall")},h=new B(c,t,this.objs,this.commonObjs,l.operatorList,this.pageNumber,a,o,this._pdfBug);h.useRequestAnimationFrame="print"!==i,l.renderTasks||(l.renderTasks=[]),l.renderTasks.push(h);var d=h.task;return l.displayReadyCapability.promise.then((function(e){r.pendingCleanup?c():(n.time("Rendering"),h.initializeGraphics(e),h.operatorListChanged())})).catch(c),d},getOperatorList:function e(){function t(){if(n.operatorList.lastChunk){n.opListReadCapability.resolve(n.operatorList);var e=n.renderTasks.indexOf(i);e>=0&&n.renderTasks.splice(e,1)}}var r="oplist";this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var n=this.intentStates.oplist,i;return n.opListReadCapability||((i={}).operatorListChanged=t,n.receivingOperatorList=!0,n.opListReadCapability=(0,s.createPromiseCapability)(),n.renderTasks=[],n.renderTasks.push(i),n.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})),n.opListReadCapability.promise},streamTextContent:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=100;return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:!0===t.normalizeWhitespace,combineTextItems:!0!==t.disableCombineTextItems},{highWaterMark:r,size:function e(t){return t.items.length}})},getTextContent:function e(t){t=t||{};var r=this.streamTextContent(t);return new Promise((function(e,t){function n(){i.read().then((function(t){var r,i=t.value,o;t.done?e(a):(Object.assign(a.styles,i.styles),(r=a.items).push.apply(r,_(i.items)),n())}),t)}var i=r.getReader(),a={items:[],styles:Object.create(null)};n()}))},_destroy:function e(){this.destroyed=!0,this.transport.pageCache[this.pageIndex]=null;var t=[];return Object.keys(this.intentStates).forEach((function(e){var r;"oplist"!==e&&this.intentStates[e].renderTasks.forEach((function(e){var r=e.capability.promise.catch((function(){}));t.push(r),e.cancel()}))}),this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(t)},cleanup:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pendingCleanup=!0,this._tryCleanup(t)},_tryCleanup:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pendingCleanup&&!Object.keys(this.intentStates).some((function(e){var t=this.intentStates[e];return 0!==t.renderTasks.length||t.receivingOperatorList}),this)&&(Object.keys(this.intentStates).forEach((function(e){delete this.intentStates[e]}),this),this.objs.clear(),this.annotationsPromise=null,t&&this._stats instanceof u.StatTimer&&(this._stats=new u.StatTimer),this.pendingCleanup=!1)},_startRenderPage:function e(t,r){var n=this.intentStates[r];n.displayReadyCapability&&n.displayReadyCapability.resolve(t)},_renderPageChunk:function e(t,r){var n=this.intentStates[r],i,a;for(i=0,a=t.length;i<a;i++)n.operatorList.fnArray.push(t.fnArray[i]),n.operatorList.argsArray.push(t.argsArray[i]);for(n.operatorList.lastChunk=t.lastChunk,i=0;i<n.renderTasks.length;i++)n.renderTasks[i].operatorListChanged();t.lastChunk&&(n.receivingOperatorList=!1,this._tryCleanup())},get stats(){return this._stats instanceof u.StatTimer?this._stats:null}},t}(),D=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];A(this,e),this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}return a(e,[{key:"postMessage",value:function e(t,r){var n=this;function i(e){if("object"!==(void 0===e?"undefined":o(e))||null===e)return e;if(a.has(e))return a.get(e);var t,n;if((n=e.buffer)&&(0,s.isArrayBuffer)(n)){var u=r&&r.includes(n);return t=e===n?e:u?new e.constructor(n,e.byteOffset,e.byteLength):new e.constructor(e),a.set(e,t),t}for(var l in t=Array.isArray(e)?[]:{},a.set(e,t),e){for(var c,h=e;!(c=Object.getOwnPropertyDescriptor(h,l));)h=Object.getPrototypeOf(h);void 0!==c.value&&"function"!=typeof c.value&&(t[l]=i(c.value))}return t}if(this._defer){var a=new WeakMap,u={data:i(t)};this._deferred.then((function(){n._listeners.forEach((function(e){e.call(this,u)}),n)}))}else this._listeners.forEach((function(e){e.call(this,{data:t})}),this)}},{key:"addEventListener",value:function e(t,r){this._listeners.push(r)}},{key:"removeEventListener",value:function e(t,r){var n=this._listeners.indexOf(r);this._listeners.splice(n,1)}},{key:"terminate",value:function e(){this._listeners=[]}}]),e}(),N=function e(){var t=0;function r(){if(p.GlobalWorkerOptions.workerSrc)return p.GlobalWorkerOptions.workerSrc;if(void 0!==k)return k;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function n(){try{if("undefined"!=typeof window)return window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}catch(e){}return null}var i=void 0;function a(){if(i)return i.promise;i=(0,s.createPromiseCapability)();var e=n(),t;return e?(i.resolve(e),i.promise):((P||function(){return(0,u.loadScript)(r()).then((function(){return window.pdfjsWorker.WorkerMessageHandler}))})().then(i.resolve,i.reject),i.promise)}function o(e){var t="importScripts('"+e+"');";return s.URL.createObjectURL(new Blob([t]))}var l=new WeakMap;function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=void 0===t?null:t,n=e.port,i=void 0===n?null:n,a=e.postMessageTransfers,o=void 0===a||a,u=e.verbosity,c=void 0===u?(0,s.getVerbosityLevel)():u;if(i&&l.has(i))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=r,this.destroyed=!1,this.postMessageTransfers=!1!==o,this.verbosity=c,this._readyCapability=(0,s.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,i)return l.set(i,this),void this._initializeFromPort(i);this._initialize()}return c.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function e(t){this._port=t,this._messageHandler=new v.MessageHandler("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()},_initialize:function e(){var t=this;if("undefined"!=typeof Worker&&!w&&!n()){var i=r();try{(0,s.isSameOrigin)(window.location.href,i)||(i=o(new s.URL(i,window.location).href));var a=new Worker(i),u=new v.MessageHandler("main","worker",a),l=function e(){a.removeEventListener("error",c),u.destroy(),a.terminate(),t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):t._setupFakeWorker()},c=function e(){t._webWorker||l()};a.addEventListener("error",c),u.on("test",(function(e){a.removeEventListener("error",c),t.destroyed?l():e&&e.supportTypedArray?(t._messageHandler=u,t._port=a,t._webWorker=a,e.supportTransfers||(t.postMessageTransfers=!1),t._readyCapability.resolve(),u.send("configure",{verbosity:t.verbosity})):(t._setupFakeWorker(),u.destroy(),a.terminate())})),u.on("ready",(function(e){if(a.removeEventListener("error",c),t.destroyed)l();else try{h()}catch(r){t._setupFakeWorker()}}));var h=function e(){var r=new Uint8Array([t.postMessageTransfers?255:0]);try{u.send("test",r,[r.buffer])}catch(n){(0,s.info)("Cannot use postMessage transfers"),r[0]=0,u.send("test",r)}};return void h()}catch(d){(0,s.info)("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function e(){var r=this;w||((0,s.warn)("Setting up fake worker."),w=!0),a().then((function(e){if(r.destroyed)r._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new D;r._port=n;var i="fake"+t++,a=new v.MessageHandler(i+"_worker",i,n);e.setup(a,n);var o=new v.MessageHandler(i,i+"_worker",n);r._messageHandler=o,r._readyCapability.resolve()}})).catch((function(e){r._readyCapability.reject(new Error('Setting up fake worker failed: "'+e.message+'".'))}))},destroy:function e(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),l.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},c.fromPort=function(e){if(!e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return l.has(e.port)?l.get(e.port):new c(e)},c.getWorkerSrc=function(){return r()},c}(),q=function(){function e(t,r,n,i){A(this,e),this.messageHandler=t,this.loadingTask=r,this.commonObjs=new W,this.fontLoader=new l.FontLoader(r.docId),this._params=i,this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,s.createPromiseCapability)(),this.setupMessageHandler()}return a(e,[{key:"destroy",value:function e(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,s.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var r=[];this.pageCache.forEach((function(e){e&&r.push(e._destroy())})),this.pageCache=[],this.pagePromises=[];var n=this.messageHandler.sendWithPromise("Terminate",null);return r.push(n),Promise.all(r).then((function(){t.fontLoader.clear(),t._networkStream&&t._networkStream.cancelAllRequests(),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function e(){var t=this.messageHandler,r=this.loadingTask;t.on("GetReader",(function(e,t){var r=this;(0,s.assert)(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=function(e){r._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=function(){r._fullReader.read().then((function(e){var r=e.value,n;e.done?t.close():((0,s.assert)((0,s.isArrayBuffer)(r)),t.enqueue(new Uint8Array(r),1,[r]))})).catch((function(e){t.error(e)}))},t.onCancel=function(e){r._fullReader.cancel(e)}}),this),t.on("ReaderHeadersReady",(function(e){var t=this,n=(0,s.createPromiseCapability)(),i=this._fullReader;return i.headersReady.then((function(){i.isStreamingSupported&&i.isRangeSupported||(t._lastProgress&&r.onProgress&&r.onProgress(t._lastProgress),i.onProgress=function(e){r.onProgress&&r.onProgress({loaded:e.loaded,total:e.total})}),n.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),n.reject),n.promise}),this),t.on("GetRangeReader",(function(e,t){(0,s.assert)(this._networkStream);var r=this._networkStream.getRangeReader(e.begin,e.end);t.onPull=function(){r.read().then((function(e){var r=e.value,n;e.done?t.close():((0,s.assert)((0,s.isArrayBuffer)(r)),t.enqueue(new Uint8Array(r),1,[r]))})).catch((function(e){t.error(e)}))},t.onCancel=function(e){r.cancel(e)}}),this),t.on("GetDoc",(function(e){var t=e.pdfInfo;this.numPages=t.numPages,this.pdfDocument=new j(t,this,r),r._capability.resolve(this.pdfDocument)}),this),t.on("PasswordRequest",(function(e){var t=this;if(this._passwordCapability=(0,s.createPromiseCapability)(),r.onPassword){var n=function e(r){t._passwordCapability.resolve({password:r})};try{r.onPassword(n,e.code)}catch(i){this._passwordCapability.reject(i)}}else this._passwordCapability.reject(new s.PasswordException(e.message,e.code));return this._passwordCapability.promise}),this),t.on("PasswordException",(function(e){r._capability.reject(new s.PasswordException(e.message,e.code))}),this),t.on("InvalidPDF",(function(e){r._capability.reject(new s.InvalidPDFException(e.message))}),this),t.on("MissingPDF",(function(e){r._capability.reject(new s.MissingPDFException(e.message))}),this),t.on("UnexpectedResponse",(function(e){r._capability.reject(new s.UnexpectedResponseException(e.message,e.status))}),this),t.on("UnknownError",(function(e){r._capability.reject(new s.UnknownErrorException(e.message,e.details))}),this),t.on("DataLoaded",(function(e){r.onProgress&&r.onProgress({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),this),t.on("StartRenderPage",(function(e){if(!this.destroyed){var t=this.pageCache[e.pageIndex];t._stats.timeEnd("Page Request"),t._startRenderPage(e.transparency,e.intent)}}),this),t.on("RenderPageChunk",(function(e){var t;this.destroyed||this.pageCache[e.pageIndex]._renderPageChunk(e.operatorList,e.intent)}),this),t.on("commonobj",(function(e){var t=this;if(!this.destroyed){var r=i(e,3),n=r[0],a=r[1],o=r[2];if(!this.commonObjs.hasData(n))switch(a){case"Font":var u=this._params;if("error"in o){var c=o.error;(0,s.warn)("Error during font loading: "+c),this.commonObjs.resolve(n,c);break}var h=null;u.pdfBug&&f.default.FontInspector&&f.default.FontInspector.enabled&&(h={registerFont:function e(t,r){f.default.FontInspector.fontAdded(t,r)}});var d=new l.FontFaceObject(o,{isEvalSupported:u.isEvalSupported,disableFontFace:u.disableFontFace,ignoreErrors:u.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:h}),p=function e(r){t.commonObjs.resolve(n,d)};this.fontLoader.bind([d],p);break;case"FontPath":this.commonObjs.resolve(n,o);break;default:throw new Error("Got unknown common object type "+a)}}}),this),t.on("obj",(function(e){if(!this.destroyed){var t=i(e,4),r=t[0],n=t[1],a=t[2],o=t[3],s=this.pageCache[n];if(!s.objs.hasData(r))switch(a){case"JpegStream":return new Promise((function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=function(){t(new Error("Error during JPEG image loading"))},r.src=o})).then((function(e){s.objs.resolve(r,e)}));case"Image":s.objs.resolve(r,o);var u=8e6;o&&"data"in o&&o.data.length>8e6&&(s.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type "+a)}}}),this),t.on("DocProgress",(function(e){this.destroyed||r.onProgress&&r.onProgress({loaded:e.loaded,total:e.total})}),this),t.on("PageError",(function(e){if(!this.destroyed){var t,r=this.pageCache[e.pageNum-1].intentStates[e.intent];if(!r.displayReadyCapability)throw new Error(e.error);if(r.displayReadyCapability.reject(e.error),r.operatorList){r.operatorList.lastChunk=!0;for(var n=0;n<r.renderTasks.length;n++)r.renderTasks[n].operatorListChanged()}}}),this),t.on("UnsupportedFeature",this._onUnsupportedFeature,this),t.on("JpegDecode",(function(e){if(this.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error('"document" is not defined.'));var t=i(e,2),r=t[0],n=t[1];return 3!==n&&1!==n?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise((function(e,t){var i=new Image;i.onload=function(){var t=i.width,r=i.height,a=t*r,o=4*a,s=new Uint8ClampedArray(a*n),u=document.createElement("canvas");u.width=t,u.height=r;var l=u.getContext("2d");l.drawImage(i,0,0);var c=l.getImageData(0,0,t,r).data;if(3===n)for(var h=0,d=0;h<o;h+=4,d+=3)s[d]=c[h],s[d+1]=c[h+1],s[d+2]=c[h+2];else if(1===n)for(var f=0,p=0;f<o;f+=4,p++)s[p]=c[f];e({data:s,width:t,height:r})},i.onerror=function(){t(new Error("JpegDecode failed to load image"))},i.src=r}))}),this),t.on("FetchBuiltInCMap",(function(e){return this.destroyed?Promise.reject(new Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:e.name})}),this)}},{key:"_onUnsupportedFeature",value:function e(t){var r=t.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(r)}},{key:"getData",value:function e(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function e(t){var r=this;if(!Number.isInteger(t)||t<=0||t>this.numPages)return Promise.reject(new Error("Invalid page request"));var n=t-1;if(n in this.pagePromises)return this.pagePromises[n];var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(e){if(r.destroyed)throw new Error("Transport destroyed");var t=new M(n,e,r,r._params.pdfBug);return r.pageCache[n]=t,t}));return this.pagePromises[n]=i,i}},{key:"getPageIndex",value:function e(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t}).catch((function(e){return Promise.reject(new Error(e))}))}},{key:"getAnnotations",value:function e(t,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:r})}},{key:"getDestinations",value:function e(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function e(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function e(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageMode",value:function e(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getAttachments",value:function e(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function e(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function e(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function e(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function e(){var t=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(e){return{info:e[0],metadata:e[1]?new m.Metadata(e[1]):null,contentDispositionFilename:t._fullReader?t._fullReader.filename:null}}))}},{key:"getStats",value:function e(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function e(){var t=this;this.messageHandler.sendWithPromise("Cleanup",null).then((function(){for(var e=0,r=t.pageCache.length;e<r;e++){var n=t.pageCache[e];n&&n.cleanup()}t.commonObjs.clear(),t.fontLoader.clear()}))}},{key:"loadingParams",get:function e(){var t=this._params;return(0,s.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,disableCreateObjectURL:t.disableCreateObjectURL,disableFontFace:t.disableFontFace,nativeImageDecoderSupport:t.nativeImageDecoderSupport})}}]),e}(),W=function e(){function t(){this.objs=Object.create(null)}return t.prototype={ensureObj:function e(t){if(this.objs[t])return this.objs[t];var r={capability:(0,s.createPromiseCapability)(),data:null,resolved:!1};return this.objs[t]=r,r},get:function e(t,r){if(r)return this.ensureObj(t).capability.promise.then(r),null;var n=this.objs[t];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet "+t);return n.data},resolve:function e(t,r){var n=this.ensureObj(t);n.resolved=!0,n.data=r,n.capability.resolve(r)},isResolved:function e(t){var r=this.objs;return!!r[t]&&r[t].resolved},hasData:function e(t){return this.isResolved(t)},getData:function e(t){var r=this.objs;return r[t]&&r[t].resolved?r[t].data:null},clear:function e(){this.objs=Object.create(null)}},t}(),U=function e(){function t(e){this._internalRenderTask=e,this.onContinue=null}return t.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function e(){this._internalRenderTask.cancel()},then:function e(t,r){return this.promise.then.apply(this.promise,arguments)}},t}(),B=function e(){var t=new WeakMap;function r(e,t,r,n,i,a,o,u){var l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.callback=e,this.params=t,this.objs=r,this.commonObjs=n,this.operatorListIdx=null,this.operatorList=i,this.pageNumber=a,this.canvasFactory=o,this.webGLContext=u,this._pdfBug=l,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.useRequestAnimationFrame=!1,this.cancelled=!1,this.capability=(0,s.createPromiseCapability)(),this.task=new U(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}return r.prototype={initializeGraphics:function e(r){if(!this.cancelled){if(this._canvas){if(t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t.set(this._canvas,this)}this._pdfBug&&f.default.StepperManager&&f.default.StepperManager.enabled&&(this.stepper=f.default.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var n=this.params;this.gfx=new h.CanvasGraphics(n.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,n.imageLayer),this.gfx.beginDrawing({transform:n.transform,viewport:n.viewport,transparency:r,background:n.background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function e(){this.running=!1,this.cancelled=!0,this._canvas&&t.delete(this._canvas),this.callback(new u.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas"))},operatorListChanged:function e(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)},_continue:function e(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function e(){var t=this;this.useRequestAnimationFrame&&"undefined"!=typeof window?window.requestAnimationFrame((function(){t._nextBound().catch(t.callback)})):Promise.resolve().then(this._nextBound).catch(this.callback)},_next:function e(){var r=this;return new Promise((function(){r.cancelled||(r.operatorListIdx=r.gfx.executeOperatorList(r.operatorList,r.operatorListIdx,r._continueBound,r.stepper),r.operatorListIdx===r.operatorList.argsArray.length&&(r.running=!1,r.operatorList.lastChunk&&(r.gfx.endDrawing(),r._canvas&&t.delete(r._canvas),r.callback())))}))}},r}(),z,G;r.version=z="2.0.943",r.build=G="dc98bf76",r.getDocument=O,r.LoopbackPort=D,r.PDFDataRangeTransport=L,r.PDFWorker=N,r.PDFDocumentProxy=j,r.PDFPageProxy=M,r.setPDFNetworkStreamFactory=T,r.version=z,r.build=G},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=t.DummyStatTimer=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.getFilenameFromUrl=t.addLinkAttributes=t.RenderingCancelledException=t.PageViewport=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o="noopener noreferrer nofollow",s="http://www.w3.org/2000/svg",u=function(){function e(){a(this,e)}return n(e,[{key:"create",value:function e(t,r){if(t<=0||r<=0)throw new Error("invalid canvas size");var n=document.createElement("canvas"),i=n.getContext("2d");return n.width=t,n.height=r,{canvas:n,context:i}}},{key:"reset",value:function e(t,r,n){if(!t.canvas)throw new Error("canvas is not specified");if(r<=0||n<=0)throw new Error("invalid canvas size");t.canvas.width=r,t.canvas.height=n}},{key:"destroy",value:function e(t){if(!t.canvas)throw new Error("canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}}]),e}(),l=function(){function e(t){var r=t.baseUrl,n=void 0===r?null:r,i=t.isCompressed,o=void 0!==i&&i;a(this,e),this.baseUrl=n,this.isCompressed=o}return n(e,[{key:"fetch",value:function e(t){var r=this,n=t.name;return this.baseUrl?n?new Promise((function(e,t){var a=r.baseUrl+n+(r.isCompressed?".bcmap":""),o=new XMLHttpRequest;o.open("GET",a,!0),r.isCompressed&&(o.responseType="arraybuffer"),o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||0===o.status){var n=void 0;if(r.isCompressed&&o.response?n=new Uint8Array(o.response):!r.isCompressed&&o.responseText&&(n=(0,i.stringToBytes)(o.responseText)),n)return void e({cMapData:n,compressionType:r.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE})}t(new Error("Unable to load "+(r.isCompressed?"binary ":"")+"CMap at: "+a))}},o.send(null)})):Promise.reject(new Error("CMap name must be specified.")):Promise.reject(new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.'))}}]),e}(),c=function(){function e(){a(this,e)}return n(e,[{key:"create",value:function e(t,r){(0,i.assert)(t>0&&r>0,"Invalid SVG dimensions");var n=document.createElementNS(s,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",t+"px"),n.setAttribute("height",r+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+t+" "+r),n}},{key:"createElement",value:function e(t){return(0,i.assert)("string"==typeof t,"Invalid SVG element type"),document.createElementNS(s,t)}}]),e}(),h=function(){function e(t){var r=t.viewBox,n=t.scale,i=t.rotation,o=t.offsetX,s=void 0===o?0:o,u=t.offsetY,l=void 0===u?0:u,c=t.dontFlip,h=void 0!==c&&c;a(this,e),this.viewBox=r,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=l;var d=(r[2]+r[0])/2,f=(r[3]+r[1])/2,p=void 0,v=void 0,m=void 0,g=void 0;switch(i=(i%=360)<0?i+360:i){case 180:p=-1,v=0,m=0,g=1;break;case 90:p=0,v=1,m=1,g=0;break;case 270:p=0,v=-1,m=-1,g=0;break;default:p=1,v=0,m=0,g=-1}h&&(m=-m,g=-g);var y=void 0,b=void 0,_=void 0,A=void 0;0===p?(y=Math.abs(f-r[1])*n+s,b=Math.abs(d-r[0])*n+l,_=Math.abs(r[3]-r[1])*n,A=Math.abs(r[2]-r[0])*n):(y=Math.abs(d-r[0])*n+s,b=Math.abs(f-r[1])*n+l,_=Math.abs(r[2]-r[0])*n,A=Math.abs(r[3]-r[1])*n),this.transform=[p*n,v*n,m*n,g*n,y-p*n*d-m*n*f,b-v*n*d-g*n*f],this.width=_,this.height=A}return n(e,[{key:"clone",value:function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.scale,i=void 0===n?this.scale:n,a=r.rotation,o=void 0===a?this.rotation:a,s=r.dontFlip,u=void 0!==s&&s;return new e({viewBox:this.viewBox.slice(),scale:i,rotation:o,offsetX:this.offsetX,offsetY:this.offsetY,dontFlip:u})}},{key:"convertToViewportPoint",value:function e(t,r){return i.Util.applyTransform([t,r],this.transform)}},{key:"convertToViewportRectangle",value:function e(t){var r=i.Util.applyTransform([t[0],t[1]],this.transform),n=i.Util.applyTransform([t[2],t[3]],this.transform);return[r[0],r[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function e(t,r){return i.Util.applyInverseTransform([t,r],this.transform)}}]),e}(),d=function e(){function e(e,t){this.message=e,this.type=t}return e.prototype=new Error,e.prototype.name="RenderingCancelledException",e.constructor=e,e}(),f={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},p=["","_self","_blank","_parent","_top"];function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.url,n=t.target,a=t.rel;if(e.href=e.title=r?(0,i.removeNullCharacters)(r):"",r){var s,u=Object.values(f).includes(n)?n:f.NONE;e.target=p[u],e.rel="string"==typeof a?a:o}}function m(e){var t=e.indexOf("#"),r=e.indexOf("?"),n=Math.min(t>0?t:e.length,r>0?r:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)}var g=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a(this,e),this.enabled=!!t,this.started=Object.create(null),this.times=[]}return n(e,[{key:"time",value:function e(t){this.enabled&&(t in this.started&&(0,i.warn)("Timer is already running for "+t),this.started[t]=Date.now())}},{key:"timeEnd",value:function e(t){this.enabled&&(t in this.started||(0,i.warn)("Timer has not been started for "+t),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t])}},{key:"toString",value:function e(){for(var t=this.times,r="",n=0,i=0,a=t.length;i<a;++i){var o=t[i].name;o.length>n&&(n=o.length)}for(var s=0,u=t.length;s<u;++s){var l=t[s],c=l.end-l.start;r+=l.name.padEnd(n)+" "+c+"ms\n"}return r}}]),e}(),y=function(){function e(){a(this,e),(0,i.unreachable)("Cannot initialize DummyStatTimer.")}return n(e,null,[{key:"time",value:function e(t){}},{key:"timeEnd",value:function e(t){}},{key:"toString",value:function e(){return""}}]),e}();function b(e){return new Promise((function(t,r){var n=document.createElement("script");n.src=e,n.onload=t,n.onerror=function(){r(new Error("Cannot load script at: "+n.src))},(document.head||document.documentElement).appendChild(n)}))}t.PageViewport=h,t.RenderingCancelledException=d,t.addLinkAttributes=v,t.getFilenameFromUrl=m,t.LinkTarget=f,t.DEFAULT_LINK_REL=o,t.DOMCanvasFactory=u,t.DOMCMapReaderFactory=l,t.DOMSVGFactory=c,t.StatTimer=g,t.DummyStatTimer=y,t.loadScript=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1);function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function e(t){s(this,e),this.constructor===e&&(0,i.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this.nativeFontFaces=[],this.styleElement=null,this.loadingContext={requests:[],nextRequestId:0}}return n(e,[{key:"addNativeFontFace",value:function e(t){this.nativeFontFaces.push(t),document.fonts.add(t)}},{key:"insertRule",value:function e(t){var r=this.styleElement;r||((r=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(r));var n=r.sheet;n.insertRule(t,n.cssRules.length)}},{key:"clear",value:function e(){this.nativeFontFaces.forEach((function(e){document.fonts.delete(e)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function e(t,r){var n=[],a=[],o=[],s=function e(t){return t.loaded.catch((function(e){(0,i.warn)('Failed to load font "'+t.family+'": '+e)}))},u=!0,l=!1,c=void 0;try{for(var h=t[Symbol.iterator](),d;!(u=(d=h.next()).done);u=!0){var f=d.value;if(!f.attached&&!f.missingFile)if(f.attached=!0,this.isFontLoadingAPISupported){var p=f.createNativeFontFace();p&&(this.addNativeFontFace(p),o.push(s(p)))}else{var v=f.createFontFaceRule();v&&(this.insertRule(v),n.push(v),a.push(f))}}}catch(g){l=!0,c=g}finally{try{!u&&h.return&&h.return()}finally{if(l)throw c}}var m=this._queueLoadingCallback(r);this.isFontLoadingAPISupported?Promise.all(o).then(m.complete):n.length>0&&!this.isSyncFontLoadingSupported?this._prepareFontLoadEvent(n,a,m):m.complete()}},{key:"_queueLoadingCallback",value:function e(t){function r(){for((0,i.assert)(!a.done,"completeRequest() cannot be called twice."),a.done=!0;n.requests.length>0&&n.requests[0].done;){var e=n.requests.shift();setTimeout(e.callback,0)}}var n=this.loadingContext,a={id:"pdfjs-font-loading-"+n.nextRequestId++,done:!1,complete:r,callback:t};return n.requests.push(a),a}},{key:"_prepareFontLoadEvent",value:function e(t,r,n){(0,i.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function e(){(0,i.unreachable)("Abstract method `isFontLoadingAPISupported`.")}},{key:"isSyncFontLoadingSupported",get:function e(){(0,i.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function e(){(0,i.unreachable)("Abstract method `_loadTestFont`.")}}]),e}(),l=void 0;t.FontLoader=l=function(e){function t(e){s(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.loadTestFontId=0,r}return o(t,e),n(t,[{key:"_prepareFontLoadEvent",value:function e(t,r,n){function a(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function o(e,t,r,n){var i,a;return e.substring(0,t)+n+e.substring(t+r)}var s=void 0,u=void 0,l=document.createElement("canvas");l.width=1,l.height=1;var c=l.getContext("2d"),h=0;function d(e,t){if(++h>30)return(0,i.warn)("Load test font never loaded."),void t();var r;c.font="30px "+e,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0?t():setTimeout(d.bind(null,e,t))}var f="lt"+Date.now()+this.loadTestFontId++,p=this._loadTestFont,v=976,m=16,g=1482184792,y=a(p=o(p,976,f.length,f),16);for(s=0,u=f.length-3;s<u;s+=4)y=y-1482184792+a(f,s)|0;s<f.length&&(y=y-1482184792+a(f+"XXX",s)|0),p=o(p,16,4,(0,i.string32)(y));var b,_='@font-face {font-family:"'+f+'";src:'+("url(data:font/opentype;base64,"+btoa(p)+");")+"}";this.insertRule(_);var A=[];for(s=0,u=r.length;s<u;s++)A.push(r[s].loadedName);A.push(f);var S=document.createElement("div");for(S.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),s=0,u=A.length;s<u;++s){var w=document.createElement("span");w.textContent="Hi",w.style.fontFamily=A[s],S.appendChild(w)}document.body.appendChild(S),d(f,(function(){document.body.removeChild(S),n.complete()}))}},{key:"isFontLoadingAPISupported",get:function e(){var t="undefined"!=typeof document&&!!document.fonts;if(t&&"undefined"!=typeof navigator){var r=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);r&&r[1]<63&&(t=!1)}return(0,i.shadow)(this,"isFontLoadingAPISupported",t)}},{key:"isSyncFontLoadingSupported",get:function e(){var t=!1;if("undefined"==typeof navigator)t=!0;else{var r=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);r&&r[1]>=14&&(t=!0)}return(0,i.shadow)(this,"isSyncFontLoadingSupported",t)}},{key:"_loadTestFont",get:function e(){var t=function e(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,i.shadow)(this,"_loadTestFont",t())}}]),t}(u);var c={get value(){return(0,i.shadow)(this,"value",(0,i.isEvalSupported)())}},h=function(){function e(t,r){var n=r.isEvalSupported,i=void 0===n||n,a=r.disableFontFace,o=void 0!==a&&a,u=r.ignoreErrors,l=void 0!==u&&u,c=r.onUnsupportedFeature,h=void 0===c?null:c,d=r.fontRegistry,f=void 0===d?null:d;for(var p in s(this,e),this.compiledGlyphs=Object.create(null),t)this[p]=t[p];this.isEvalSupported=!1!==i,this.disableFontFace=!0===o,this.ignoreErrors=!0===l,this._onUnsupportedFeature=h,this.fontRegistry=f}return n(e,[{key:"createNativeFontFace",value:function e(){if(!this.data||this.disableFontFace)return null;var t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}},{key:"createFontFaceRule",value:function e(){if(!this.data||this.disableFontFace)return null;var t=(0,i.bytesToString)(new Uint8Array(this.data)),r="url(data:"+this.mimetype+";base64,"+btoa(t)+");",n='@font-face {font-family:"'+this.loadedName+'";src:'+r+"}";return this.fontRegistry&&this.fontRegistry.registerFont(this,r),n}},{key:"getPathGenerator",value:function e(t,r){if(void 0!==this.compiledGlyphs[r])return this.compiledGlyphs[r];var n=void 0,a=void 0;try{n=t.get(this.loadedName+"_path_"+r)}catch(h){if(!this.ignoreErrors)throw h;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:i.UNSUPPORTED_FEATURES.font}),(0,i.warn)('getPathGenerator - ignoring character: "'+h+'".'),this.compiledGlyphs[r]=function(e,t){}}if(this.isEvalSupported&&c.value){for(var o=void 0,s="",u=0,l=n.length;u<l;u++)o=void 0!==(a=n[u]).args?a.args.join(","):"",s+="c."+a.cmd+"("+o+");\n";return this.compiledGlyphs[r]=new Function("c","size",s)}return this.compiledGlyphs[r]=function(e,t){for(var r=0,i=n.length;r<i;r++)"scale"===(a=n[r]).cmd&&(a.args=[t,-t]),e[a.cmd].apply(e,a.args)}}}]),e}();t.FontFaceObject=h,t.FontLoader=l},function(e,t,r){"use strict";var n=Object.create(null),i=r(4),a="undefined"!=typeof navigator&&navigator.userAgent||"",o=/Trident/.test(a),s=/CriOS/.test(a);!function e(){(o||s)&&(n.disableCreateObjectURL=!0)}(),function e(){i()&&(n.disableFontFace=!0,n.nativeImageDecoderSupport="none")}(),t.apiCompatibilityParams=Object.freeze(n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var n=r(1),i=r(134),a=16,o=100,s=4096,u=.65,l=!0,c=1e3,h=16,d={get value(){return(0,n.shadow)(d,"value",(0,n.isLittleEndian)())}};function f(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function e(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function e(){var t=this._transformMatrix,r=t[0],n=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=r*a-n*i,l=n*i-r*a;return[a/u,n/l,i/l,r/u,(a*o-i*s)/l,(n*o-r*s)/u]}}),e.save=function e(){var t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},e.restore=function e(){var t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},e.translate=function e(t,r){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*r+n[4],n[5]=n[1]*t+n[3]*r+n[5],this._originalTranslate(t,r)},e.scale=function e(t,r){var n=this._transformMatrix;n[0]=n[0]*t,n[1]=n[1]*t,n[2]=n[2]*r,n[3]=n[3]*r,this._originalScale(t,r)},e.transform=function t(r,n,i,a,o,s){var u=this._transformMatrix;this._transformMatrix=[u[0]*r+u[2]*n,u[1]*r+u[3]*n,u[0]*i+u[2]*a,u[1]*i+u[3]*a,u[0]*o+u[2]*s+u[4],u[1]*o+u[3]*s+u[5]],e._originalTransform(r,n,i,a,o,s)},e.setTransform=function t(r,n,i,a,o,s){this._transformMatrix=[r,n,i,a,o,s],e._originalSetTransform(r,n,i,a,o,s)},e.rotate=function e(t){var r=Math.cos(t),n=Math.sin(t),i=this._transformMatrix;this._transformMatrix=[i[0]*r+i[2]*n,i[1]*r+i[3]*n,i[0]*-n+i[2]*r,i[1]*-n+i[3]*r,i[4],i[5]],this._originalRotate(t)})}var p=function e(){function t(e){this.canvasFactory=e,this.cache=Object.create(null)}return t.prototype={getCanvas:function e(t,r,n,i){var a;return void 0!==this.cache[t]?(a=this.cache[t],this.canvasFactory.reset(a,r,n),a.context.setTransform(1,0,0,1,0,0)):(a=this.canvasFactory.create(r,n),this.cache[t]=a),i&&f(a.context),a},clear:function e(){for(var t in this.cache){var r=this.cache[t];this.canvasFactory.destroy(r),delete this.cache[t]}}},t}();function v(e){var t=1e3,r=e.width,n=e.height,i,a,o,s=r+1,u=new Uint8Array(s*(n+1)),l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),c=r+7&-8,h=e.data,d=new Uint8Array(c*n),f=0,p;for(i=0,p=h.length;i<p;i++)for(var v=128,m=h[i];v>0;)d[f++]=m&v?0:255,v>>=1;var g=0;for(0!==d[f=0]&&(u[0]=1,++g),a=1;a<r;a++)d[f]!==d[f+1]&&(u[a]=d[f]?2:1,++g),f++;for(0!==d[f]&&(u[a]=2,++g),i=1;i<n;i++){o=i*s,d[(f=i*c)-c]!==d[f]&&(u[o]=d[f]?1:8,++g);var y=(d[f]?4:0)+(d[f-c]?8:0);for(a=1;a<r;a++)l[y=(y>>2)+(d[f+1]?4:0)+(d[f-c+1]?8:0)]&&(u[o+a]=l[y],++g),f++;if(d[f-c]!==d[f]&&(u[o+a]=d[f]?2:4,++g),g>1e3)return null}for(o=i*s,0!==d[f=c*(n-1)]&&(u[o]=8,++g),a=1;a<r;a++)d[f]!==d[f+1]&&(u[o+a]=d[f]?4:8,++g),f++;if(0!==d[f]&&(u[o+a]=4,++g),g>1e3)return null;var b=new Int32Array([0,s,-1,0,-s,0,0,0,1]),_=[],A;for(i=0;g&&i<=n;i++){for(var S=i*s,w=S+r;S<w&&!u[S];)S++;if(S!==w){var k=[S%s,i],P=u[S],x=S,C;do{var R=b[P];do{S+=R}while(!u[S]);5!==(C=u[S])&&10!==C?(P=C,u[S]=0):(P=C&51*P>>4,u[S]&=P>>2|P<<2),k.push(S%s),k.push(S/s|0),--g}while(x!==S);_.push(k),--i}}return function e(t){t.save(),t.scale(1/r,-1/n),t.translate(0,-n),t.beginPath();for(var i=0,a=_.length;i<a;i++){var o=_[i];t.moveTo(o[0],o[1]);for(var s=2,u=o.length;s<u;s+=2)t.lineTo(o[s],o[s+1])}t.fill(),t.beginPath(),t.restore()}}var m=function e(){function t(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=n.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=n.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=n.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return t.prototype={clone:function e(){return Object.create(this)},setCurrentPoint:function e(t,r){this.x=t,this.y=r}},t}(),g=function e(){var t=15,r=10;function a(e,t,r,n,i,a){this.ctx=e,this.current=new m,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=n,this.webGLContext=i,this.imageLayer=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new p(this.canvasFactory),e&&f(e),this._cachedGetSinglePixelWidth=null}function o(e,t){if("undefined"!=typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var r=t.height,i=t.width,a=r%h,o=(r-a)/h,s=0===a?o:o+1,u=e.createImageData(i,h),l=0,c,f=t.data,p=u.data,v,m,g,y;if(t.kind===n.ImageKind.GRAYSCALE_1BPP){var b=f.byteLength,_=new Uint32Array(p.buffer,0,p.byteLength>>2),A=_.length,S=i+7>>3,w=4294967295,k=d.value?4278190080:255;for(v=0;v<s;v++){for(g=v<o?h:a,c=0,m=0;m<g;m++){for(var P=b-l,x=0,C=P>S?i:8*P-7,R=-8&C,E=0,T=0;x<R;x+=8)T=f[l++],_[c++]=128&T?w:k,_[c++]=64&T?w:k,_[c++]=32&T?w:k,_[c++]=16&T?w:k,_[c++]=8&T?w:k,_[c++]=4&T?w:k,_[c++]=2&T?w:k,_[c++]=1&T?w:k;for(;x<C;x++)0===E&&(T=f[l++],E=128),_[c++]=T&E?w:k,E>>=1}for(;c<A;)_[c++]=0;e.putImageData(u,0,v*h)}}else if(t.kind===n.ImageKind.RGBA_32BPP){for(m=0,y=i*h*4,v=0;v<o;v++)p.set(f.subarray(l,l+y)),l+=y,e.putImageData(u,0,m),m+=h;v<s&&(y=i*a*4,p.set(f.subarray(l,l+y)),e.putImageData(u,0,m))}else{if(t.kind!==n.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+t.kind);for(y=i*(g=h),v=0;v<s;v++){for(v>=o&&(y=i*(g=a)),c=0,m=y;m--;)p[c++]=f[l++],p[c++]=f[l++],p[c++]=f[l++],p[c++]=255;e.putImageData(u,0,v*h)}}}}function s(e,t){for(var r=t.height,n=t.width,i=r%h,a=(r-i)/h,o=0===i?a:a+1,s=e.createImageData(n,h),u=0,l=t.data,c=s.data,d=0;d<o;d++){for(var f=d<a?h:i,p=3,v=0;v<f;v++)for(var m=0,g=0;g<n;g++){if(!m){var y=l[u++];m=128}c[p]=y&m?0:255,p+=4,m>>=1}e.putImageData(s,0,d*h)}}function u(e,t){for(var r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],n=0,i=r.length;n<i;n++){var a=r[n];void 0!==e[a]&&(t[a]=e[a])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function l(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function c(e,t,r,n){for(var i=e.length,a=3;a<i;a+=4){var o=e[a];if(0===o)e[a-3]=t,e[a-2]=r,e[a-1]=n;else if(o<255){var s=255-o;e[a-3]=e[a-3]*o+t*s>>8,e[a-2]=e[a-2]*o+r*s>>8,e[a-1]=e[a-1]*o+n*s>>8}}}function g(e,t,r){for(var n=e.length,i=1/255,a=3;a<n;a+=4){var o=r?r[e[a]]:e[a];t[a]=t[a]*o*(1/255)|0}}function y(e,t,r){for(var n=e.length,i=3;i<n;i+=4){var a=77*e[i-3]+152*e[i-2]+28*e[i-1];t[i]=r?t[i]*r[a>>8]>>8:t[i]*a>>16}}function b(e,t,r,n,i,a,o){var s=!!a,u=s?a[0]:0,l=s?a[1]:0,h=s?a[2]:0,d;d="Luminosity"===i?y:g;for(var f=1048576,p=Math.min(n,Math.ceil(1048576/r)),v=0;v<n;v+=p){var m=Math.min(p,n-v),b=e.getImageData(0,v,r,m),_=t.getImageData(0,v,r,m);s&&c(b.data,u,l,h),d(b.data,_.data,o),e.putImageData(_,0,v)}}function _(e,t,r,n){var i=t.canvas,a=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var o=t.backdrop||null;if(!t.transferMap&&n.isEnabled){var s=n.composeSMask({layer:r.canvas,mask:i,properties:{subtype:t.subtype,backdrop:o}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(s,t.offsetX,t.offsetY)}b(a,r,i.width,i.height,t.subtype,o,t.transferMap),e.drawImage(i,0,0)}var A=["butt","round","square"],S=["miter","round","bevel"],w={},k={};for(var P in a.prototype={beginDrawing:function e(t){var r=t.transform,n=t.viewport,i=t.transparency,a=t.background,o=void 0===a?null:a,s=this.ctx.canvas.width,u=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=o||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,u),this.ctx.restore(),i){var c=this.cachedCanvases.getCanvas("transparent",s,u,!0);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),l(this.ctx),r&&this.ctx.transform.apply(this.ctx,r),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function e(t,r,i,a){var o=t.argsArray,s=t.fnArray,u=r||0,l=o.length;if(l===u)return u;for(var c=l-u>10&&"function"==typeof i,h=c?Date.now()+15:0,d=0,f=this.commonObjs,p=this.objs,v;;){if(void 0!==a&&u===a.nextBreakPoint)return a.breakIt(u,i),u;if((v=s[u])!==n.OPS.dependency)this[v].apply(this,o[u]);else for(var m=o[u],g=0,y=m.length;g<y;g++){var b=m[g],_,A="g"===b[0]&&"_"===b[1]?f:p;if(!A.isResolved(b))return A.get(b,i),u}if(++u===l)return u;if(c&&++d>10){if(Date.now()>h)return i(),u;d=0}}},endDrawing:function e(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function e(t){this.current.lineWidth=t,this.ctx.lineWidth=t},setLineCap:function e(t){this.ctx.lineCap=A[t]},setLineJoin:function e(t){this.ctx.lineJoin=S[t]},setMiterLimit:function e(t){this.ctx.miterLimit=t},setDash:function e(t,r){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=r)},setRenderingIntent:function e(t){},setFlatness:function e(t){},setGState:function e(t){for(var r=0,n=t.length;r<n;r++){var i=t[r],a=i[0],o=i[1];switch(a){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=i[1];break;case"ca":this.current.fillAlpha=i[1],this.ctx.globalAlpha=i[1];break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=o?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function e(){var t=this.current.activeSMask,r=t.canvas.width,n=t.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,r,n,!0),o=this.ctx,s=o.mozCurrentTransform;this.ctx.save();var l=a.context;l.scale(1/t.scaleX,1/t.scaleY),l.translate(-t.offsetX,-t.offsetY),l.transform.apply(l,s),t.startTransformInverse=l.mozCurrentTransformInverse,u(o,l),this.ctx=l,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(o),this.groupLevel++},suspendSMaskGroup:function e(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),_(this.ctx,this.current.activeSMask,t,this.webGLContext),this.ctx.restore(),this.ctx.save(),u(t,this.ctx),this.current.resumeSMaskCtx=t;var r=n.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,r),t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.restore()},resumeSMaskGroup:function e(){var t=this.current.resumeSMaskCtx,r=this.ctx;this.ctx=t,this.groupStack.push(r),this.groupLevel++},endSMaskGroup:function e(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),_(this.ctx,this.current.activeSMask,t,this.webGLContext),this.ctx.restore(),u(t,this.ctx);var r=n.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,r)},save:function e(){this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone(),this.current.resumeSMaskCtx=null},restore:function e(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function e(t,r,n,i,a,o){this.ctx.transform(t,r,n,i,a,o),this._cachedGetSinglePixelWidth=null},constructPath:function e(t,r){for(var i=this.ctx,a=this.current,o=a.x,s=a.y,u=0,l=0,c=t.length;u<c;u++)switch(0|t[u]){case n.OPS.rectangle:o=r[l++],s=r[l++];var h=r[l++],d=r[l++];0===h&&(h=this.getSinglePixelWidth()),0===d&&(d=this.getSinglePixelWidth());var f=o+h,p=s+d;this.ctx.moveTo(o,s),this.ctx.lineTo(f,s),this.ctx.lineTo(f,p),this.ctx.lineTo(o,p),this.ctx.lineTo(o,s),this.ctx.closePath();break;case n.OPS.moveTo:o=r[l++],s=r[l++],i.moveTo(o,s);break;case n.OPS.lineTo:o=r[l++],s=r[l++],i.lineTo(o,s);break;case n.OPS.curveTo:o=r[l+4],s=r[l+5],i.bezierCurveTo(r[l],r[l+1],r[l+2],r[l+3],o,s),l+=6;break;case n.OPS.curveTo2:i.bezierCurveTo(o,s,r[l],r[l+1],r[l+2],r[l+3]),o=r[l+2],s=r[l+3],l+=4;break;case n.OPS.curveTo3:o=r[l+2],s=r[l+3],i.bezierCurveTo(r[l],r[l+1],o,s,o,s),l+=4;break;case n.OPS.closePath:i.closePath()}a.setCurrentPoint(o,s)},closePath:function e(){this.ctx.closePath()},stroke:function e(t){t=void 0===t||t;var r=this.ctx,n=this.current.strokeColor;r.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),r.globalAlpha=this.current.strokeAlpha,n&&n.hasOwnProperty("type")&&"Pattern"===n.type?(r.save(),r.strokeStyle=n.getPattern(r,this),r.stroke(),r.restore()):r.stroke(),t&&this.consumePath(),r.globalAlpha=this.current.fillAlpha},closeStroke:function e(){this.closePath(),this.stroke()},fill:function e(t){t=void 0===t||t;var r=this.ctx,n=this.current.fillColor,i,a=!1;this.current.patternFill&&(r.save(),this.baseTransform&&r.setTransform.apply(r,this.baseTransform),r.fillStyle=n.getPattern(r,this),a=!0),this.pendingEOFill?(r.fill("evenodd"),this.pendingEOFill=!1):r.fill(),a&&r.restore(),t&&this.consumePath()},eoFill:function e(){this.pendingEOFill=!0,this.fill()},fillStroke:function e(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function e(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function e(){this.closePath(),this.fillStroke()},closeEOFillStroke:function e(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function e(){this.consumePath()},clip:function e(){this.pendingClip=w},eoClip:function e(){this.pendingClip=k},beginText:function e(){this.current.textMatrix=n.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function e(){var t=this.pendingTextPaths,r=this.ctx;if(void 0!==t){r.save(),r.beginPath();for(var n=0;n<t.length;n++){var i=t[n];r.setTransform.apply(r,i.transform),r.translate(i.x,i.y),i.addToPath(r,i.fontSize)}r.restore(),r.clip(),r.beginPath(),delete this.pendingTextPaths}else r.beginPath()},setCharSpacing:function e(t){this.current.charSpacing=t},setWordSpacing:function e(t){this.current.wordSpacing=t},setHScale:function e(t){this.current.textHScale=t/100},setLeading:function e(t){this.current.leading=-t},setFont:function e(t,r){var i=this.commonObjs.get(t),a=this.current;if(!i)throw new Error("Can't find font for "+t);if(a.fontMatrix=i.fontMatrix?i.fontMatrix:n.FONT_IDENTITY_MATRIX,0!==a.fontMatrix[0]&&0!==a.fontMatrix[3]||(0,n.warn)("Invalid font matrix for font "+t),r<0?(r=-r,a.fontDirection=-1):a.fontDirection=1,this.current.font=i,this.current.fontSize=r,!i.isType3Font){var o=i.loadedName||"sans-serif",s=i.black?"900":i.bold?"bold":"normal",u=i.italic?"italic":"normal",l='"'+o+'", '+i.fallbackName,c=r<16?16:r>100?100:r;this.current.fontSizeScale=r/c;var h=u+" "+s+" "+c+"px "+l;this.ctx.font=h}},setTextRenderingMode:function e(t){this.current.textRenderingMode=t},setTextRise:function e(t){this.current.textRise=t},moveText:function e(t,r){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=r},setLeadingMoveText:function e(t,r){this.setLeading(-r),this.moveText(t,r)},setTextMatrix:function e(t,r,n,i,a,o){this.current.textMatrix=[t,r,n,i,a,o],this.current.textMatrixScale=Math.sqrt(t*t+r*r),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function e(){this.moveText(0,this.current.leading)},paintChar:function e(t,r,i,a){var o=this.ctx,s=this.current,u=s.font,l=s.textRenderingMode,c=s.fontSize/s.fontSizeScale,h=l&n.TextRenderingMode.FILL_STROKE_MASK,d=!!(l&n.TextRenderingMode.ADD_TO_PATH_FLAG),f=s.patternFill&&u.data,p,v;((u.disableFontFace||d||f)&&(p=u.getPathGenerator(this.commonObjs,t)),u.disableFontFace||f?(o.save(),o.translate(r,i),o.beginPath(),p(o,c),a&&o.setTransform.apply(o,a),h!==n.TextRenderingMode.FILL&&h!==n.TextRenderingMode.FILL_STROKE||o.fill(),h!==n.TextRenderingMode.STROKE&&h!==n.TextRenderingMode.FILL_STROKE||o.stroke(),o.restore()):(h!==n.TextRenderingMode.FILL&&h!==n.TextRenderingMode.FILL_STROKE||o.fillText(t,r,i),h!==n.TextRenderingMode.STROKE&&h!==n.TextRenderingMode.FILL_STROKE||o.strokeText(t,r,i)),d)&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:o.mozCurrentTransform,x:r,y:i,fontSize:c,addToPath:p})},get isFontSubpixelAAEnabled(){var e=this.canvasFactory.create(10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,r=!1,i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){r=!0;break}return(0,n.shadow)(this,"isFontSubpixelAAEnabled",r)},showText:function e(t){var r=this.current,i=r.font;if(i.isType3Font)return this.showType3Text(t);var a=r.fontSize;if(0!==a){var o=this.ctx,s=r.fontSizeScale,u=r.charSpacing,l=r.wordSpacing,c=r.fontDirection,h=r.textHScale*c,d=t.length,f=i.vertical,p=f?1:-1,v=i.defaultVMetrics,m=a*r.fontMatrix[0],g=r.textRenderingMode===n.TextRenderingMode.FILL&&!i.disableFontFace&&!r.patternFill;o.save();var y=void 0;if(r.patternFill){o.save();var b=r.fillColor.getPattern(o,this);y=o.mozCurrentTransform,o.restore(),o.fillStyle=b}o.transform.apply(o,r.textMatrix),o.translate(r.x,r.y+r.textRise),c>0?o.scale(h,-1):o.scale(h,1);var _=r.lineWidth,A=r.textMatrixScale;if(0===A||0===_){var S=r.textRenderingMode&n.TextRenderingMode.FILL_STROKE_MASK;S!==n.TextRenderingMode.STROKE&&S!==n.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,_=.65*this.getSinglePixelWidth())}else _/=A;1!==s&&(o.scale(s,s),_/=s),o.lineWidth=_;var w=0,k;for(k=0;k<d;++k){var P=t[k];if((0,n.isNum)(P))w+=p*P*a/1e3;else{var x=!1,C=(P.isSpace?l:0)+u,R=P.fontChar,E=P.accent,T,O,I,F,L=P.width,j,M,D,N;if(f)j=P.vmetric||v,M=-(M=P.vmetric?j[1]:.5*L)*m,D=j[2]*m,L=j?-j[0]:L,T=M/s,O=(w+D)/s;else T=w/s,O=0;if(i.remeasure&&L>0){var q=1e3*o.measureText(R).width/a*s;if(L<q&&this.isFontSubpixelAAEnabled){var W=L/q;x=!0,o.save(),o.scale(W,1),T/=W}else L!==q&&(T+=(L-q)/2e3*a/s)}(P.isInFont||i.missingFile)&&(g&&!E?o.fillText(R,T,O):(this.paintChar(R,T,O,y),E&&(I=T+E.offset.x/s,F=O-E.offset.y/s,this.paintChar(E.fontChar,I,F,y)))),w+=L*m+C*c,x&&o.restore()}}f?r.y-=w*h:r.x+=w*h,o.restore()}},showType3Text:function e(t){var r=this.ctx,i=this.current,a=i.font,o=i.fontSize,s=i.fontDirection,u=a.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,h=i.textHScale*s,d=i.fontMatrix||n.FONT_IDENTITY_MATRIX,f=t.length,p,v,m,g,y;if(!(i.textRenderingMode===n.TextRenderingMode.INVISIBLE)&&0!==o){for(this._cachedGetSinglePixelWidth=null,r.save(),r.transform.apply(r,i.textMatrix),r.translate(i.x,i.y),r.scale(h,s),v=0;v<f;++v)if(m=t[v],(0,n.isNum)(m))y=u*m*o/1e3,this.ctx.translate(y,0),i.x+=y*h;else{var b=(m.isSpace?c:0)+l,_=a.charProcOperatorList[m.operatorListId],A;if(_)this.processingType3=m,this.save(),r.scale(o,o),r.transform.apply(r,d),this.executeOperatorList(_),this.restore(),g=n.Util.applyTransform([m.width,0],d)[0]*o+b,r.translate(g,0),i.x+=g*h;else(0,n.warn)('Type3 character "'+m.operatorListId+'" is not available.')}r.restore(),this.processingType3=null}},setCharWidth:function e(t,r){},setCharWidthAndBounds:function e(t,r,n,i,a,o){this.ctx.rect(n,i,a-n,o-i),this.clip(),this.endPath()},getColorN_Pattern:function e(t){var r=this,n;if("TilingPattern"===t[0]){var o=t[1],s=this.baseTransform||this.ctx.mozCurrentTransform.slice(),u={createCanvasGraphics:function e(t){return new a(t,r.commonObjs,r.objs,r.canvasFactory,r.webGLContext)}};n=new i.TilingPattern(t,o,this.ctx,u,s)}else n=(0,i.getShadingPatternFromIR)(t);return n},setStrokeColorN:function e(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function e(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function e(t,r,i){var a=n.Util.makeCssRgb(t,r,i);this.ctx.strokeStyle=a,this.current.strokeColor=a},setFillRGBColor:function e(t,r,i){var a=n.Util.makeCssRgb(t,r,i);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1},shadingFill:function e(t){var r=this.ctx;this.save();var a=(0,i.getShadingPatternFromIR)(t);r.fillStyle=a.getPattern(r,this,!0);var o=r.mozCurrentTransformInverse;if(o){var s=r.canvas,u=s.width,l=s.height,c=n.Util.applyTransform([0,0],o),h=n.Util.applyTransform([0,l],o),d=n.Util.applyTransform([u,0],o),f=n.Util.applyTransform([u,l],o),p=Math.min(c[0],h[0],d[0],f[0]),v=Math.min(c[1],h[1],d[1],f[1]),m=Math.max(c[0],h[0],d[0],f[0]),g=Math.max(c[1],h[1],d[1],f[1]);this.ctx.fillRect(p,v,m-p,g-v)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function e(){(0,n.unreachable)("Should not call beginInlineImage")},beginImageData:function e(){(0,n.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function e(t,r){if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,Array.isArray(r)&&4===r.length){var n=r[2]-r[0],i=r[3]-r[1];this.ctx.rect(r[0],r[1],n,i),this.clip(),this.endPath()}},paintFormXObjectEnd:function e(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function e(t){this.save();var r=this.ctx;t.isolated||(0,n.info)("TODO: Support non-isolated groups."),t.knockout&&(0,n.warn)("Knockout groups not supported.");var i=r.mozCurrentTransform;if(t.matrix&&r.transform.apply(r,t.matrix),!t.bbox)throw new Error("Bounding box is required.");var a=n.Util.getAxialAlignedBoundingBox(t.bbox,r.mozCurrentTransform),o=[0,0,r.canvas.width,r.canvas.height];a=n.Util.intersect(a,o)||[0,0,0,0];var s=Math.floor(a[0]),l=Math.floor(a[1]),c=Math.max(Math.ceil(a[2])-s,1),h=Math.max(Math.ceil(a[3])-l,1),d=1,f=1;c>4096&&(d=c/4096,c=4096),h>4096&&(f=h/4096,h=4096);var p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);var v=this.cachedCanvases.getCanvas(p,c,h,!0),m=v.context;m.scale(1/d,1/f),m.translate(-s,-l),m.transform.apply(m,i),t.smask?this.smaskStack.push({canvas:v.canvas,context:m,offsetX:s,offsetY:l,scaleX:d,scaleY:f,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(r.setTransform(1,0,0,1,0,0),r.translate(s,l),r.scale(d,f)),u(r,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++,this.current.activeSMask=null},endGroup:function e(t){this.groupLevel--;var r=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,t.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(r.canvas,0,0),this.restore()},beginAnnotations:function e(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function e(){this.restore()},beginAnnotation:function e(t,r,n){if(this.save(),l(this.ctx),this.current=new m,Array.isArray(t)&&4===t.length){var i=t[2]-t[0],a=t[3]-t[1];this.ctx.rect(t[0],t[1],i,a),this.clip(),this.endPath()}this.transform.apply(this,r),this.transform.apply(this,n)},endAnnotation:function e(){this.restore()},paintJpegXObject:function e(t,r,i){var a=this.objs.get(t);if(a){this.save();var o=this.ctx;if(o.scale(1/r,-1/i),o.drawImage(a,0,0,a.width,a.height,0,-i,r,i),this.imageLayer){var s=o.mozCurrentTransformInverse,u=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:t,left:u[0],top:u[1],width:r/s[0],height:i/s[3]})}this.restore()}else(0,n.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function e(t){var r=this.ctx,n=t.width,i=t.height,a=this.current.fillColor,o=this.current.patternFill,u=this.processingType3;if(u&&void 0===u.compiled&&(u.compiled=n<=1e3&&i<=1e3?v({data:t.data,width:n,height:i}):null),u&&u.compiled)u.compiled(r);else{var l=this.cachedCanvases.getCanvas("maskCanvas",n,i),c=l.context;c.save(),s(c,t),c.globalCompositeOperation="source-in",c.fillStyle=o?a.getPattern(c,this):a,c.fillRect(0,0,n,i),c.restore(),this.paintInlineImageXObject(l.canvas)}},paintImageMaskXObjectRepeat:function e(t,r,n,i){var a=t.width,o=t.height,u=this.current.fillColor,l=this.current.patternFill,c=this.cachedCanvases.getCanvas("maskCanvas",a,o),h=c.context;h.save(),s(h,t),h.globalCompositeOperation="source-in",h.fillStyle=l?u.getPattern(h,this):u,h.fillRect(0,0,a,o),h.restore();for(var d=this.ctx,f=0,p=i.length;f<p;f+=2)d.save(),d.transform(r,0,0,n,i[f],i[f+1]),d.scale(1,-1),d.drawImage(c.canvas,0,0,a,o,0,-1,1,1),d.restore()},paintImageMaskXObjectGroup:function e(t){for(var r=this.ctx,n=this.current.fillColor,i=this.current.patternFill,a=0,o=t.length;a<o;a++){var u=t[a],l=u.width,c=u.height,h=this.cachedCanvases.getCanvas("maskCanvas",l,c),d=h.context;d.save(),s(d,u),d.globalCompositeOperation="source-in",d.fillStyle=i?n.getPattern(d,this):n,d.fillRect(0,0,l,c),d.restore(),r.save(),r.transform.apply(r,u.transform),r.scale(1,-1),r.drawImage(h.canvas,0,0,l,c,0,-1,1,1),r.restore()}},paintImageXObject:function e(t){var r=this.objs.get(t);r?this.paintInlineImageXObject(r):(0,n.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function e(t,r,i,a){var o=this.objs.get(t);if(o){for(var s=o.width,u=o.height,l=[],c=0,h=a.length;c<h;c+=2)l.push({transform:[r,0,0,i,a[c],a[c+1]],x:0,y:0,w:s,h:u});this.paintInlineImageXObjectGroup(o,l)}else(0,n.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function e(t){var r=t.width,n=t.height,i=this.ctx;this.save(),i.scale(1/r,-1/n);var a=i.mozCurrentTransformInverse,s=a[0],u=a[1],l=Math.max(Math.sqrt(s*s+u*u),1),c=a[2],h=a[3],d=Math.max(Math.sqrt(c*c+h*h),1),f,p;if("function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)f=t;else{var v=(p=this.cachedCanvases.getCanvas("inlineImage",r,n)).context;o(v,t),f=p.canvas}for(var m=r,g=n,y="prescale1";l>2&&m>1||d>2&&g>1;){var b=m,_=g;l>2&&m>1&&(l/=m/(b=Math.ceil(m/2))),d>2&&g>1&&(d/=g/(_=Math.ceil(g/2))),(v=(p=this.cachedCanvases.getCanvas(y,b,_)).context).clearRect(0,0,b,_),v.drawImage(f,0,0,m,g,0,0,b,_),f=p.canvas,m=b,g=_,y="prescale1"===y?"prescale2":"prescale1"}if(i.drawImage(f,0,0,m,g,0,-n,r,n),this.imageLayer){var A=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:t,left:A[0],top:A[1],width:r/a[0],height:n/a[3]})}this.restore()},paintInlineImageXObjectGroup:function e(t,r){var n=this.ctx,i=t.width,a=t.height,s=this.cachedCanvases.getCanvas("inlineImage",i,a),u;o(s.context,t);for(var l=0,c=r.length;l<c;l++){var h=r[l];if(n.save(),n.transform.apply(n,h.transform),n.scale(1,-1),n.drawImage(s.canvas,h.x,h.y,h.w,h.h,0,-1,1,1),this.imageLayer){var d=this.getCanvasPosition(h.x,h.y);this.imageLayer.appendImage({imgData:t,left:d[0],top:d[1],width:i,height:a})}n.restore()}},paintSolidColorImageMask:function e(){this.ctx.fillRect(0,0,1,1)},paintXObject:function e(){(0,n.warn)("Unsupported 'paintXObject' command.")},markPoint:function e(t){},markPointProps:function e(t,r){},beginMarkedContent:function e(t){},beginMarkedContentProps:function e(t,r){},endMarkedContent:function e(){},beginCompat:function e(){},endCompat:function e(){},consumePath:function e(){var t=this.ctx;this.pendingClip&&(this.pendingClip===k?t.clip("evenodd"):t.clip(),this.pendingClip=null),t.beginPath()},getSinglePixelWidth:function e(t){if(null===this._cachedGetSinglePixelWidth){var r=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(r[0]*r[0]+r[1]*r[1],r[2]*r[2]+r[3]*r[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function e(t,r){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*r+n[4],n[1]*t+n[3]*r+n[5]]}},n.OPS)a.prototype[n.OPS[P]]=a.prototype[P];return a}();t.CanvasGraphics=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.getShadingPatternFromIR=void 0;var n=r(1),i={RadialAxial:{fromIR:function e(t){var r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6];return{type:"Pattern",getPattern:function e(t){var u;"axial"===r?u=t.createLinearGradient(i[0],i[1],a[0],a[1]):"radial"===r&&(u=t.createRadialGradient(i[0],i[1],o,a[0],a[1],s));for(var l=0,c=n.length;l<c;++l){var h=n[l];u.addColorStop(h[0],h[1])}return u}}}}},a=function e(){function t(e,t,r,n,i,a,o,s){var u=t.coords,l=t.colors,c=e.data,h=4*e.width,d;u[r+1]>u[n+1]&&(d=r,r=n,n=d,d=a,a=o,o=d),u[n+1]>u[i+1]&&(d=n,n=i,i=d,d=o,o=s,s=d),u[r+1]>u[n+1]&&(d=r,r=n,n=d,d=a,a=o,o=d);var f=(u[r]+t.offsetX)*t.scaleX,p=(u[r+1]+t.offsetY)*t.scaleY,v=(u[n]+t.offsetX)*t.scaleX,m=(u[n+1]+t.offsetY)*t.scaleY,g=(u[i]+t.offsetX)*t.scaleX,y=(u[i+1]+t.offsetY)*t.scaleY;if(!(p>=y))for(var b=l[a],_=l[a+1],A=l[a+2],S=l[o],w=l[o+1],k=l[o+2],P=l[s],x=l[s+1],C=l[s+2],R=Math.round(p),E=Math.round(y),T,O,I,F,L,j,M,D,N,q=R;q<=E;q++){q<m?(T=f-(f-v)*(N=q<p?0:p===m?1:(p-q)/(p-m)),O=b-(b-S)*N,I=_-(_-w)*N,F=A-(A-k)*N):(T=v-(v-g)*(N=q>y?1:m===y?0:(m-q)/(m-y)),O=S-(S-P)*N,I=w-(w-x)*N,F=k-(k-C)*N),L=f-(f-g)*(N=q<p?0:q>y?1:(p-q)/(p-y)),j=b-(b-P)*N,M=_-(_-x)*N,D=A-(A-C)*N;for(var W=Math.round(Math.min(T,L)),U=Math.round(Math.max(T,L)),B=h*q+4*W,z=W;z<=U;z++)N=(N=(T-z)/(T-L))<0?0:N>1?1:N,c[B++]=O-(O-j)*N|0,c[B++]=I-(I-M)*N|0,c[B++]=F-(F-D)*N|0,c[B++]=255}}function r(e,r,n){var i=r.coords,a=r.colors,o,s;switch(r.type){case"lattice":var u=r.verticesPerRow,l=Math.floor(i.length/u)-1,c=u-1;for(o=0;o<l;o++)for(var h=o*u,d=0;d<c;d++,h++)t(e,n,i[h],i[h+1],i[h+u],a[h],a[h+1],a[h+u]),t(e,n,i[h+u+1],i[h+1],i[h+u],a[h+u+1],a[h+1],a[h+u]);break;case"triangles":for(o=0,s=i.length;o<s;o+=3)t(e,n,i[o],i[o+1],i[o+2],a[o],a[o+1],a[o+2]);break;default:throw new Error("illegal figure")}}function n(e,t,n,i,a,o,s,u){var l=1.1,c=3e3,h=2,d=Math.floor(e[0]),f=Math.floor(e[1]),p=Math.ceil(e[2])-d,v=Math.ceil(e[3])-f,m=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(v*t[1]*1.1)),3e3),y=p/m,b=v/g,_={coords:n,colors:i,offsetX:-d,offsetY:-f,scaleX:1/y,scaleY:1/b},A=m+4,S=g+4,w,k,P,x;if(u.isEnabled)w=u.drawFigures({width:m,height:g,backgroundColor:o,figures:a,context:_}),(k=s.getCanvas("mesh",A,S,!1)).context.drawImage(w,2,2),w=k.canvas;else{var C=(k=s.getCanvas("mesh",A,S,!1)).context,R=C.createImageData(m,g);if(o){var E=R.data;for(P=0,x=E.length;P<x;P+=4)E[P]=o[0],E[P+1]=o[1],E[P+2]=o[2],E[P+3]=255}for(P=0;P<a.length;P++)r(R,a[P],_);C.putImageData(R,2,2),w=k.canvas}return{canvas:w,offsetX:d-2*y,offsetY:f-2*b,scaleX:y,scaleY:b}}return n}();function o(e){var t=i[e[0]];if(!t)throw new Error("Unknown IR type: "+e[0]);return t.fromIR(e)}i.Mesh={fromIR:function e(t){var r=t[2],i=t[3],o=t[4],s=t[5],u=t[6],l=t[8];return{type:"Pattern",getPattern:function e(t,c,h){var d;if(h)d=n.Util.singularValueDecompose2dScale(t.mozCurrentTransform);else if(d=n.Util.singularValueDecompose2dScale(c.baseTransform),u){var f=n.Util.singularValueDecompose2dScale(u);d=[d[0]*f[0],d[1]*f[1]]}var p=a(s,d,r,i,o,h?null:l,c.cachedCanvases,c.webGLContext);return h||(t.setTransform.apply(t,c.baseTransform),u&&t.transform.apply(t,u)),t.translate(p.offsetX,p.offsetY),t.scale(p.scaleX,p.scaleY),t.createPattern(p.canvas,"no-repeat")}}}},i.Dummy={fromIR:function e(){return{type:"Pattern",getPattern:function e(){return"hotpink"}}}};var s=function e(){var t=1,r=2,i=3e3;function a(e,t,r,n,i){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=n,this.baseTransform=i,this.type="Pattern",this.ctx=r}return a.prototype={createPatternCanvas:function e(t){var r=this.operatorList,i=this.bbox,a=this.xstep,o=this.ystep,s=this.paintType,u=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+u);var h=i[0],d=i[1],f=i[2],p=i[3],v=[h,d],m=[h+a,d+o],g=m[0]-v[0],y=m[1]-v[1],b=n.Util.singularValueDecompose2dScale(this.matrix),_=n.Util.singularValueDecompose2dScale(this.baseTransform),A=[b[0]*_[0],b[1]*_[1]];g=Math.min(Math.ceil(Math.abs(g*A[0])),3e3),y=Math.min(Math.ceil(Math.abs(y*A[1])),3e3);var S=t.cachedCanvases.getCanvas("pattern",g,y,!0),w=S.context,k=c.createCanvasGraphics(w);k.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(k,s,l),this.setScale(g,y,a,o),this.transformToScale(k);var P=[1,0,0,1,-v[0],-v[1]];return k.transform.apply(k,P),this.clipBbox(k,i,h,d,f,p),k.executeOperatorList(r),S.canvas},setScale:function e(t,r,n,i){this.scale=[t/n,r/i]},transformToScale:function e(t){var r=this.scale,n=[r[0],0,0,r[1],0,0];t.transform.apply(t,n)},scaleToContext:function e(){var t=this.scale;this.ctx.scale(1/t[0],1/t[1])},clipBbox:function e(t,r,n,i,a,o){if(Array.isArray(r)&&4===r.length){var s=a-n,u=o-i;t.ctx.rect(n,i,s,u),t.clip(),t.endPath()}},setFillAndStrokeStyleToContext:function e(i,a,o){var s=i.ctx,u=i.current;switch(a){case t:var l=this.ctx;s.fillStyle=l.fillStyle,s.strokeStyle=l.strokeStyle,u.fillColor=l.fillStyle,u.strokeColor=l.strokeStyle;break;case r:var c=n.Util.makeCssRgb(o[0],o[1],o[2]);s.fillStyle=c,s.strokeStyle=c,u.fillColor=c,u.strokeColor=c;break;default:throw new n.FormatError("Unsupported paint type: "+a)}},getPattern:function e(t,r){var n=this.createPatternCanvas(r);return(t=this.ctx).setTransform.apply(t,this.baseTransform),t.transform.apply(t,this.matrix),this.scaleToContext(),t.createPattern(n,"repeat")}},a}();t.getShadingPatternFromIR=o,t.TilingPattern=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.create(null);n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc,t.GlobalWorkerOptions=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var n,i=l(r(137)),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=(s=c(i.default.mark((function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i.default.wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return");case 2:return i.abrupt("return",t.apply(n,r));case 3:case"end":return i.stop()}}),e,this)}))),function e(t,r){return s.apply(this,arguments)}),s,u=r(1);function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){function n(i,a){try{var o=t[i](a),s=o.value}catch(u){return void r(u)}if(!o.done)return Promise.resolve(s).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(s)}return n("next")}))}}function h(e){if("object"!==(void 0===e?"undefined":a(e)))return e;switch(e.name){case"AbortException":return new u.AbortException(e.message);case"MissingPDFException":return new u.MissingPDFException(e.message);case"UnexpectedResponseException":return new u.UnexpectedResponseException(e.message,e.status);default:return new u.UnknownErrorException(e.message,e.details)}}function d(e){return!(e instanceof Error)||e instanceof u.AbortException||e instanceof u.MissingPDFException||e instanceof u.UnexpectedResponseException||e instanceof u.UnknownErrorException?e:new u.UnknownErrorException(e.message,e.toString())}function f(e,t,r){t?e.resolve():e.reject(r)}function p(e){return Promise.resolve(e).catch((function(){}))}function v(e,t,r){var n=this;this.sourceName=e,this.targetName=t,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null);var i=this.callbacksCapabilities=Object.create(null),a=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===n.sourceName)if(t.stream)n._processStreamMessage(t);else if(t.isReply){var o=t.callbackId;if(!(t.callbackId in i))throw new Error("Cannot resolve callback "+o);var s=i[o];delete i[o],"error"in t?s.reject(h(t.error)):s.resolve(t.data)}else{if(!(t.action in a))throw new Error("Unknown action from worker: "+t.action);var u=a[t.action];if(t.callbackId){var l=n.sourceName,c=t.sourceName;Promise.resolve().then((function(){return u[0].call(u[1],t.data)})).then((function(e){r.postMessage({sourceName:l,targetName:c,isReply:!0,callbackId:t.callbackId,data:e})}),(function(e){r.postMessage({sourceName:l,targetName:c,isReply:!0,callbackId:t.callbackId,error:d(e)})}))}else t.streamId?n._createStreamSink(t):u[0].call(u[1],t.data)}},r.addEventListener("message",this._onComObjOnMessage)}v.prototype={on:function e(t,r,n){var i=this.actionHandler;if(i[t])throw new Error('There is already an actionName called "'+t+'"');i[t]=[r,n]},send:function e(t,r,n){var i={sourceName:this.sourceName,targetName:this.targetName,action:t,data:r};this.postMessage(i,n)},sendWithPromise:function e(t,r,n){var i=this.callbackId++,a={sourceName:this.sourceName,targetName:this.targetName,action:t,data:r,callbackId:i},o=(0,u.createPromiseCapability)();this.callbacksCapabilities[i]=o;try{this.postMessage(a,n)}catch(s){o.reject(s)}return o.promise},sendWithStream:function e(t,r,n,i){var a=this,o=this.streamId++,s=this.sourceName,l=this.targetName;return new u.ReadableStream({start:function e(n){var i=(0,u.createPromiseCapability)();return a.streamControllers[o]={controller:n,startCall:i,isClosed:!1},a.postMessage({sourceName:s,targetName:l,action:t,streamId:o,data:r,desiredSize:n.desiredSize}),i.promise},pull:function e(t){var r=(0,u.createPromiseCapability)();return a.streamControllers[o].pullCall=r,a.postMessage({sourceName:s,targetName:l,stream:"pull",streamId:o,desiredSize:t.desiredSize}),r.promise},cancel:function e(t){var r=(0,u.createPromiseCapability)();return a.streamControllers[o].cancelCall=r,a.streamControllers[o].isClosed=!0,a.postMessage({sourceName:s,targetName:l,stream:"cancel",reason:t,streamId:o}),r.promise}},n)},_createStreamSink:function e(t){var r=this,n=this,i=this.actionHandler[t.action],a=t.streamId,s=t.desiredSize,l=this.sourceName,c=t.sourceName,h=(0,u.createPromiseCapability)(),d=function e(t){var n=t.stream,i=t.chunk,o=t.transfers,s=t.success,u=t.reason;r.postMessage({sourceName:l,targetName:c,stream:n,streamId:a,chunk:i,success:s,reason:u},o)},f={enqueue:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2];if(!this.isCancelled){var i=this.desiredSize;this.desiredSize-=r,i>0&&this.desiredSize<=0&&(this.sinkCapability=(0,u.createPromiseCapability)(),this.ready=this.sinkCapability.promise),d({stream:"enqueue",chunk:t,transfers:n})}},close:function e(){this.isCancelled||(this.isCancelled=!0,d({stream:"close"}),delete n.streamSinks[a])},error:function e(t){this.isCancelled||(this.isCancelled=!0,d({stream:"error",reason:t}))},sinkCapability:h,onPull:null,onCancel:null,isCancelled:!1,desiredSize:s,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[a]=f,o(i[0],[t.data,f],i[1]).then((function(){d({stream:"start_complete",success:!0})}),(function(e){d({stream:"start_complete",success:!1,reason:e})}))},_processStreamMessage:function e(t){var r=this,n=this.sourceName,i=t.sourceName,a=t.streamId,s=function e(t){var o=t.stream,s=t.success,u=t.reason;r.comObj.postMessage({sourceName:n,targetName:i,stream:o,success:s,streamId:a,reason:u})},l=function e(){Promise.all([r.streamControllers[t.streamId].startCall,r.streamControllers[t.streamId].pullCall,r.streamControllers[t.streamId].cancelCall].map((function(e){return e&&p(e.promise)}))).then((function(){delete r.streamControllers[t.streamId]}))};switch(t.stream){case"start_complete":f(this.streamControllers[t.streamId].startCall,t.success,h(t.reason));break;case"pull_complete":f(this.streamControllers[t.streamId].pullCall,t.success,h(t.reason));break;case"pull":if(!this.streamSinks[t.streamId]){s({stream:"pull_complete",success:!0});break}this.streamSinks[t.streamId].desiredSize<=0&&t.desiredSize>0&&this.streamSinks[t.streamId].sinkCapability.resolve(),this.streamSinks[t.streamId].desiredSize=t.desiredSize,o(this.streamSinks[t.streamId].onPull).then((function(){s({stream:"pull_complete",success:!0})}),(function(e){s({stream:"pull_complete",success:!1,reason:e})}));break;case"enqueue":(0,u.assert)(this.streamControllers[t.streamId],"enqueue should have stream controller"),this.streamControllers[t.streamId].isClosed||this.streamControllers[t.streamId].controller.enqueue(t.chunk);break;case"close":if((0,u.assert)(this.streamControllers[t.streamId],"close should have stream controller"),this.streamControllers[t.streamId].isClosed)break;this.streamControllers[t.streamId].isClosed=!0,this.streamControllers[t.streamId].controller.close(),l();break;case"error":(0,u.assert)(this.streamControllers[t.streamId],"error should have stream controller"),this.streamControllers[t.streamId].controller.error(h(t.reason)),l();break;case"cancel_complete":f(this.streamControllers[t.streamId].cancelCall,t.success,h(t.reason)),l();break;case"cancel":if(!this.streamSinks[t.streamId])break;o(this.streamSinks[t.streamId].onCancel,[h(t.reason)]).then((function(){s({stream:"cancel_complete",success:!0})}),(function(e){s({stream:"cancel_complete",success:!1,reason:e})})),this.streamSinks[t.streamId].sinkCapability.reject(h(t.reason)),this.streamSinks[t.streamId].isCancelled=!0,delete this.streamSinks[t.streamId];break;default:throw new Error("Unexpected stream case")}},postMessage:function e(t,r){r&&this.postMessageTransfers?this.comObj.postMessage(t,r):this.comObj.postMessage(t)},destroy:function e(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},t.MessageHandler=v},function(e,t,r){"use strict";e.exports=r(138)},function(e,t,r){"use strict";var n=function(){return this}()||Function("return this")(),i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,a=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(139),i)n.regeneratorRuntime=a;else try{delete n.regeneratorRuntime}catch(o){n.regeneratorRuntime=void 0}},function(e,t,r){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){var n=Object.prototype,i=n.hasOwnProperty,a,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",c="object"===t(e),h=r.regeneratorRuntime;if(h)c&&(e.exports=h);else{(h=r.regeneratorRuntime=c?e.exports:{}).wrap=A;var d="suspendedStart",f="suspendedYield",p="executing",v="completed",m={},g={};g[s]=function(){return this};var y=Object.getPrototypeOf,b=y&&y(y(F([])));b&&b!==n&&i.call(b,s)&&(g=b);var _=P.prototype=w.prototype=Object.create(g);k.prototype=_.constructor=P,P.constructor=k,P[l]=k.displayName="GeneratorFunction",h.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},h.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,P):(e.__proto__=P,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(_),e},h.awrap=function(e){return{__await:e}},x(C.prototype),C.prototype[u]=function(){return this},h.AsyncIterator=C,h.async=function(e,t,r,n){var i=new C(A(e,t,r,n));return h.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(_),_[l]="Generator",_[s]=function(){return this},_.toString=function(){return"[object Generator]"},h.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},h.values=F,I.prototype={constructor:I,reset:function e(t){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=a)},stop:function e(){this.done=!0;var t,r=this.tryEntries[0].completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function e(t){if(this.done)throw t;var r=this;function n(e,n){return u.type="throw",u.arg=t,r.next=e,n&&(r.method="next",r.arg=a),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],u=s.completion;if("root"===s.tryLoc)return n("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return n(s.catchLoc,!0);if(this.prev<s.finallyLoc)return n(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return n(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return n(s.finallyLoc)}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=r,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function e(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),m},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var a=i.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function e(t,r,n){return this.delegate={iterator:F(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=a),m}}}function A(e,t,r,n){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),o=new I(n||[]);return a._invoke=R(e,r,o),a}function S(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function w(){}function k(){}function P(){}function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function C(e){function r(n,a,o,s){var u=S(e[n],e,a);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"===(void 0===c?"undefined":t(c))&&i.call(c,"__await")?Promise.resolve(c.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):Promise.resolve(c).then((function(e){l.value=e,o(l)}),s)}s(u.arg)}var n;function a(e,t){function i(){return new Promise((function(n,i){r(e,t,n,i)}))}return n=n?n.then(i,i):i()}this._invoke=a}function R(e,t,r){var n=d;return function i(a,o){if(n===p)throw new Error("Generator is already running");if(n===v){if("throw"===a)throw o;return L()}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=E(s,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var l=S(e,t,r);if("normal"===l.type){if(n=r.done?v:f,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=v,r.method="throw",r.arg=l.arg)}}}function E(e,t){var r=e.iterator[t.method];if(r===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=a,E(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=S(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=a),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function F(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=a,t.done=!0,t};return n.next=n}}return{next:L}}function L(){return{value:a,done:!0}}}(function(){return this}()||Function("return this")())}).call(this,r(140)(e))},function(e,t,r){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function t(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function t(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1),a=r(142);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t){o(this,e),(0,i.assert)("string"==typeof t,"Metadata: input is not a string"),t=this._repair(t);var r,n=(new a.SimpleXMLParser).parseFromString(t);this._metadata=Object.create(null),n&&this._parse(n)}return n(e,[{key:"_repair",value:function e(t){return t.replace(/>\\376\\377([^<]+)/g,(function(e,t){for(var r=t.replace(/\\([0-3])([0-7])([0-7])/g,(function(e,t,r,n){return String.fromCharCode(64*t+8*r+1*n)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: "+t+" isn't defined.")})),n="",i=0,a=r.length;i<a;i+=2){var o=256*r.charCodeAt(i)+r.charCodeAt(i+1);n+=o>=32&&o<127&&60!==o&&62!==o&&38!==o?String.fromCharCode(o):"&#x"+(65536+o).toString(16).substring(1)+";"}return">"+n}))}},{key:"_parse",value:function e(t){var r=t.documentElement;if("rdf:rdf"!==r.nodeName.toLowerCase())for(r=r.firstChild;r&&"rdf:rdf"!==r.nodeName.toLowerCase();)r=r.nextSibling;var n=r?r.nodeName.toLowerCase():null;if(r&&"rdf:rdf"===n&&r.hasChildNodes())for(var i=r.childNodes,a=0,o=i.length;a<o;a++){var s=i[a];if("rdf:description"===s.nodeName.toLowerCase())for(var u=0,l=s.childNodes.length;u<l;u++)if("#text"!==s.childNodes[u].nodeName.toLowerCase()){var c=s.childNodes[u],h=c.nodeName.toLowerCase();this._metadata[h]=c.textContent.trim()}}}},{key:"get",value:function e(t){return this._metadata[t]||null}},{key:"getAll",value:function e(){return this._metadata}},{key:"has",value:function e(t){return void 0!==this._metadata[t]}}]),e}();t.Metadata=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function c(e,t){var r=e[t];return" "===r||"\n"===r||"\r"===r||"\t"===r}function h(e){for(var t=0,r=e.length;t<r;t++)if(!c(e,t))return!1;return!0}var d=function(){function e(){u(this,e)}return a(e,[{key:"_resolveEntities",value:function e(t){return t.replace(/&([^;]+);/g,(function(e,t){if("#x"===t.substring(0,2))return String.fromCharCode(parseInt(t.substring(2),16));if("#"===t.substring(0,1))return String.fromCharCode(parseInt(t.substring(1),10));switch(t){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return this.onResolveEntity(t)}))}},{key:"_parseContent",value:function e(t,r){var n=r,i=void 0,a=[];function o(){for(;n<t.length&&c(t,n);)++n}for(;n<t.length&&!c(t,n)&&">"!==t[n]&&"/"!==t[n];)++n;for(i=t.substring(r,n),o();n<t.length&&">"!==t[n]&&"/"!==t[n]&&"?"!==t[n];){o();for(var s="",u="";n<t.length&&!c(t,n)&&"="!==t[n];)s+=t[n],++n;if(o(),"="!==t[n])return null;++n,o();var l=t[n];if('"'!==l&&"'"!==l)return null;var h=t.indexOf(l,++n);if(h<0)return null;u=t.substring(n,h),a.push({name:s,value:this._resolveEntities(u)}),n=h+1,o()}return{name:i,attributes:a,parsed:n-r}}},{key:"_parseProcessingInstruction",value:function e(t,r){var n=r,i=void 0,a=void 0;function o(){for(;n<t.length&&c(t,n);)++n}for(;n<t.length&&!c(t,n)&&">"!==t[n]&&"/"!==t[n];)++n;i=t.substring(r,n),o();for(var s=n;n<t.length&&("?"!==t[n]||">"!==t[n+1]);)++n;return{name:i,value:a=t.substring(s,n),parsed:n-r}}},{key:"parseXml",value:function e(t){for(var r=0;r<t.length;){var n,i=r;if("<"===t[r]){var a,o=void 0;switch(t[++i]){case"/":if(++i,(o=t.indexOf(">",i))<0)return void this.onError(l.UnterminatedElement);this.onEndElement(t.substring(i,o)),i=o+1;break;case"?":++i;var s=this._parseProcessingInstruction(t,i);if("?>"!==t.substring(i+s.parsed,i+s.parsed+2))return void this.onError(l.UnterminatedXmlDeclaration);this.onPi(s.name,s.value),i+=s.parsed+2;break;case"!":if("--"===t.substring(i+1,i+3)){if((o=t.indexOf("--\x3e",i+3))<0)return void this.onError(l.UnterminatedComment);this.onComment(t.substring(i+3,o)),i=o+3}else if("[CDATA["===t.substring(i+1,i+8)){if((o=t.indexOf("]]>",i+8))<0)return void this.onError(l.UnterminatedCdat);this.onCdata(t.substring(i+8,o)),i=o+3}else{if("DOCTYPE"!==t.substring(i+1,i+8))return void this.onError(l.MalformedElement);var u=t.indexOf("[",i+8),c=!1;if((o=t.indexOf(">",i+8))<0)return void this.onError(l.UnterminatedDoctypeDeclaration);if(u>0&&o>u){if((o=t.indexOf("]>",i+8))<0)return void this.onError(l.UnterminatedDoctypeDeclaration);c=!0}var h=t.substring(i+8,o+(c?1:0));this.onDoctype(h),i=o+(c?2:1)}break;default:var d=this._parseContent(t,i);if(null===d)return void this.onError(l.MalformedElement);var f=!1;if("/>"===t.substring(i+d.parsed,i+d.parsed+2))f=!0;else if(">"!==t.substring(i+d.parsed,i+d.parsed+1))return void this.onError(l.UnterminatedElement);this.onBeginElement(d.name,d.attributes,f),i+=d.parsed+(f?2:1)}}else{for(;i<t.length&&"<"!==t[i];)i++;var p=t.substring(r,i);this.onText(this._resolveEntities(p))}r=i}}},{key:"onResolveEntity",value:function e(t){return"&"+t+";"}},{key:"onPi",value:function e(t,r){}},{key:"onComment",value:function e(t){}},{key:"onCdata",value:function e(t){}},{key:"onDoctype",value:function e(t){}},{key:"onText",value:function e(t){}},{key:"onBeginElement",value:function e(t,r,n){}},{key:"onEndElement",value:function e(t){}},{key:"onError",value:function e(t){}}]),e}(),f=function(){function e(t,r){u(this,e),this.nodeName=t,this.nodeValue=r,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return a(e,[{key:"hasChildNodes",value:function e(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function e(){return this.childNodes[0]}},{key:"nextSibling",get:function e(){var t=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[t+1]}},{key:"textContent",get:function e(){return this.childNodes?this.childNodes.map((function(e){return e.textContent})).join(""):this.nodeValue||""}}]),e}(),p=function(e){function t(){u(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._currentFragment=null,e._stack=null,e._errorCode=l.NoError,e}return s(t,e),a(t,[{key:"parseFromString",value:function e(t){if(this._currentFragment=[],this._stack=[],this._errorCode=l.NoError,this.parseXml(t),this._errorCode===l.NoError){var r,i=n(this._currentFragment,1)[0];if(i)return{documentElement:i}}}},{key:"onResolveEntity",value:function e(r){switch(r){case"apos":return"'"}return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onResolveEntity",this).call(this,r)}},{key:"onText",value:function e(t){if(!h(t)){var r=new f("#text",t);this._currentFragment.push(r)}}},{key:"onCdata",value:function e(t){var r=new f("#text",t);this._currentFragment.push(r)}},{key:"onBeginElement",value:function e(t,r,n){var i=new f(t);i.childNodes=[],this._currentFragment.push(i),n||(this._stack.push(this._currentFragment),this._currentFragment=i.childNodes)}},{key:"onEndElement",value:function e(t){this._currentFragment=this._stack.pop();for(var r=this._currentFragment[this._currentFragment.length-1],n=0,i=r.childNodes.length;n<i;n++)r.childNodes[n].parentNode=r}},{key:"onError",value:function e(t){this._errorCode=t}}]),t}(d);t.SimpleXMLParser=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var n,i=o(r(137)),a=r(1);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){function n(i,a){try{var o=t[i](a),s=o.value}catch(u){return void r(u)}if(!o.done)return Promise.resolve(s).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(s)}return n("next")}))}}var u=function e(){function t(e,t){var r=this;(0,a.assert)(t),this._queuedChunks=[];var n=e.initialData;if(n&&n.length>0){var i=new Uint8Array(n).buffer;this._queuedChunks.push(i)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(e,t){r._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener((function(e){r._onProgress({loaded:e})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(e){r._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.transportReady()}function r(e,t){this._stream=e,this._done=!1,this._filename=null,this._queuedChunks=t||[],this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}function n(e,t,r){this._stream=e,this._begin=t,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return t.prototype={_onReceiveData:function e(t){var r=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{var n=this._rangeReaders.some((function(e){return e._begin===t.begin&&(e._enqueue(r),!0)}));(0,a.assert)(n)}},_onProgress:function e(t){if(this._rangeReaders.length>0){var r=this._rangeReaders[0];r.onProgress&&r.onProgress({loaded:t.loaded})}},_removeRangeReader:function e(t){var r=this._rangeReaders.indexOf(t);r>=0&&this._rangeReaders.splice(r,1)},getFullReader:function e(){(0,a.assert)(!this._fullRequestReader);var t=this._queuedChunks;return this._queuedChunks=null,new r(this,t)},getRangeReader:function e(t,r){var i=new n(this,t,r);return this._pdfDataRangeTransport.requestDataRange(t,r),this._rangeReaders.push(i),i},cancelAllRequests:function e(t){var r;this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeReaders.slice(0).forEach((function(e){e.cancel(t)})),this._pdfDataRangeTransport.abort()}},r.prototype={_enqueue:function e(t){var r;this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t))},get headersReady(){return this._headersReady},get filename(){return this._filename},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:function(){var e=s(i.default.mark((function e(){var t,r;return i.default.wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:if(!(this._queuedChunks.length>0)){n.next=3;break}return t=this._queuedChunks.shift(),n.abrupt("return",{value:t,done:!1});case 3:if(!this._done){n.next=5;break}return n.abrupt("return",{value:void 0,done:!0});case 5:return r=(0,a.createPromiseCapability)(),this._requests.push(r),n.abrupt("return",r.promise);case 8:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function e(t){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]}},n.prototype={_enqueue:function e(t){if(!this._done){var r;if(0===this._requests.length)this._queuedChunk=t;else this._requests.shift().resolve({value:t,done:!1}),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[];this._done=!0,this._stream._removeRangeReader(this)}},get isStreamingSupported(){return!1},read:function(){var e=s(i.default.mark((function e(){var t,r;return i.default.wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:if(!this._queuedChunk){n.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,n.abrupt("return",{value:t,done:!1});case 4:if(!this._done){n.next=6;break}return n.abrupt("return",{value:void 0,done:!0});case 6:return r=(0,a.createPromiseCapability)(),this._requests.push(r),n.abrupt("return",r.promise);case 9:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function e(t){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}},t}();t.PDFDataTransportStream=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(1);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t){var r=t.enable,n=void 0!==r&&r;a(this,e),this._enabled=!0===n}return n(e,[{key:"composeSMask",value:function e(t){var r=t.layer,n=t.mask,i=t.properties;return s.composeSMask(r,n,i)}},{key:"drawFigures",value:function e(t){var r=t.width,n=t.height,i=t.backgroundColor,a=t.figures,o=t.context;return s.drawFigures(r,n,i,a,o)}},{key:"clear",value:function e(){s.cleanup()}},{key:"isEnabled",get:function e(){var t=this._enabled;return t&&(t=s.tryInitGL()),(0,i.shadow)(this,"isEnabled",t)}}]),e}(),s=function e(){function t(e,t,r){var n=e.createShader(r),i;if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var a=e.getShaderInfoLog(n);throw new Error("Error during shader compilation: "+a)}return n}function r(e,r){return t(e,r,e.VERTEX_SHADER)}function n(e,r){return t(e,r,e.FRAGMENT_SHADER)}function i(e,t){for(var r=e.createProgram(),n=0,i=t.length;n<i;++n)e.attachShader(r,t[n]);var a;if(e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS)){var o=e.getProgramInfoLog(r);throw new Error("Error during program linking: "+o)}return r}function a(e,t,r){e.activeTexture(r);var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),n}var o,s;function u(){o||(s=document.createElement("canvas"),o=s.getContext("webgl",{premultipliedalpha:!1}))}var l="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",c="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",h=null;function d(){var e,t;u(),e=s,s=null,t=o,o=null;var a,d,f=i(t,[r(t,l),n(t,c)]);t.useProgram(f);var p={};p.gl=t,p.canvas=e,p.resolutionLocation=t.getUniformLocation(f,"u_resolution"),p.positionLocation=t.getAttribLocation(f,"a_position"),p.backdropLocation=t.getUniformLocation(f,"u_backdrop"),p.subtypeLocation=t.getUniformLocation(f,"u_subtype");var v=t.getAttribLocation(f,"a_texCoord"),m=t.getUniformLocation(f,"u_image"),g=t.getUniformLocation(f,"u_mask"),y=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,y),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW),t.enableVertexAttribArray(v),t.vertexAttribPointer(v,2,t.FLOAT,!1,0,0),t.uniform1i(m,0),t.uniform1i(g,1),h=p}function f(e,t,r){var n=e.width,i=e.height;h||d();var o=h,s=o.canvas,u=o.gl;s.width=n,s.height=i,u.viewport(0,0,u.drawingBufferWidth,u.drawingBufferHeight),u.uniform2f(o.resolutionLocation,n,i),r.backdrop?u.uniform4f(o.resolutionLocation,r.backdrop[0],r.backdrop[1],r.backdrop[2],1):u.uniform4f(o.resolutionLocation,0,0,0,0),u.uniform1i(o.subtypeLocation,"Luminosity"===r.subtype?1:0);var l=a(u,e,u.TEXTURE0),c=a(u,t,u.TEXTURE1),f=u.createBuffer();return u.bindBuffer(u.ARRAY_BUFFER,f),u.bufferData(u.ARRAY_BUFFER,new Float32Array([0,0,n,0,0,i,0,i,n,0,n,i]),u.STATIC_DRAW),u.enableVertexAttribArray(o.positionLocation),u.vertexAttribPointer(o.positionLocation,2,u.FLOAT,!1,0,0),u.clearColor(0,0,0,0),u.enable(u.BLEND),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA),u.clear(u.COLOR_BUFFER_BIT),u.drawArrays(u.TRIANGLES,0,6),u.flush(),u.deleteTexture(l),u.deleteTexture(c),u.deleteBuffer(f),s}var p="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",v="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",m=null;function g(){var e,t;u(),e=s,s=null,t=o,o=null;var a,l,c=i(t,[r(t,p),n(t,v)]);t.useProgram(c);var h={};h.gl=t,h.canvas=e,h.resolutionLocation=t.getUniformLocation(c,"u_resolution"),h.scaleLocation=t.getUniformLocation(c,"u_scale"),h.offsetLocation=t.getUniformLocation(c,"u_offset"),h.positionLocation=t.getAttribLocation(c,"a_position"),h.colorLocation=t.getAttribLocation(c,"a_color"),m=h}function y(e,t,r,n,i){m||g();var a=m,o=a.canvas,s=a.gl;o.width=e,o.height=t,s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.uniform2f(a.resolutionLocation,e,t);var u=0,l,c,h;for(l=0,c=n.length;l<c;l++)switch(n[l].type){case"lattice":u+=((h=n[l].coords.length/n[l].verticesPerRow|0)-1)*(n[l].verticesPerRow-1)*6;break;case"triangles":u+=n[l].coords.length}var d=new Float32Array(2*u),f=new Uint8Array(3*u),p=i.coords,v=i.colors,y=0,b=0;for(l=0,c=n.length;l<c;l++){var _=n[l],A=_.coords,S=_.colors;switch(_.type){case"lattice":var w=_.verticesPerRow;h=A.length/w|0;for(var k=1;k<h;k++)for(var P=k*w+1,x=1;x<w;x++,P++)d[y]=p[A[P-w-1]],d[y+1]=p[A[P-w-1]+1],d[y+2]=p[A[P-w]],d[y+3]=p[A[P-w]+1],d[y+4]=p[A[P-1]],d[y+5]=p[A[P-1]+1],f[b]=v[S[P-w-1]],f[b+1]=v[S[P-w-1]+1],f[b+2]=v[S[P-w-1]+2],f[b+3]=v[S[P-w]],f[b+4]=v[S[P-w]+1],f[b+5]=v[S[P-w]+2],f[b+6]=v[S[P-1]],f[b+7]=v[S[P-1]+1],f[b+8]=v[S[P-1]+2],d[y+6]=d[y+2],d[y+7]=d[y+3],d[y+8]=d[y+4],d[y+9]=d[y+5],d[y+10]=p[A[P]],d[y+11]=p[A[P]+1],f[b+9]=f[b+3],f[b+10]=f[b+4],f[b+11]=f[b+5],f[b+12]=f[b+6],f[b+13]=f[b+7],f[b+14]=f[b+8],f[b+15]=v[S[P]],f[b+16]=v[S[P]+1],f[b+17]=v[S[P]+2],y+=12,b+=18;break;case"triangles":for(var C=0,R=A.length;C<R;C++)d[y]=p[A[C]],d[y+1]=p[A[C]+1],f[b]=v[S[C]],f[b+1]=v[S[C]+1],f[b+2]=v[S[C]+2],y+=2,b+=3}}r?s.clearColor(r[0]/255,r[1]/255,r[2]/255,1):s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT);var E=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,E),s.bufferData(s.ARRAY_BUFFER,d,s.STATIC_DRAW),s.enableVertexAttribArray(a.positionLocation),s.vertexAttribPointer(a.positionLocation,2,s.FLOAT,!1,0,0);var T=s.createBuffer();return s.bindBuffer(s.ARRAY_BUFFER,T),s.bufferData(s.ARRAY_BUFFER,f,s.STATIC_DRAW),s.enableVertexAttribArray(a.colorLocation),s.vertexAttribPointer(a.colorLocation,3,s.UNSIGNED_BYTE,!1,0,0),s.uniform2f(a.scaleLocation,i.scaleX,i.scaleY),s.uniform2f(a.offsetLocation,i.offsetX,i.offsetY),s.drawArrays(s.TRIANGLES,0,u),s.flush(),s.deleteBuffer(E),s.deleteBuffer(T),o}return{tryInitGL:function e(){try{return u(),!!o}catch(t){}return!1},composeSMask:f,drawFigures:y,cleanup:function e(){h&&h.canvas&&(h.canvas.width=0,h.canvas.height=0),m&&m.canvas&&(m.canvas.width=0,m.canvas.height=0),h=null,m=null}}}();t.WebGLContext=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var n=r(1),i,a=o(r(3));function o(e){return e&&e.__esModule?e:{default:e}}var s=function e(){var t=1e5,r=/\S/;function i(e){return!r.test(e)}var o=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];function s(e,t,r){var a=document.createElement("div"),s={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(e._textDivs.push(a),i(t.str))return s.isWhitespace=!0,void e._textDivProperties.set(a,s);var u=n.Util.transform(e._viewport.transform,t.transform),l=Math.atan2(u[1],u[0]),c=r[t.fontName];c.vertical&&(l+=Math.PI/2);var h=Math.sqrt(u[2]*u[2]+u[3]*u[3]),d=h,f,p;if(c.ascent?d=c.ascent*d:c.descent&&(d=(1+c.descent)*d),0===l?(f=u[4],p=u[5]-d):(f=u[4]+d*Math.sin(l),p=u[5]-d*Math.cos(l)),o[1]=f,o[3]=p,o[5]=h,o[7]=c.fontFamily,s.style=o.join(""),a.setAttribute("style",s.style),a.textContent=t.str,e._fontInspectorEnabled&&(a.dataset.fontName=t.fontName),0!==l&&(s.angle=l*(180/Math.PI)),t.str.length>1&&(c.vertical?s.canvasWidth=t.height*e._viewport.scale:s.canvasWidth=t.width*e._viewport.scale),e._textDivProperties.set(a,s),e._textContentStream&&e._layoutText(a),e._enhanceTextSelection){var v=1,m=0;0!==l&&(v=Math.cos(l),m=Math.sin(l));var g=(c.vertical?t.height:t.width)*e._viewport.scale,y=h,b,_;0!==l?(b=[v,m,-m,v,f,p],_=n.Util.getAxialAlignedBoundingBox([0,0,g,y],b)):_=[f,p,f+g,p+y],e._bounds.push({left:_[0],top:_[1],right:_[2],bottom:_[3],div:a,size:[g,y],m:b})}}function u(e){if(!e._canceled){var r=e._textDivs,n=e._capability,i=r.length;if(i>t)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(var a=0;a<i;a++)e._layoutText(r[a]);e._renderingDone=!0,n.resolve()}}function l(e){for(var t=e._bounds,r=e._viewport,i=c(r.width,r.height,t),a=0;a<i.length;a++){var o=t[a].div,s=e._textDivProperties.get(o);if(0!==s.angle){var u=i[a],l=t[a],h=l.m,d=h[0],f=h[1],p=[[0,0],[0,l.size[1]],[l.size[0],0],l.size],v=new Float64Array(64);p.forEach((function(e,t){var r=n.Util.applyTransform(e,h);v[t+0]=d&&(u.left-r[0])/d,v[t+4]=f&&(u.top-r[1])/f,v[t+8]=d&&(u.right-r[0])/d,v[t+12]=f&&(u.bottom-r[1])/f,v[t+16]=f&&(u.left-r[0])/-f,v[t+20]=d&&(u.top-r[1])/d,v[t+24]=f&&(u.right-r[0])/-f,v[t+28]=d&&(u.bottom-r[1])/d,v[t+32]=d&&(u.left-r[0])/-d,v[t+36]=f&&(u.top-r[1])/-f,v[t+40]=d&&(u.right-r[0])/-d,v[t+44]=f&&(u.bottom-r[1])/-f,v[t+48]=f&&(u.left-r[0])/f,v[t+52]=d&&(u.top-r[1])/-d,v[t+56]=f&&(u.right-r[0])/f,v[t+60]=d&&(u.bottom-r[1])/-d}));var m=function e(t,r,n){for(var i=0,a=0;a<n;a++){var o=t[r++];o>0&&(i=i?Math.min(o,i):o)}return i},g=1+Math.min(Math.abs(d),Math.abs(f));s.paddingLeft=m(v,32,16)/g,s.paddingTop=m(v,48,16)/g,s.paddingRight=m(v,0,16)/g,s.paddingBottom=m(v,16,16)/g,e._textDivProperties.set(o,s)}else s.paddingLeft=t[a].left-i[a].left,s.paddingTop=t[a].top-i[a].top,s.paddingRight=i[a].right-t[a].right,s.paddingBottom=i[a].bottom-t[a].bottom,e._textDivProperties.set(o,s)}}function c(e,t,r){var n=r.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));h(e,n);var i=new Array(r.length);return n.forEach((function(e){var t=e.index;i[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}})),r.map((function(t,r){var a=i[r],o=n[r];o.x1=t.top,o.y1=e-a.right,o.x2=t.bottom,o.y2=e-a.left,o.index=r,o.x1New=void 0,o.x2New=void 0})),h(t,n),n.forEach((function(e){var t=e.index;i[t].top=e.x1New,i[t].bottom=e.x2New})),i}function h(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));var r,n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];t.forEach((function(e){for(var t=0;t<n.length&&n[t].end<=e.y1;)t++;for(var r=n.length-1,i,a;r>=0&&n[r].start>=e.y2;)r--;var o,s,u=-1/0;for(o=t;o<=r;o++){var l;(l=(a=(i=n[o]).boundary).x2>e.x1?a.index>e.index?a.x1New:e.x1:void 0===a.x2New?(a.x2+e.x1)/2:a.x2New)>u&&(u=l)}for(e.x1New=u,o=t;o<=r;o++)void 0===(a=(i=n[o]).boundary).x2New?a.x2>e.x1?a.index>e.index&&(a.x2New=a.x2):a.x2New=u:a.x2New>u&&(a.x2New=Math.max(u,a.x2));var c=[],h=null;for(o=t;o<=r;o++){var d=(a=(i=n[o]).boundary).x2>e.x2?a:e;h===d?c[c.length-1].end=i.end:(c.push({start:i.start,end:i.end,boundary:d}),h=d)}for(n[t].start<e.y1&&(c[0].start=e.y1,c.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})),e.y2<n[r].end&&(c[c.length-1].end=e.y2,c.push({start:e.y2,end:n[r].end,boundary:n[r].boundary})),o=t;o<=r;o++)if(void 0===(a=(i=n[o]).boundary).x2New){var f=!1;for(s=t-1;!f&&s>=0&&n[s].start>=a.y1;s--)f=n[s].boundary===a;for(s=r+1;!f&&s<n.length&&n[s].end<=a.y2;s++)f=n[s].boundary===a;for(s=0;!f&&s<c.length;s++)f=c[s].boundary===a;f||(a.x2New=u)}Array.prototype.splice.apply(n,[t,r-t+1].concat(c))})),n.forEach((function(t){var r=t.boundary;void 0===r.x2New&&(r.x2New=Math.max(e,r.x2))}))}function d(e){var t=e.textContent,r=e.textContentStream,i=e.container,o=e.viewport,s=e.textDivs,u=e.textContentItemsStr,l=e.enhanceTextSelection;this._textContent=t,this._textContentStream=r,this._container=i,this._viewport=o,this._textDivs=s||[],this._textContentItemsStr=u||[],this._enhanceTextSelection=!!l,this._fontInspectorEnabled=!(!a.default.FontInspector||!a.default.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[]}function f(e){var t=new d({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}return d.prototype={get promise(){return this._capability.promise},cancel:function e(){this._reader&&(this._reader.cancel(new n.AbortException("text layer task cancelled")),this._reader=null),this._canceled=!0,null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject("canceled")},_processItems:function e(t,r){for(var n=0,i=t.length;n<i;n++)this._textContentItemsStr.push(t[n].str),s(this,t[n],r)},_layoutText:function e(t){var r=this._container,n=this._textDivProperties.get(t);if(!n.isWhitespace){var i=t.style.fontSize,a=t.style.fontFamily;i===this._layoutTextLastFontSize&&a===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=i+" "+a,this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=a);var o=this._layoutTextCtx.measureText(t.textContent).width,s="";0!==n.canvasWidth&&o>0&&(n.scale=n.canvasWidth/o,s="scaleX("+n.scale+")"),0!==n.angle&&(s="rotate("+n.angle+"deg) "+s),""!==s&&(n.originalTransform=s,t.style.transform=s),this._textDivProperties.set(t,n),r.appendChild(t)}},_render:function e(t){var r=this,i=(0,n.createPromiseCapability)(),a=Object.create(null),o=document.createElement("canvas");if(o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent){var s=this._textContent.items,l=this._textContent.styles;this._processItems(s,l),i.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var c=function e(){r._reader.read().then((function(t){var n=t.value,o;t.done?i.resolve():(Object.assign(a,n.styles),r._processItems(n.items,a),e())}),i.reject)};this._reader=this._textContentStream.getReader(),c()}i.promise.then((function(){a=null,t?r._renderTimer=setTimeout((function(){u(r),r._renderTimer=null}),t):u(r)}),this._capability.reject)},expandTextDivs:function e(t){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(l(this),this._bounds=null);for(var r=0,n=this._textDivs.length;r<n;r++){var i=this._textDivs[r],a=this._textDivProperties.get(i);if(!a.isWhitespace)if(t){var o="",s="";1!==a.scale&&(o="scaleX("+a.scale+")"),0!==a.angle&&(o="rotate("+a.angle+"deg) "+o),0!==a.paddingLeft&&(s+=" padding-left: "+a.paddingLeft/a.scale+"px;",o+=" translateX("+-a.paddingLeft/a.scale+"px)"),0!==a.paddingTop&&(s+=" padding-top: "+a.paddingTop+"px;",o+=" translateY("+-a.paddingTop+"px)"),0!==a.paddingRight&&(s+=" padding-right: "+a.paddingRight/a.scale+"px;"),0!==a.paddingBottom&&(s+=" padding-bottom: "+a.paddingBottom+"px;"),""!==s&&i.setAttribute("style",a.style+s),""!==o&&(i.style.transform=o)}else i.style.padding=0,i.style.transform=a.originalTransform||""}}}},f}();t.renderTextLayer=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var n=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,r,n)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(n):void 0},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(130),o=r(1);function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(){l(this,e)}return i(e,null,[{key:"create",value:function e(t){var r;switch(t.data.annotationType){case o.AnnotationType.LINK:return new d(t);case o.AnnotationType.TEXT:return new f(t);case o.AnnotationType.WIDGET:var n;switch(t.data.fieldType){case"Tx":return new v(t);case"Btn":return t.data.radioButton?new g(t):t.data.checkBox?new m(t):new y(t);case"Ch":return new b(t)}return new p(t);case o.AnnotationType.POPUP:return new _(t);case o.AnnotationType.LINE:return new S(t);case o.AnnotationType.SQUARE:return new w(t);case o.AnnotationType.CIRCLE:return new k(t);case o.AnnotationType.POLYLINE:return new P(t);case o.AnnotationType.INK:return new C(t);case o.AnnotationType.POLYGON:return new x(t);case o.AnnotationType.HIGHLIGHT:return new R(t);case o.AnnotationType.UNDERLINE:return new E(t);case o.AnnotationType.SQUIGGLY:return new T(t);case o.AnnotationType.STRIKEOUT:return new O(t);case o.AnnotationType.STAMP:return new I(t);case o.AnnotationType.FILEATTACHMENT:return new F(t);default:return new h(t)}}}]),e}(),h=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l(this,e),this.isRenderable=r,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,this.svgFactory=t.svgFactory,r&&(this.container=this._createContainer(n))}return i(e,[{key:"_createContainer",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.data,n=this.page,i=this.viewport,a=document.createElement("section"),s=r.rect[2]-r.rect[0],u=r.rect[3]-r.rect[1];a.setAttribute("data-annotation-id",r.id);var l=o.Util.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]);if(a.style.transform="matrix("+i.transform.join(",")+")",a.style.transformOrigin=-l[0]+"px "+-l[1]+"px",!t&&r.borderStyle.width>0){a.style.borderWidth=r.borderStyle.width+"px",r.borderStyle.style!==o.AnnotationBorderStyleType.UNDERLINE&&(s-=2*r.borderStyle.width,u-=2*r.borderStyle.width);var c=r.borderStyle.horizontalCornerRadius,h=r.borderStyle.verticalCornerRadius;if(c>0||h>0){var d=c+"px / "+h+"px";a.style.borderRadius=d}switch(r.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:a.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:a.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:a.style.borderBottomStyle="solid"}r.color?a.style.borderColor=o.Util.makeCssRgb(0|r.color[0],0|r.color[1],0|r.color[2]):a.style.borderWidth=0}return a.style.left=l[0]+"px",a.style.top=l[1]+"px",a.style.width=s+"px",a.style.height=u+"px",a}},{key:"_createPopup",value:function e(t,r,n){r||((r=document.createElement("div")).style.height=t.style.height,r.style.width=t.style.width,t.appendChild(r));var i,a=new A({container:t,trigger:r,color:n.color,title:n.title,contents:n.contents,hideWrapper:!0}).render();a.style.left=t.style.width,t.appendChild(a)}},{key:"render",value:function e(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}}]),e}(),d=function(e){function t(e){l(this,t);var r=!!(e.data.url||e.data.dest||e.data.action);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return u(t,e),i(t,[{key:"render",value:function e(){this.container.className="linkAnnotation";var t=this.data,r=this.linkService,n=document.createElement("a");return(0,a.addLinkAttributes)(n,{url:t.url,target:t.newWindow?a.LinkTarget.BLANK:r.externalLinkTarget,rel:r.externalLinkRel}),t.url||(t.action?this._bindNamedAction(n,t.action):this._bindLink(n,t.dest)),this.container.appendChild(n),this.container}},{key:"_bindLink",value:function e(t,r){var n=this;t.href=this.linkService.getDestinationHash(r),t.onclick=function(){return r&&n.linkService.navigateTo(r),!1},r&&(t.className="internalLink")}},{key:"_bindNamedAction",value:function e(t,r){var n=this;t.href=this.linkService.getAnchorUrl(""),t.onclick=function(){return n.linkService.executeNamedAction(r),!1},t.className="internalLink"}}]),t}(h),f=function(e){function t(e){l(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return u(t,e),i(t,[{key:"render",value:function e(){this.container.className="textAnnotation";var t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,t,this.data),this.container.appendChild(t),this.container}}]),t}(h),p=function(e){function t(){return l(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),i(t,[{key:"render",value:function e(){return this.container}}]),t}(h),v=function(e){function t(e){l(this,t);var r=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return u(t,e),i(t,[{key:"render",value:function e(){var t=["left","center","right"];this.container.className="textWidgetAnnotation";var r=null;if(this.renderInteractiveForms){if(this.data.multiLine?(r=document.createElement("textarea")).textContent=this.data.fieldValue:((r=document.createElement("input")).type="text",r.setAttribute("value",this.data.fieldValue)),r.disabled=this.data.readOnly,null!==this.data.maxLen&&(r.maxLength=this.data.maxLen),this.data.comb){var n,i=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;r.classList.add("comb"),r.style.letterSpacing="calc("+i+"px - 1ch)"}}else{(r=document.createElement("div")).textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell";var a=null;this.data.fontRefName&&(a=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(r,a)}return null!==this.data.textAlignment&&(r.style.textAlign=t[this.data.textAlignment]),this.container.appendChild(r),this.container}},{key:"_setTextStyle",value:function e(t,r){var n=t.style;if(n.fontSize=this.data.fontSize+"px",n.direction=this.data.fontDirection<0?"rtl":"ltr",r){n.fontWeight=r.black?r.bold?"900":"bold":r.bold?"bold":"normal",n.fontStyle=r.italic?"italic":"normal";var i=r.loadedName?'"'+r.loadedName+'", ':"",a=r.fallbackName||"Helvetica, sans-serif";n.fontFamily=i+a}}}]),t}(p),m=function(e){function t(e){return l(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.renderInteractiveForms))}return u(t,e),i(t,[{key:"render",value:function e(){this.container.className="buttonWidgetAnnotation checkBox";var t=document.createElement("input");return t.disabled=this.data.readOnly,t.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&t.setAttribute("checked",!0),this.container.appendChild(t),this.container}}]),t}(p),g=function(e){function t(e){return l(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.renderInteractiveForms))}return u(t,e),i(t,[{key:"render",value:function e(){this.container.className="buttonWidgetAnnotation radioButton";var t=document.createElement("input");return t.disabled=this.data.readOnly,t.type="radio",t.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&t.setAttribute("checked",!0),this.container.appendChild(t),this.container}}]),t}(p),y=function(e){function t(){return l(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),i(t,[{key:"render",value:function e(){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this);return r.className="buttonWidgetAnnotation pushButton",r}}]),t}(d),b=function(e){function t(e){return l(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,e.renderInteractiveForms))}return u(t,e),i(t,[{key:"render",value:function e(){this.container.className="choiceWidgetAnnotation";var t=document.createElement("select");t.disabled=this.data.readOnly,this.data.combo||(t.size=this.data.options.length,this.data.multiSelect&&(t.multiple=!0));for(var r=0,n=this.data.options.length;r<n;r++){var i=this.data.options[r],a=document.createElement("option");a.textContent=i.displayValue,a.value=i.exportValue,this.data.fieldValue.includes(i.displayValue)&&a.setAttribute("selected",!0),t.appendChild(a)}return this.container.appendChild(t),this.container}}]),t}(p),_=function(e){function t(e){l(this,t);var r=!(!e.data.title&&!e.data.contents);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r))}return u(t,e),i(t,[{key:"render",value:function e(){var t=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",t.includes(this.data.parentType))return this.container;var r='[data-annotation-id="'+this.data.parentId+'"]',n=this.layer.querySelector(r);if(!n)return this.container;var i=new A({container:this.container,trigger:n,color:this.data.color,title:this.data.title,contents:this.data.contents}),a=parseFloat(n.style.left),o=parseFloat(n.style.width);return this.container.style.transformOrigin=-(a+o)+"px -"+n.style.top,this.container.style.left=a+o+"px",this.container.appendChild(i.render()),this.container}}]),t}(h),A=function(){function e(t){l(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return i(e,[{key:"render",value:function e(){var t=.7,r=document.createElement("div");r.className="popupWrapper",this.hideElement=this.hideWrapper?r:this.container,this.hideElement.setAttribute("hidden",!0);var n=document.createElement("div");n.className="popup";var i=this.color;if(i){var a=.7*(255-i[0])+i[0],s=.7*(255-i[1])+i[1],u=.7*(255-i[2])+i[2];n.style.backgroundColor=o.Util.makeCssRgb(0|a,0|s,0|u)}var l=this._formatContents(this.contents),c=document.createElement("h1");return c.textContent=this.title,this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),n.addEventListener("click",this._hide.bind(this,!0)),n.appendChild(c),n.appendChild(l),r.appendChild(n),r}},{key:"_formatContents",value:function e(t){for(var r=document.createElement("p"),n=t.split(/(?:\r\n?|\n)/),i=0,a=n.length;i<a;++i){var o=n[i];r.appendChild(document.createTextNode(o)),i<a-1&&r.appendChild(document.createElement("br"))}return r}},{key:"_toggle",value:function e(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),e}(),S=function(e){function t(e){l(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,!0))}return u(t,e),i(t,[{key:"render",value:function e(){this.container.className="lineAnnotation";var t=this.data,r=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],i=this.svgFactory.create(r,n),a=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width),a.setAttribute("stroke","transparent"),i.appendChild(a),this.container.append(i),this._createPopup(this.container,a,t),this.container}}]),t}(h),w=function(e){function t(e){l(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,!0))}return u(t,e),i(t,[{key:"render",value:function e(){this.container.className="squareAnnotation";var t=this.data,r=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],i=this.svgFactory.create(r,n),a=t.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",n-a),o.setAttribute("stroke-width",a),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),i.appendChild(o),this.container.append(i),this._createPopup(this.container,o,t),this.container}}]),t}(h),k=function(e){function t(e){l(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,!0))}return u(t,e),i(t,[{key:"render",value:function e(){this.container.className="circleAnnotation";var t=this.data,r=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],i=this.svgFactory.create(r,n),a=t.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",r/2),o.setAttribute("cy",n/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",n/2-a/2),o.setAttribute("stroke-width",a),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),i.appendChild(o),this.container.append(i),this._createPopup(this.container,o,t),this.container}}]),t}(h),P=function(e){function t(e){l(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents),n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,!0));return n.containerClassName="polylineAnnotation",n.svgElementName="svg:polyline",n}return u(t,e),i(t,[{key:"render",value:function e(){this.container.className=this.containerClassName;for(var t=this.data,r=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],i=this.svgFactory.create(r,n),a=t.vertices,o=[],s=0,u=a.length;s<u;s++){var l=a[s].x-t.rect[0],c=t.rect[3]-a[s].y;o.push(l+","+c)}o=o.join(" ");var h=t.borderStyle.width,d=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",o),d.setAttribute("stroke-width",h),d.setAttribute("stroke","transparent"),d.setAttribute("fill","none"),i.appendChild(d),this.container.append(i),this._createPopup(this.container,d,t),this.container}}]),t}(h),x=function(e){function t(e){l(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return u(t,e),t}(P),C=function(e){function t(e){l(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents),n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,!0));return n.containerClassName="inkAnnotation",n.svgElementName="svg:polyline",n}return u(t,e),i(t,[{key:"render",value:function e(){this.container.className=this.containerClassName;for(var t=this.data,r=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],i=this.svgFactory.create(r,n),a=t.inkLists,o=0,s=a.length;o<s;o++){for(var u=a[o],l=[],c=0,h=u.length;c<h;c++){var d=u[c].x-t.rect[0],f=t.rect[3]-u[c].y;l.push(d+","+f)}l=l.join(" ");var p=t.borderStyle.width,v=this.svgFactory.createElement(this.svgElementName);v.setAttribute("points",l),v.setAttribute("stroke-width",p),v.setAttribute("stroke","transparent"),v.setAttribute("fill","none"),this._createPopup(this.container,v,t),i.appendChild(v)}return this.container.append(i),this.container}}]),t}(h),R=function(e){function t(e){l(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,!0))}return u(t,e),i(t,[{key:"render",value:function e(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(h),E=function(e){function t(e){l(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,!0))}return u(t,e),i(t,[{key:"render",value:function e(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(h),T=function(e){function t(e){l(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,!0))}return u(t,e),i(t,[{key:"render",value:function e(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(h),O=function(e){function t(e){l(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,!0))}return u(t,e),i(t,[{key:"render",value:function e(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(h),I=function(e){function t(e){l(this,t);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,!0))}return u(t,e),i(t,[{key:"render",value:function e(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),t}(h),F=function(e){function t(e){l(this,t);var r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,!0)),n=r.data.file,i=n.filename,u=n.content;return r.filename=(0,a.getFilenameFromUrl)(i),r.content=u,r.linkService.eventBus&&r.linkService.eventBus.dispatch("fileattachmentannotation",{source:r,id:(0,o.stringToPDFString)(i),filename:i,content:u}),r}return u(t,e),i(t,[{key:"render",value:function e(){this.container.className="fileAttachmentAnnotation";var t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,t,this.data),this.container.appendChild(t),this.container}},{key:"_download",value:function e(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,o.warn)("Download cannot be started due to unavailable download manager")}}]),t}(h),L=function(){function e(){l(this,e)}return i(e,null,[{key:"render",value:function e(t){for(var r=0,n=t.annotations.length;r<n;r++){var i=t.annotations[r];if(i){var o=c.create({data:i,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderInteractiveForms:t.renderInteractiveForms||!1,svgFactory:new a.DOMSVGFactory});o.isRenderable&&t.div.appendChild(o.render())}}}},{key:"update",value:function e(t){for(var r=0,n=t.annotations.length;r<n;r++){var i=t.annotations[r],a=t.div.querySelector('[data-annotation-id="'+i.id+'"]');a&&(a.style.transform="matrix("+t.viewport.transform.join(",")+")")}t.div.removeAttribute("hidden")}}]),e}();t.AnnotationLayer=L},function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SVGGraphics=void 0;var i=n(1),a=n(130),o,s=u(n(4));function u(e){return e&&e.__esModule?e:{default:e}}var l=function e(){throw new Error("Not implemented: SVGGraphics")},c={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},h=function t(){for(var r=new Uint8Array([137,80,78,71,13,10,26,10]),n=12,a=new Int32Array(256),o=0;o<256;o++){for(var u=o,l=0;l<8;l++)u=1&u?3988292384^u>>1&2147483647:u>>1&2147483647;a[o]=u}function c(e,t,r){for(var n=-1,i=t;i<r;i++){var o=255&(n^e[i]),s;n=n>>>8^a[o]}return-1^n}function h(e,t,r,n){var i=n,a=t.length;r[i]=a>>24&255,r[i+1]=a>>16&255,r[i+2]=a>>8&255,r[i+3]=255&a,r[i+=4]=255&e.charCodeAt(0),r[i+1]=255&e.charCodeAt(1),r[i+2]=255&e.charCodeAt(2),r[i+3]=255&e.charCodeAt(3),i+=4,r.set(t,i);var o=c(r,n+4,i+=t.length);r[i]=o>>24&255,r[i+1]=o>>16&255,r[i+2]=o>>8&255,r[i+3]=255&o}function d(e,t,r){for(var n=1,i=0,a=t;a<r;++a)i=(i+(n=(n+(255&e[a]))%65521))%65521;return i<<16|n}function f(t){if(!(0,s.default)())return p(t);try{var r;r=parseInt(process.versions.node)>=8?t:new Buffer(t);var n=e("zlib").deflateSync(r,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(a){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+a)}return p(t)}function p(e){var t=e.length,r=65535,n=Math.ceil(t/65535),i=new Uint8Array(2+t+5*n+4),a=0;i[a++]=120,i[a++]=156;for(var o=0;t>65535;)i[a++]=0,i[a++]=255,i[a++]=255,i[a++]=0,i[a++]=0,i.set(e.subarray(o,o+65535),a),a+=65535,o+=65535,t-=65535;i[a++]=1,i[a++]=255&t,i[a++]=t>>8&255,i[a++]=255&~t,i[a++]=(65535&~t)>>8&255,i.set(e.subarray(o),a),a+=e.length-o;var s=d(e,0,e.length);return i[a++]=s>>24&255,i[a++]=s>>16&255,i[a++]=s>>8&255,i[a++]=255&s,i}function v(e,t,a,o){var s=e.width,u=e.height,l,c,d,p=e.data;switch(t){case i.ImageKind.GRAYSCALE_1BPP:c=0,l=1,d=s+7>>3;break;case i.ImageKind.RGB_24BPP:c=2,l=8,d=3*s;break;case i.ImageKind.RGBA_32BPP:c=6,l=8,d=4*s;break;default:throw new Error("invalid format")}var v=new Uint8Array((1+d)*u),m=0,g=0,y,b;for(y=0;y<u;++y)v[m++]=0,v.set(p.subarray(g,g+d),m),g+=d,m+=d;if(t===i.ImageKind.GRAYSCALE_1BPP&&o)for(m=0,y=0;y<u;y++)for(m++,b=0;b<d;b++)v[m++]^=255;var _=new Uint8Array([s>>24&255,s>>16&255,s>>8&255,255&s,u>>24&255,u>>16&255,u>>8&255,255&u,l,c,0,0,0]),A=f(v),S=r.length+3*n+_.length+A.length,w=new Uint8Array(S),k=0;return w.set(r,k),h("IHDR",_,w,k+=r.length),h("IDATA",A,w,k+=n+_.length),k+=n+A.length,h("IEND",new Uint8Array(0),w,k),(0,i.createObjectURL)(w,"image/png",a)}return function e(t,r,n){var a;return v(t,void 0===t.kind?i.ImageKind.GRAYSCALE_1BPP:t.kind,r,n)}}(),d=function e(){function t(){this.fontSizeScale=1,this.fontWeight=c.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=c.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return t.prototype={clone:function e(){return Object.create(this)},setCurrentPoint:function e(t,r){this.x=t,this.y=r}},t}();r.SVGGraphics=l=function e(){function t(e){for(var t=[],r=[],n=e.length,i=0;i<n;i++)"save"!==e[i].fn?"restore"===e[i].fn?t=r.pop():t.push(e[i]):(t.push({fnId:92,fn:"group",items:[]}),r.push(t),t=t[t.length-1].items);return t}function r(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),r=t.length-1;if("0"!==t[r])return t;do{r--}while("0"===t[r]);return t.substring(0,"."===t[r]?r:r+1)}function n(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale("+r(e[0])+" "+r(e[3])+")";var t;if(e[0]===e[3]&&e[1]===-e[2])return"rotate("+r(180*Math.acos(e[0])/Math.PI)+")"}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate("+r(e[4])+" "+r(e[5])+")";return"matrix("+r(e[0])+" "+r(e[1])+" "+r(e[2])+" "+r(e[3])+" "+r(e[4])+" "+r(e[5])+")"}function o(e,t,r){this.svgFactory=new a.DOMSVGFactory,this.current=new d,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=t,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!r}var s="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/1999/xlink",l=["butt","round","square"],f=["miter","round","bevel"],p=0,v=0;return o.prototype={save:function e(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t),this.current=t.clone()},restore:function e(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null},group:function e(t){this.save(),this.executeOpTree(t),this.restore()},loadDependencies:function e(t){for(var r=this,n=t.fnArray,a=n.length,o=t.argsArray,s=0;s<a;s++)if(i.OPS.dependency===n[s])for(var u=o[s],l=0,c=u.length;l<c;l++){var h=u[l],d="g_"===h.substring(0,2),f;f=new Promise(d?function(e){r.commonObjs.get(h,e)}:function(e){r.objs.get(h,e)}),this.current.dependencies.push(f)}return Promise.all(this.current.dependencies)},transform:function e(t,r,n,a,o,s){var u=[t,r,n,a,o,s];this.transformMatrix=i.Util.transform(this.transformMatrix,u),this.tgrp=null},getSVG:function e(t,r){var n=this;this.viewport=r;var a=this._initialize(r);return this.loadDependencies(t).then((function(){n.transformMatrix=i.IDENTITY_MATRIX;var e=n.convertOpList(t);return n.executeOpTree(e),a}))},convertOpList:function e(r){var n=r.argsArray,a=r.fnArray,o=a.length,s=[],u=[];for(var l in i.OPS)s[i.OPS[l]]=l;for(var c=0;c<o;c++){var h=a[c];u.push({fnId:h,fn:s[h],args:n[c]})}return t(u)},executeOpTree:function e(t){for(var r=t.length,n=0;n<r;n++){var a=t[n].fn,o=t[n].fnId,s=t[n].args;switch(0|o){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(s);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case i.OPS.setFont:this.setFont(s);break;case i.OPS.showText:case i.OPS.showSpacedText:this.showText(s[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(s[0],s[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case i.OPS.setHScale:this.setHScale(s[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case i.OPS.setTextRise:this.setTextRise(s[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case i.OPS.setLineWidth:this.setLineWidth(s[0]);break;case i.OPS.setLineJoin:this.setLineJoin(s[0]);break;case i.OPS.setLineCap:this.setLineCap(s[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case i.OPS.setDash:this.setDash(s[0],s[1]);break;case i.OPS.setGState:this.setGState(s[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintJpegXObject:this.paintJpegXObject(s[0],s[1],s[2]);break;case i.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case i.OPS.constructPath:this.constructPath(s[0],s[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(t[n].items);break;default:(0,i.warn)("Unimplemented operator "+a)}}},setWordSpacing:function e(t){this.current.wordSpacing=t},setCharSpacing:function e(t){this.current.charSpacing=t},nextLine:function e(){this.moveText(0,this.current.leading)},setTextMatrix:function e(t,n,i,a,o,s){var u=this.current;this.current.textMatrix=this.current.lineMatrix=[t,n,i,a,o,s],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,u.xcoords=[],u.tspan=this.svgFactory.createElement("svg:tspan"),u.tspan.setAttributeNS(null,"font-family",u.fontFamily),u.tspan.setAttributeNS(null,"font-size",r(u.fontSize)+"px"),u.tspan.setAttributeNS(null,"y",r(-u.y)),u.txtElement=this.svgFactory.createElement("svg:text"),u.txtElement.appendChild(u.tspan)},beginText:function e(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=i.IDENTITY_MATRIX,this.current.lineMatrix=i.IDENTITY_MATRIX,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.txtElement=this.svgFactory.createElement("svg:text"),this.current.txtgrp=this.svgFactory.createElement("svg:g"),this.current.xcoords=[]},moveText:function e(t,n){var i=this.current;this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n,i.xcoords=[],i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size",r(i.fontSize)+"px"),i.tspan.setAttributeNS(null,"y",r(-i.y))},showText:function e(t){var a=this.current,o=a.font,u=a.fontSize;if(0!==u){var l=a.charSpacing,h=a.wordSpacing,d=a.fontDirection,f=a.textHScale*d,p=t.length,v=o.vertical,m=u*a.fontMatrix[0],g=0,y;for(y=0;y<p;++y){var b=t[y];if(null!==b)if((0,i.isNum)(b))g+=-b*u*.001;else{var _=b.width,A=b.fontChar,S,w=_*m+((b.isSpace?h:0)+l)*d;b.isInFont||o.missingFile?(a.xcoords.push(a.x+g*f),a.tspan.textContent+=A,g+=w):g+=w}else g+=d*h}v?a.y-=g*f:a.x+=g*f,a.tspan.setAttributeNS(null,"x",a.xcoords.map(r).join(" ")),a.tspan.setAttributeNS(null,"y",r(-a.y)),a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",r(a.fontSize)+"px"),a.fontStyle!==c.fontStyle&&a.tspan.setAttributeNS(null,"font-style",a.fontStyle),a.fontWeight!==c.fontWeight&&a.tspan.setAttributeNS(null,"font-weight",a.fontWeight);var k=a.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;k===i.TextRenderingMode.FILL||k===i.TextRenderingMode.FILL_STROKE?(a.fillColor!==c.fillColor&&a.tspan.setAttributeNS(null,"fill",a.fillColor),a.fillAlpha<1&&a.tspan.setAttributeNS(null,"fill-opacity",a.fillAlpha)):a.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?a.tspan.setAttributeNS(null,"fill","transparent"):a.tspan.setAttributeNS(null,"fill","none"),k!==i.TextRenderingMode.STROKE&&k!==i.TextRenderingMode.FILL_STROKE||this._setStrokeAttributes(a.tspan);var P=a.textMatrix;0!==a.textRise&&((P=P.slice())[5]+=a.textRise),a.txtElement.setAttributeNS(null,"transform",n(P)+" scale(1, -1)"),a.txtElement.setAttributeNS(s,"xml:space","preserve"),a.txtElement.appendChild(a.tspan),a.txtgrp.appendChild(a.txtElement),this._ensureTransformGroup().appendChild(a.txtElement)}},setLeadingMoveText:function e(t,r){this.setLeading(-r),this.moveText(t,r)},addFontStyle:function e(t){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var r=(0,i.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+t.loadedName+'"; src: url('+r+"); }\n"},setFont:function e(t){var n=this.current,a=this.commonObjs.get(t[0]),o=t[1];this.current.font=a,this.embedFonts&&a.data&&!this.embeddedFonts[a.loadedName]&&(this.addFontStyle(a),this.embeddedFonts[a.loadedName]=a),n.fontMatrix=a.fontMatrix?a.fontMatrix:i.FONT_IDENTITY_MATRIX;var s=a.black?a.bold?"bolder":"bold":a.bold?"bold":"normal",u=a.italic?"italic":"normal";o<0?(o=-o,n.fontDirection=-1):n.fontDirection=1,n.fontSize=o,n.fontFamily=a.loadedName,n.fontWeight=s,n.fontStyle=u,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",r(-n.y)),n.xcoords=[]},endText:function e(){var t=this.current;t.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&t.txtElement&&t.txtElement.hasChildNodes()&&(t.element=t.txtElement,this.clip("nonzero"),this.endPath())},setLineWidth:function e(t){this.current.lineWidth=t},setLineCap:function e(t){this.current.lineCap=l[t]},setLineJoin:function e(t){this.current.lineJoin=f[t]},setMiterLimit:function e(t){this.current.miterLimit=t},setStrokeAlpha:function e(t){this.current.strokeAlpha=t},setStrokeRGBColor:function e(t,r,n){var a=i.Util.makeCssRgb(t,r,n);this.current.strokeColor=a},setFillAlpha:function e(t){this.current.fillAlpha=t},setFillRGBColor:function e(t,r,n){var a=i.Util.makeCssRgb(t,r,n);this.current.fillColor=a,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]},setDash:function e(t,r){this.current.dashArray=t,this.current.dashPhase=r},constructPath:function e(t,n){var a=this.current,o=a.x,s=a.y;a.path=this.svgFactory.createElement("svg:path");for(var u=[],l=t.length,c=0,h=0;c<l;c++)switch(0|t[c]){case i.OPS.rectangle:o=n[h++],s=n[h++];var d,f,p=o+n[h++],v=s+n[h++];u.push("M",r(o),r(s),"L",r(p),r(s),"L",r(p),r(v),"L",r(o),r(v),"Z");break;case i.OPS.moveTo:o=n[h++],s=n[h++],u.push("M",r(o),r(s));break;case i.OPS.lineTo:o=n[h++],s=n[h++],u.push("L",r(o),r(s));break;case i.OPS.curveTo:o=n[h+4],s=n[h+5],u.push("C",r(n[h]),r(n[h+1]),r(n[h+2]),r(n[h+3]),r(o),r(s)),h+=6;break;case i.OPS.curveTo2:o=n[h+2],s=n[h+3],u.push("C",r(o),r(s),r(n[h]),r(n[h+1]),r(n[h+2]),r(n[h+3])),h+=4;break;case i.OPS.curveTo3:o=n[h+2],s=n[h+3],u.push("C",r(n[h]),r(n[h+1]),r(o),r(s),r(o),r(s)),h+=4;break;case i.OPS.closePath:u.push("Z")}a.path.setAttributeNS(null,"d",u.join(" ")),a.path.setAttributeNS(null,"fill","none"),this._ensureTransformGroup().appendChild(a.path),a.element=a.path,a.setCurrentPoint(o,s)},endPath:function e(){if(this.pendingClip){var t=this.current,r="clippath"+p;p++;var i=this.svgFactory.createElement("svg:clipPath");i.setAttributeNS(null,"id",r),i.setAttributeNS(null,"transform",n(this.transformMatrix));var a=t.element.cloneNode(!0);"evenodd"===this.pendingClip?a.setAttributeNS(null,"clip-rule","evenodd"):a.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,i.appendChild(a),this.defs.appendChild(i),t.activeClipUrl&&(t.clipGroup=null,this.extraStack.forEach((function(e){e.clipGroup=null})),i.setAttributeNS(null,"clip-path",t.activeClipUrl)),t.activeClipUrl="url(#"+r+")",this.tgrp=null}},clip:function e(t){this.pendingClip=t},closePath:function e(){var t=this.current;if(t.path){var r=t.path.getAttributeNS(null,"d");r+="Z",t.path.setAttributeNS(null,"d",r)}},setLeading:function e(t){this.current.leading=-t},setTextRise:function e(t){this.current.textRise=t},setTextRenderingMode:function e(t){this.current.textRenderingMode=t},setHScale:function e(t){this.current.textHScale=t/100},setGState:function e(t){for(var r=0,n=t.length;r<n;r++){var a=t[r],o=a[0],s=a[1];switch(o){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"Font":this.setFont(s);break;case"CA":this.setStrokeAlpha(s);break;case"ca":this.setFillAlpha(s);break;default:(0,i.warn)("Unimplemented graphic state "+o)}}},fill:function e(){var t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())},stroke:function e(){var t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())},_setStrokeAttributes:function e(t){var n=this.current;t.setAttributeNS(null,"stroke",n.strokeColor),t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",r(n.miterLimit)),t.setAttributeNS(null,"stroke-linecap",n.lineCap),t.setAttributeNS(null,"stroke-linejoin",n.lineJoin),t.setAttributeNS(null,"stroke-width",r(n.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",n.dashArray.map(r).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",r(n.dashPhase)+"px")},eoFill:function e(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()},fillStroke:function e(){this.stroke(),this.fill()},eoFillStroke:function e(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function e(){this.closePath(),this.stroke()},closeFillStroke:function e(){this.closePath(),this.fillStroke()},closeEOFillStroke:function e(){this.closePath(),this.eoFillStroke()},paintSolidColorImageMask:function e(){var t=this.current,r=this.svgFactory.createElement("svg:rect");r.setAttributeNS(null,"x","0"),r.setAttributeNS(null,"y","0"),r.setAttributeNS(null,"width","1px"),r.setAttributeNS(null,"height","1px"),r.setAttributeNS(null,"fill",t.fillColor),this._ensureTransformGroup().appendChild(r)},paintJpegXObject:function e(t,n,i){var a=this.objs.get(t),o=this.svgFactory.createElement("svg:image");o.setAttributeNS(u,"xlink:href",a.src),o.setAttributeNS(null,"width",r(n)),o.setAttributeNS(null,"height",r(i)),o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y",r(-i)),o.setAttributeNS(null,"transform","scale("+r(1/n)+" "+r(-1/i)+")"),this._ensureTransformGroup().appendChild(o)},paintImageXObject:function e(t){var r=this.objs.get(t);r?this.paintInlineImageXObject(r):(0,i.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function e(t,n){var i=t.width,a=t.height,o=h(t,this.forceDataSchema,!!n),s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",r(i)),s.setAttributeNS(null,"height",r(a)),this.current.element=s,this.clip("nonzero");var l=this.svgFactory.createElement("svg:image");l.setAttributeNS(u,"xlink:href",o),l.setAttributeNS(null,"x","0"),l.setAttributeNS(null,"y",r(-a)),l.setAttributeNS(null,"width",r(i)+"px"),l.setAttributeNS(null,"height",r(a)+"px"),l.setAttributeNS(null,"transform","scale("+r(1/i)+" "+r(-1/a)+")"),n?n.appendChild(l):this._ensureTransformGroup().appendChild(l)},paintImageMaskXObject:function e(t){var n=this.current,i=t.width,a=t.height,o=n.fillColor;n.maskId="mask"+v++;var s=this.svgFactory.createElement("svg:mask");s.setAttributeNS(null,"id",n.maskId);var u=this.svgFactory.createElement("svg:rect");u.setAttributeNS(null,"x","0"),u.setAttributeNS(null,"y","0"),u.setAttributeNS(null,"width",r(i)),u.setAttributeNS(null,"height",r(a)),u.setAttributeNS(null,"fill",o),u.setAttributeNS(null,"mask","url(#"+n.maskId+")"),this.defs.appendChild(s),this._ensureTransformGroup().appendChild(u),this.paintInlineImageXObject(t,s)},paintFormXObjectBegin:function e(t,n){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),Array.isArray(n)&&4===n.length){var i=n[2]-n[0],a=n[3]-n[1],o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x",n[0]),o.setAttributeNS(null,"y",n[1]),o.setAttributeNS(null,"width",r(i)),o.setAttributeNS(null,"height",r(a)),this.current.element=o,this.clip("nonzero"),this.endPath()}},paintFormXObjectEnd:function e(){},_initialize:function e(t){var r=this.svgFactory.create(t.width,t.height),i=this.svgFactory.createElement("svg:defs");r.appendChild(i),this.defs=i;var a=this.svgFactory.createElement("svg:g");return a.setAttributeNS(null,"transform",n(t.transform)),r.appendChild(a),this.svg=a,r},_ensureClipGroup:function e(){if(!this.current.clipGroup){var t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup},_ensureTransformGroup:function e(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",n(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}},o}(),r.SVGGraphics=l},function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PDFNodeStream=void 0;var i,a=l(n(137)),o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=n(1),u=n(149);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){function n(i,a){try{var o=t[i](a),s=o.value}catch(u){return void r(u)}if(!o.done)return Promise.resolve(s).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(s)}return n("next")}))}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=e("fs"),v=e("http"),m=e("https"),g=e("url"),y=/^file:\/\/\/[a-zA-Z]:\//;function b(e){var t=g.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?g.parse("file:///"+e):(t.host||(t.protocol="file:"),t)}var _=function(){function e(t){f(this,e),this.source=t,this.url=b(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequest=null,this._rangeRequestReaders=[]}return o(e,[{key:"getFullReader",value:function e(){return(0,s.assert)(!this._fullRequest),this._fullRequest=this.isFsUrl?new x(this):new k(this),this._fullRequest}},{key:"getRangeReader",value:function e(t,r){var n=this.isFsUrl?new C(this,t,r):new P(this,t,r);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function e(t){var r;this._fullRequest&&this._fullRequest.cancel(t),this._rangeRequestReaders.slice(0).forEach((function(e){e.cancel(t)}))}}]),e}(),A=function(){function e(t){f(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var r=t.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._headersCapability=(0,s.createPromiseCapability)()}return o(e,[{key:"read",value:function(){var e=d(a.default.mark((function e(){var t,r;return a.default.wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this._readCapability.promise;case 2:if(!this._done){n.next=4;break}return n.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){n.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){n.next=10;break}return this._readCapability=(0,s.createPromiseCapability)(),n.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),r=new Uint8Array(t).buffer,n.abrupt("return",{value:r,done:!1});case 14:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function e(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function e(t){var r=this;this._readableStream=t,t.on("readable",(function(){r._readCapability.resolve()})),t.on("end",(function(){t.destroy(),r._done=!0,r._readCapability.resolve()})),t.on("error",(function(e){r._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function e(){return this._headersCapability.promise}},{key:"filename",get:function e(){return this._filename}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]),e}(),S=function(){function e(t){f(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)();var r=t.source;this._isStreamingSupported=!r.disableStream}return o(e,[{key:"read",value:function(){var e=d(a.default.mark((function e(){var t,r;return a.default.wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this._readCapability.promise;case 2:if(!this._done){n.next=4;break}return n.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){n.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){n.next=10;break}return this._readCapability=(0,s.createPromiseCapability)(),n.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),r=new Uint8Array(t).buffer,n.abrupt("return",{value:r,done:!1});case 14:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function e(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function e(t){var r=this;this._readableStream=t,t.on("readable",(function(){r._readCapability.resolve()})),t.on("end",(function(){t.destroy(),r._done=!0,r._readCapability.resolve()})),t.on("error",(function(e){r._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]),e}();function w(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var k=function(e){function t(e){f(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=function t(n){if(404===n.statusCode){var i=new s.MissingPDFException('Missing PDF "'+r._url+'".');return r._storedError=i,void r._headersCapability.reject(i)}r._headersCapability.resolve(),r._setReadableStream(n);var a=function e(t){return r._readableStream.headers[t.toLowerCase()]},o=(0,u.validateRangeRequestCapabilities)({getResponseHeader:a,isHttp:e.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),l=o.allowRangeRequests,c=o.suggestedLength;r._isRangeSupported=l,r._contentLength=c||r._contentLength,r._filename=(0,u.extractFilenameFromHeader)(a)};return r._request=null,"http:"===r._url.protocol?r._request=v.request(w(r._url,e.httpHeaders),n):r._request=m.request(w(r._url,e.httpHeaders),n),r._request.on("error",(function(e){r._storedError=e,r._headersCapability.reject(e)})),r._request.end(),r}return h(t,e),t}(A),P=function(e){function t(e,r,n){f(this,t);var i=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));for(var a in i._httpHeaders={},e.httpHeaders){var o=e.httpHeaders[a];void 0!==o&&(i._httpHeaders[a]=o)}i._httpHeaders.Range="bytes="+r+"-"+(n-1);var u=function e(t){if(404!==t.statusCode)i._setReadableStream(t);else{var r=new s.MissingPDFException('Missing PDF "'+i._url+'".');i._storedError=r}};return i._request=null,"http:"===i._url.protocol?i._request=v.request(w(i._url,i._httpHeaders),u):i._request=m.request(w(i._url,i._httpHeaders),u),i._request.on("error",(function(e){i._storedError=e})),i._request.end(),i}return h(t,e),t}(S),x=function(e){function t(e){f(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=decodeURIComponent(r._url.path);return y.test(r._url.href)&&(n=n.replace(/^\//,"")),p.lstat(n,(function(e,t){if(e)return"ENOENT"===e.code&&(e=new s.MissingPDFException('Missing PDF "'+n+'".')),r._storedError=e,void r._headersCapability.reject(e);r._contentLength=t.size,r._setReadableStream(p.createReadStream(n)),r._headersCapability.resolve()})),r}return h(t,e),t}(A),C=function(e){function t(e,r,n){f(this,t);var i=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=decodeURIComponent(i._url.path);return y.test(i._url.href)&&(a=a.replace(/^\//,"")),i._setReadableStream(p.createReadStream(a,{start:r,end:n-1})),i}return h(t,e),t}(S);r.PDFNodeStream=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateResponseStatus=t.validateRangeRequestCapabilities=t.extractFilenameFromHeader=t.createResponseStatusError=void 0;var n=r(1),i=r(150);function a(e){var t=e.getResponseHeader,r=e.isHttp,i=e.rangeChunkSize,a=e.disableRange;(0,n.assert)(i>0,"Range chunk size must be larger than zero");var o={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10),u;return Number.isInteger(s)?(o.suggestedLength=s,s<=2*i?o:a||!r?o:"bytes"!==t("Accept-Ranges")?o:"identity"!==(t("Content-Encoding")||"identity")?o:(o.allowRangeRequests=!0,o)):o}function o(e){var t=e("Content-Disposition");if(t){var r=(0,i.getFilenameFromContentDispositionHeader)(t);if(/\.pdf$/i.test(r))return r}return null}function s(e,t){return 404===e||0===e&&/^file:/.test(t)?new n.MissingPDFException('Missing PDF "'+t+'".'):new n.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)}function u(e){return 200===e||206===e}t.createResponseStatusError=s,t.extractFilenameFromHeader=o,t.validateRangeRequestCapabilities=a,t.validateResponseStatus=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(u){i=!0,a=u}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function i(e){var t=!0,r=s("filename\\*","i").exec(e),i;if(r){var a=h(r=r[1]);return l(a=f(a=d(a=unescape(a))))}if(r=c(e))return l(f(r));if(r=s("filename","i").exec(e)){var o=h(r=r[1]);return l(o=f(o))}function s(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function u(e,r){if(e){if(!/^[\x00-\xFF]+$/.test(r))return r;try{for(var n=new TextDecoder(e,{fatal:!0}),i=new Array(r.length),a=0;a<r.length;++a)i[a]=r.charCodeAt(a);r=n.decode(new Uint8Array(i)),t=!1}catch(o){if(/^utf-?8$/i.test(e))try{r=decodeURIComponent(escape(r)),t=!1}catch(s){}}}return r}function l(e){return t&&/[\x80-\xff]/.test(e)&&(e=u("utf-8",e),t&&(e=u("iso-8859-1",e))),e}function c(e){for(var t=[],r=void 0,i=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(r=i.exec(e));){var a,o=n(r,4),u=o[1],l=o[2],c=o[3];if((u=parseInt(u,10))in t){if(0===u)break}else t[u]=[l,c]}for(var f=[],p=0;p<t.length&&p in t;++p){var v=n(t[p],2),m=v[0],g=v[1];g=h(g),m&&(g=unescape(g),0===p&&(g=d(g))),f.push(g)}return f.join("")}function h(e){if('"'===e.charAt(0)){for(var t=e.slice(1).split('\\"'),r=0;r<t.length;++r){var n=t[r].indexOf('"');-1!==n&&(t[r]=t[r].slice(0,n),t.length=r+1),t[r]=t[r].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function d(e){var t=e.indexOf("'"),r,n,i;return-1===t?e:u(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function f(e){return"=?"!==e.slice(0,2)||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,r,n){if("q"===r||"Q"===r)return u(t,n=(n=n.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{n=atob(n)}catch(i){}return u(t,n)}))}return""}t.getFilenameFromContentDispositionHeader=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var n,i=u(r(137)),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(1),s=r(149);function u(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){function n(i,a){try{var o=t[i](a),s=o.value}catch(u){return void r(u)}if(!o.done)return Promise.resolve(s).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(s)}return n("next")}))}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,r){return{method:"GET",headers:e,signal:r&&r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}var d=function(){function e(t){c(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return a(e,[{key:"getFullReader",value:function e(){return(0,o.assert)(!this._fullRequestReader),this._fullRequestReader=new f(this),this._fullRequestReader}},{key:"getRangeReader",value:function e(t,r){var n=new p(this,t,r);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function e(t){var r;this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach((function(e){e.cancel(t)}))}}]),e}(),f=function(){function e(t){var r=this;c(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var n=t.source;for(var i in this._withCredentials=n.withCredentials,this._contentLength=n.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._headers=new Headers,this._stream.httpHeaders){var a=this._stream.httpHeaders[i];void 0!==a&&this._headers.append(i,a)}var u=n.url;fetch(u,h(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,s.validateResponseStatus)(e.status))throw(0,s.createResponseStatusError)(e.status,u);r._reader=e.body.getReader(),r._headersCapability.resolve();var t=function t(r){return e.headers.get(r)},n=(0,s.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:r._stream.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),i=n.allowRangeRequests,a=n.suggestedLength;r._isRangeSupported=i,r._contentLength=a||r._contentLength,r._filename=(0,s.extractFilenameFromHeader)(t),!r._isStreamingSupported&&r._isRangeSupported&&r.cancel(new o.AbortException("streaming is disabled"))})).catch(this._headersCapability.reject),this.onProgress=null}return a(e,[{key:"read",value:function(){var e=l(i.default.mark((function e(){var t,r,n,a;return i.default.wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this._headersCapability.promise;case 2:return i.next=4,this._reader.read();case 4:if(t=i.sent,r=t.value,!(n=t.done)){i.next=9;break}return i.abrupt("return",{value:r,done:n});case 9:return this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),a=new Uint8Array(r).buffer,i.abrupt("return",{value:a,done:!1});case 13:case"end":return i.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function e(){return this._headersCapability.promise}},{key:"filename",get:function e(){return this._filename}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]),e}(),p=function(){function e(t,r,n){var i=this;c(this,e),this._stream=t,this._reader=null,this._loaded=0;var a=t.source;for(var u in this._withCredentials=a.withCredentials,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!a.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=new Headers,this._stream.httpHeaders){var l=this._stream.httpHeaders[u];void 0!==l&&this._headers.append(u,l)}var d=r+"-"+(n-1);this._headers.append("Range","bytes="+d);var f=a.url;fetch(f,h(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,s.validateResponseStatus)(e.status))throw(0,s.createResponseStatusError)(e.status,f);i._readCapability.resolve(),i._reader=e.body.getReader()})),this.onProgress=null}return a(e,[{key:"read",value:function(){var e=l(i.default.mark((function e(){var t,r,n,a;return i.default.wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this._readCapability.promise;case 2:return i.next=4,this._reader.read();case 4:if(t=i.sent,r=t.value,!(n=t.done)){i.next=9;break}return i.abrupt("return",{value:r,done:n});case 9:return this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),a=new Uint8Array(r).buffer,i.abrupt("return",{value:a,done:!1});case 13:case"end":return i.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}}]),e}();t.PDFFetchStream=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkManager=t.PDFNetworkStream=void 0;var n,i=l(r(137)),a=r(1),o=r(149),s,u=l(r(3));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,r){function n(i,a){try{var o=t[i](a),s=o.value}catch(u){return void r(u)}if(!o.done)return Promise.resolve(s).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(s)}return n("next")}))}}var h=200,d=206;function f(e,t){this.url=e,t=t||{},this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this.withCredentials=t.withCredentials||!1,this.getXhr=t.getXhr||function e(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null),this.loadedRequests=Object.create(null)}function p(e){var t=e.response,r;return"string"!=typeof t?t:(0,a.stringToBytes)(t).buffer}var v=function e(){try{var t=new XMLHttpRequest;return t.open("GET",u.default.location.href),t.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===t.responseType}catch(r){return!1}}();function m(e){this._source=e,this._manager=new f(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}function g(e,t){this._manager=e;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:t.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=(0,a.createPromiseCapability)(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}function y(e,t,r){this._manager=e;var n={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=e.requestRange(t,r,n),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}f.prototype={requestRange:function e(t,r,n){var i={begin:t,end:r};for(var a in n)i[a]=n[a];return this.request(i)},requestFull:function e(t){return this.request(t)},request:function e(t){var r=this.getXhr(),n=this.currXhrId++,i=this.pendingRequests[n]={xhr:r},a;for(var o in r.open("GET",this.url),r.withCredentials=this.withCredentials,this.httpHeaders){var s=this.httpHeaders[o];void 0!==s&&r.setRequestHeader(o,s)}if(this.isHttp&&"begin"in t&&"end"in t){var u=t.begin+"-"+(t.end-1);r.setRequestHeader("Range","bytes="+u),i.expectedStatus=206}else i.expectedStatus=200;return v&&!!t.onProgressiveData?(r.responseType="moz-chunked-arraybuffer",i.onProgressiveData=t.onProgressiveData,i.mozChunked=!0):r.responseType="arraybuffer",t.onError&&(r.onerror=function(e){t.onError(r.status)}),r.onreadystatechange=this.onStateChange.bind(this,n),r.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,r.send(null),n},onProgress:function e(t,r){var n=this.pendingRequests[t];if(n){if(n.mozChunked){var i=p(n.xhr);n.onProgressiveData(i)}var a=n.onProgress;a&&a(r)}},onStateChange:function e(t,r){var n=this.pendingRequests[t];if(n){var i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===i.readyState&&t in this.pendingRequests)if(delete this.pendingRequests[t],0===i.status&&this.isHttp)n.onError&&n.onError(i.status);else{var a=i.status||200,o;if(200===a&&206===n.expectedStatus||a===n.expectedStatus){this.loadedRequests[t]=!0;var s=p(i);if(206===a){var u=i.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(u),c=parseInt(l[1],10);n.onDone({begin:c,chunk:s})}else n.onProgressiveData?n.onDone(null):s?n.onDone({begin:0,chunk:s}):n.onError&&n.onError(i.status)}else n.onError&&n.onError(i.status)}}},hasPendingRequests:function e(){for(var t in this.pendingRequests)return!0;return!1},getRequestXhr:function e(t){return this.pendingRequests[t].xhr},isStreamingRequest:function e(t){return!!this.pendingRequests[t].onProgressiveData},isPendingRequest:function e(t){return t in this.pendingRequests},isLoadedRequest:function e(t){return t in this.loadedRequests},abortAllRequests:function e(){for(var t in this.pendingRequests)this.abortRequest(0|t)},abortRequest:function e(t){var r=this.pendingRequests[t].xhr;delete this.pendingRequests[t],r.abort()}},m.prototype={_onRangeRequestReaderClosed:function e(t){var r=this._rangeRequestReaders.indexOf(t);r>=0&&this._rangeRequestReaders.splice(r,1)},getFullReader:function e(){return(0,a.assert)(!this._fullRequestReader),this._fullRequestReader=new g(this._manager,this._source),this._fullRequestReader},getRangeReader:function e(t,r){var n=new y(this._manager,t,r);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n},cancelAllRequests:function e(t){var r;this._fullRequestReader&&this._fullRequestReader.cancel(t),this._rangeRequestReaders.slice(0).forEach((function(e){e.cancel(t)}))}},g.prototype={_onHeadersReceived:function e(){var t=this._fullRequestId,r=this._manager.getRequestXhr(t),n=function e(t){return r.getResponseHeader(t)},i=(0,o.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),a=i.allowRangeRequests,s=i.suggestedLength;a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(n);var u=this._manager;u.isStreamingRequest(t)?this._isStreamingSupported=!0:this._isRangeSupported&&u.abortRequest(t),this._headersReceivedCapability.resolve()},_onProgressiveData:function e(t){var r;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._cachedChunks.push(t)},_onDone:function e(t){t&&this._onProgressiveData(t.chunk),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[])},_onError:function e(t){var r=this._url,n=(0,o.createResponseStatusError)(t,r);this._storedError=n,this._headersReceivedCapability.reject(n),this._requests.forEach((function(e){e.reject(n)})),this._requests=[],this._cachedChunks=[]},_onProgress:function e(t){this.onProgress&&this.onProgress({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})},get filename(){return this._filename},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:function(){var e=c(i.default.mark((function e(){var t,r;return i.default.wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:if(!this._storedError){n.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){n.next=5;break}return t=this._cachedChunks.shift(),n.abrupt("return",{value:t,done:!1});case 5:if(!this._done){n.next=7;break}return n.abrupt("return",{value:void 0,done:!0});case 7:return r=(0,a.createPromiseCapability)(),this._requests.push(r),n.abrupt("return",r.promise);case 10:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function e(t){this._done=!0,this._headersReceivedCapability.reject(t),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},y.prototype={_close:function e(){this.onClosed&&this.onClosed(this)},_onDone:function e(t){var r=t.chunk,n;this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunk=r;this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._close()},_onProgress:function e(t){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:t.loaded})},get isStreamingSupported(){return!1},read:function(){var e=c(i.default.mark((function e(){var t,r;return i.default.wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:if(null===this._queuedChunk){n.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,n.abrupt("return",{value:t,done:!1});case 4:if(!this._done){n.next=6;break}return n.abrupt("return",{value:void 0,done:!0});case 6:return r=(0,a.createPromiseCapability)(),this._requests.push(r),n.abrupt("return",r.promise);case 9:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),cancel:function e(t){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},t.PDFNetworkStream=m,t.NetworkManager=f}])}))}

