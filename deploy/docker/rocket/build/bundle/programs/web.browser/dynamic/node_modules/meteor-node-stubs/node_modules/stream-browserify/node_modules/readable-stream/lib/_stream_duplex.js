function module(t,e,r){"use strict";var i=t("process-nextick-args"),a=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};r.exports=p;var o=t("core-util-is");o.inherits=t("inherits");var n=t("./_stream_readable"),s=t("./_stream_writable");o.inherits(p,n);for(var l=a(s.prototype),h=0;h<l.length;h++){var d=l[h];p.prototype[d]||(p.prototype[d]=s.prototype[d])}function p(t){if(!(this instanceof p))return new p(t);n.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||i.nextTick(b,this)}function b(t){t.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),p.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}}

