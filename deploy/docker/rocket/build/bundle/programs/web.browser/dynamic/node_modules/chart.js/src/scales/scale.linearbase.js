function module(i,e,n){"use strict";var a=i("../helpers/index"),t=i("../core/core.scale");function s(i,e){var n=[],t,s,m;if(i.stepSize&&i.stepSize>0)m=i.stepSize;else{var o=a.niceNum(e.max-e.min,!1);m=a.niceNum(o/(i.maxTicks-1),!0),void 0!==(s=i.precision)&&(t=Math.pow(10,s),m=Math.ceil(m*t)/t)}var r=Math.floor(e.min/m)*m,x=Math.ceil(e.max/m)*m;a.isNullOrUndef(i.min)||a.isNullOrUndef(i.max)||!i.stepSize||a.almostWhole((i.max-i.min)/i.stepSize,m/1e3)&&(r=i.min,x=i.max);var c=(x-r)/m;c=a.almostEquals(c,Math.round(c),m/1e3)?Math.round(c):Math.ceil(c),s=1,m<1&&(s=Math.pow(10,1-Math.floor(a.log10(m))),r=Math.round(r*s)/s,x=Math.round(x*s)/s),n.push(void 0!==i.min?i.min:r);for(var l=1;l<c;++l)n.push(Math.round((r+l*m)*s)/s);return n.push(void 0!==i.max?i.max:x),n}n.exports=function(i){var e=a.noop;i.LinearScaleBase=t.extend({getRightValue:function(i){return"string"==typeof i?+i:t.prototype.getRightValue.call(this,i)},handleTickRangeOptions:function(){var i=this,e,n=i.options.ticks;if(n.beginAtZero){var t=a.sign(i.min),s=a.sign(i.max);t<0&&s<0?i.max=0:t>0&&s>0&&(i.min=0)}var m=void 0!==n.min||void 0!==n.suggestedMin,o=void 0!==n.max||void 0!==n.suggestedMax;void 0!==n.min?i.min=n.min:void 0!==n.suggestedMin&&(null===i.min?i.min=n.suggestedMin:i.min=Math.min(i.min,n.suggestedMin)),void 0!==n.max?i.max=n.max:void 0!==n.suggestedMax&&(null===i.max?i.max=n.suggestedMax:i.max=Math.max(i.max,n.suggestedMax)),m!==o&&i.min>=i.max&&(m?i.max=i.min+1:i.min=i.max-1),i.min===i.max&&(i.max++,n.beginAtZero||i.min--)},getTickLimit:e,handleDirectionalChanges:e,buildTicks:function(){var i=this,e,n=i.options.ticks,t=i.getTickLimit(),m={maxTicks:t=Math.max(2,t),min:n.min,max:n.max,precision:n.precision,stepSize:a.valueOrDefault(n.fixedStepSize,n.stepSize)},o=i.ticks=s(m,i);i.handleDirectionalChanges(),i.max=a.max(o),i.min=a.min(o),n.reverse?(o.reverse(),i.start=i.max,i.end=i.min):(i.start=i.min,i.end=i.max)},convertTicksToLabels:function(){var i=this;i.ticksAsNumbers=i.ticks.slice(),i.zeroLineIndex=i.ticks.indexOf(0),t.prototype.convertTicksToLabels.call(i)}})}}

