function module(e,t,n){let r,a,l,s,o,i,u,c,m,d,E,g,p,h,k,_,v,w,x,y,S,T;function C(e){let{step:t,title:n,active:C}=e;const f=v(),b=g("registerUser"),F=g("setUsername"),I=p("forceLogin"),R=w(),U=k(),L=async e=>{let{name:t,username:n,email:r,password:a,onRegistrationEmailSent:l}=e;await b({name:t,username:n,email:r,pass:a}),R.run("userRegistered");try{await f(r,a)}catch(s){if("error-invalid-email"===s.error)return void(l&&l());throw U({type:"error",message:s}),s}I(!1),await F(n),R.run("usernameSet")},q=h("UTF8_Names_Validation"),z=d(()=>new RegExp("^".concat(q,"$")),[q]),M=d(()=>/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+$/i,[]),[P,A]=E(""),[D,Z]=E(""),[H,N]=E(""),[W,$]=E(""),[G,O]=E(!0),[V,j]=E(!0),[B,J]=E(!0),[K,Q]=E(!0),X=d(()=>P&&D&&H&&W,[P,D,H,W]),[Y,ee]=E(!1),te=()=>{const e=!!P,t=!!D&&z.test(D),n=!!H&&M.test(H),r=!!W;return O(e),j(t),J(n),Q(r),e&&t&&n&&r},ne=_(),re=x(C),ae=async e=>{e.preventDefault();const t=te();if(t){ee(!0);try{await L({name:P,username:D,email:H,password:W,onRegistrationEmailSent:()=>{U({type:"success",message:ne("We_have_sent_registration_email")})}})}catch(n){console.error(n)}finally{ee(!1)}}},le=c(),se=c(),oe=c(),ie=c();return m.createElement(S,{active:C,working:Y,onSubmit:ae},m.createElement(T,{number:t,title:n}),m.createElement(o,{blockEnd:"x32"},m.createElement(l,null,m.createElement(a,null,m.createElement(a.Label,{htmlFor:le,required:!0},ne("Name")),m.createElement(a.Row,null,m.createElement(u,{ref:re,id:le,addon:m.createElement(s,{name:"user",size:"20"}),placeholder:ne("Type_your_name"),value:P,onChange:e=>{let{currentTarget:{value:t}}=e;return A(t)},error:!G}))),m.createElement(a,null,m.createElement(a.Label,{htmlFor:se,required:!0},ne("Username")),m.createElement(a.Row,null,m.createElement(u,{id:se,addon:m.createElement(s,{name:"at",size:"20"}),placeholder:ne("Type_your_username"),value:D,onChange:e=>{let{currentTarget:{value:t}}=e;return Z(t)},error:!V})),!V&&m.createElement(a.Error,null,ne("Invalid_username"))),m.createElement(a,null,m.createElement(a.Label,{htmlFor:oe,required:!0},ne("Organization_Email")),m.createElement(a.Row,null,m.createElement(r,{id:oe,addon:m.createElement(s,{name:"mail",size:"20"}),placeholder:ne("Type_your_email"),value:H,onChange:e=>{let{currentTarget:{value:t}}=e;return N(t)},error:!B})),!B&&m.createElement(a.Error,null,ne("Invalid_email"))),m.createElement(a,null,m.createElement(a.Label,{htmlFor:ie,required:!0},ne("Password")),m.createElement(a.Row,null,m.createElement(i,{id:ie,addon:m.createElement(s,{name:"key",size:"20"}),placeholder:ne("Type_your_password"),value:W,onChange:e=>{let{currentTarget:{value:t}}=e;return $(t)},error:!K}))))),m.createElement(y,{disabled:Y,isContinueEnabled:X}))}n.export({AdminUserInformationStep:()=>C}),n.link("@rocket.chat/fuselage",{EmailInput(e){r=e},Field(e){a=e},FieldGroup(e){l=e},Icon(e){s=e},Margins(e){o=e},PasswordInput(e){i=e},TextInput(e){u=e}},0),n.link("@rocket.chat/fuselage-hooks",{useUniqueId(e){c=e}},1),n.link("react",{default(e){m=e},useMemo(e){d=e},useState(e){E=e}},2),n.link("../../../contexts/ServerContext",{useMethod(e){g=e}},3),n.link("../../../contexts/SessionContext",{useSessionDispatch(e){p=e}},4),n.link("../../../contexts/SettingsContext",{useSetting(e){h=e}},5),n.link("../../../contexts/ToastMessagesContext",{useToastMessageDispatch(e){k=e}},6),n.link("../../../contexts/TranslationContext",{useTranslation(e){_=e}},7),n.link("../../../contexts/UserContext",{useLoginWithPassword(e){v=e}},8),n.link("../../../hooks/useCallbacks",{useCallbacks(e){w=e}},9),n.link("../../../hooks/useFocus",{useFocus(e){x=e}},10),n.link("../Pager",{Pager(e){y=e}},11),n.link("../Step",{Step(e){S=e}},12),n.link("../StepHeader",{StepHeader(e){T=e}},13)}

