function module(e,n,o){let t,a,c,i,d,r,l;o.link("meteor/meteor",{Meteor(e){t=e}},0),o.link("meteor/tracker",{Tracker(e){a=e}},1),o.link("../../../utils",{t(e){c=e}},2),o.link("../../../settings",{settings(e){i=e}},3),o.link("../../../ui-utils",{messageBox(e){d=e},modal(e){r=e}},4),o.link("../../../models",{WebdavAccounts(e){l=e}},5),d.actions.add("WebDAV","Add Server",{id:"add-webdav",icon:"plus",condition:()=>i.get("Webdav_Integration_Enabled"),action(){r.open({title:c("Webdav_add_new_account"),content:"addWebdavAccount",showCancelButton:!1,showConfirmButton:!1,showFooter:!1,closeOnCancel:!0,html:!0,confirmOnEnter:!1})}}),t.startup((function(){a.autorun(()=>{const e=l.find();if(0===e.count())return d.actions.remove("WebDAV",/webdav-upload-/gi);e.forEach(e=>{const n=e.name||"".concat(e.username,"@").concat(e.server_url.replace(/^https?\:\/\//i,"")),o=c("Upload_From",{name:n});d.actions.add("WebDAV",n,{id:"webdav-upload-".concat(e._id.toLowerCase()),icon:"cloud-plus",condition:()=>i.get("Webdav_Integration_Enabled"),action(){r.open({data:{name:n,accountId:e._id},title:o,modifier:"modal",content:"webdavFilePicker",showCancelButton:!1,showFooter:!1,showConfirmButton:!1,closeOnCancel:!0,html:!0,confirmOnEnter:!1})}})})})}))}

