function module(t,n,e){"use strict";var a=t("../helpers/index");function i(t,n){return t.native?{x:t.x,y:t.y}:a.getRelativePosition(t,n)}function r(t,n){var e,a,i,r,s,u;for(i=0,s=t.data.datasets.length;i<s;++i)if(t.isDatasetVisible(i))for(r=0,u=(a=t.getDatasetMeta(i)).data.length;r<u;++r){var o=a.data[r];o._view.skip||n(o)}}function s(t,n){var e=[];return r(t,(function(t){t.inRange(n.x,n.y)&&e.push(t)})),e}function u(t,n,e,a){var i=Number.POSITIVE_INFINITY,s=[];return r(t,(function(t){if(!e||t.inRange(n.x,n.y)){var r=t.getCenterPoint(),u=a(n,r);u<i?(s=[t],i=u):u===i&&s.push(t)}})),s}function o(t){var n=-1!==t.indexOf("x"),e=-1!==t.indexOf("y");return function(t,a){var i=n?Math.abs(t.x-a.x):0,r=e?Math.abs(t.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(r,2))}}function x(t,n,e){var a=i(n,t);e.axis=e.axis||"x";var r=o(e.axis),x=e.intersect?s(t,a):u(t,a,!1,r),c=[];return x.length?(t.data.datasets.forEach((function(n,e){if(t.isDatasetVisible(e)){var a,i=t.getDatasetMeta(e).data[x[0]._index];i&&!i._view.skip&&c.push(i)}})),c):[]}e.exports={modes:{single:function(t,n){var e=i(n,t),a=[];return r(t,(function(t){if(t.inRange(e.x,e.y))return a.push(t),a})),a.slice(0,1)},label:x,index:x,dataset:function(t,n,e){var a=i(n,t);e.axis=e.axis||"xy";var r=o(e.axis),x=e.intersect?s(t,a):u(t,a,!1,r);return x.length>0&&(x=t.getDatasetMeta(x[0]._datasetIndex).data),x},"x-axis":function(t,n){return x(t,n,{intersect:!1})},point:function(t,n){var e;return s(t,i(n,t))},nearest:function(t,n,e){var a=i(n,t);e.axis=e.axis||"xy";var r=o(e.axis),s=u(t,a,e.intersect,r);return s.length>1&&s.sort((function(t,n){var e,a,i=t.getArea()-n.getArea();return 0===i&&(i=t._datasetIndex-n._datasetIndex),i})),s.slice(0,1)},x:function(t,n,e){var a=i(n,t),s=[],u=!1;return r(t,(function(t){t.inXRange(a.x)&&s.push(t),t.inRange(a.x,a.y)&&(u=!0)})),e.intersect&&!u&&(s=[]),s},y:function(t,n,e){var a=i(n,t),s=[],u=!1;return r(t,(function(t){t.inYRange(a.y)&&s.push(t),t.inRange(a.x,a.y)&&(u=!0)})),e.intersect&&!u&&(s=[]),s}}}}

