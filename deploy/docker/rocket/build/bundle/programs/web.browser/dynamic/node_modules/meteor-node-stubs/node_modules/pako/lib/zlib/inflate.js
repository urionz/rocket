function module(e,a){"use strict";var t=e("../utils/common"),i=e("./adler32"),n=e("./crc32"),s=e("./inffast"),o=e("./inftrees"),r=0,d=1,l=2,f=4,c=5,h=6,k=0,b=1,m=2,w=-2,u=-3,g=-4,v=-5,x=8,_=1,p=2,y=3,z=4,B=5,S=6,C=7,I=8,R=9,j=10,A=11,D=12,E=13,G=14,H=15,K=16,N=17,q=18,F=19,J=20,L=21,M=22,O=23,P=24,Q=25,T=26,U=27,V=28,W=29,X=30,Y=31,Z=32,$=852,ee=592,ae=15,te=15;function ie(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ne(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new t.Buf16(320),this.work=new t.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function se(e){var a;return e&&e.state?(a=e.state,e.total_in=e.total_out=a.total=0,e.msg="",a.wrap&&(e.adler=1&a.wrap),a.mode=_,a.last=0,a.havedict=0,a.dmax=32768,a.head=null,a.hold=0,a.bits=0,a.lencode=a.lendyn=new t.Buf32($),a.distcode=a.distdyn=new t.Buf32(ee),a.sane=1,a.back=-1,k):w}function oe(e){var a;return e&&e.state?((a=e.state).wsize=0,a.whave=0,a.wnext=0,se(e)):w}function re(e,a){var t,i;return e&&e.state?(i=e.state,a<0?(t=0,a=-a):(t=1+(a>>4),a<48&&(a&=15)),a&&(a<8||a>15)?w:(null!==i.window&&i.wbits!==a&&(i.window=null),i.wrap=t,i.wbits=a,oe(e))):w}function de(e,a){var t,i;return e?(i=new ne,e.state=i,i.window=null,(t=re(e,a))!==k&&(e.state=null),t):w}function le(e){return de(e,te)}var fe=!0,ce,he;function ke(e){if(fe){var a;for(ce=new t.Buf32(512),he=new t.Buf32(32),a=0;a<144;)e.lens[a++]=8;for(;a<256;)e.lens[a++]=9;for(;a<280;)e.lens[a++]=7;for(;a<288;)e.lens[a++]=8;for(o(d,e.lens,0,288,ce,0,e.work,{bits:9}),a=0;a<32;)e.lens[a++]=5;o(l,e.lens,0,32,he,0,e.work,{bits:5}),fe=!1}e.lencode=ce,e.lenbits=9,e.distcode=he,e.distbits=5}function be(e,a,i,n){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new t.Buf8(o.wsize)),n>=o.wsize?(t.arraySet(o.window,a,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>n&&(s=n),t.arraySet(o.window,a,i-n,s,o.wnext),(n-=s)?(t.arraySet(o.window,a,i-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}function me(e,a){var $,ee,ae,te,ne,se,oe,re,de,le,fe,ce,he,me,we=0,ue,ge,ve,xe,_e,pe,ye,ze,Be=new t.Buf8(4),Se,Ce,Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return w;($=e.state).mode===D&&($.mode=E),ne=e.next_out,ae=e.output,oe=e.avail_out,te=e.next_in,ee=e.input,se=e.avail_in,re=$.hold,de=$.bits,le=se,fe=oe,ze=k;e:for(;;)switch($.mode){case _:if(0===$.wrap){$.mode=E;break}for(;de<16;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(2&$.wrap&&35615===re){$.check=0,Be[0]=255&re,Be[1]=re>>>8&255,$.check=n($.check,Be,2,0),re=0,de=0,$.mode=p;break}if($.flags=0,$.head&&($.head.done=!1),!(1&$.wrap)||(((255&re)<<8)+(re>>8))%31){e.msg="incorrect header check",$.mode=X;break}if((15&re)!==x){e.msg="unknown compression method",$.mode=X;break}if(de-=4,ye=8+(15&(re>>>=4)),0===$.wbits)$.wbits=ye;else if(ye>$.wbits){e.msg="invalid window size",$.mode=X;break}$.dmax=1<<ye,e.adler=$.check=1,$.mode=512&re?j:D,re=0,de=0;break;case p:for(;de<16;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if($.flags=re,(255&$.flags)!==x){e.msg="unknown compression method",$.mode=X;break}if(57344&$.flags){e.msg="unknown header flags set",$.mode=X;break}$.head&&($.head.text=re>>8&1),512&$.flags&&(Be[0]=255&re,Be[1]=re>>>8&255,$.check=n($.check,Be,2,0)),re=0,de=0,$.mode=y;case y:for(;de<32;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}$.head&&($.head.time=re),512&$.flags&&(Be[0]=255&re,Be[1]=re>>>8&255,Be[2]=re>>>16&255,Be[3]=re>>>24&255,$.check=n($.check,Be,4,0)),re=0,de=0,$.mode=z;case z:for(;de<16;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}$.head&&($.head.xflags=255&re,$.head.os=re>>8),512&$.flags&&(Be[0]=255&re,Be[1]=re>>>8&255,$.check=n($.check,Be,2,0)),re=0,de=0,$.mode=B;case B:if(1024&$.flags){for(;de<16;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}$.length=re,$.head&&($.head.extra_len=re),512&$.flags&&(Be[0]=255&re,Be[1]=re>>>8&255,$.check=n($.check,Be,2,0)),re=0,de=0}else $.head&&($.head.extra=null);$.mode=S;case S:if(1024&$.flags&&((ce=$.length)>se&&(ce=se),ce&&($.head&&(ye=$.head.extra_len-$.length,$.head.extra||($.head.extra=new Array($.head.extra_len)),t.arraySet($.head.extra,ee,te,ce,ye)),512&$.flags&&($.check=n($.check,ee,ce,te)),se-=ce,te+=ce,$.length-=ce),$.length))break e;$.length=0,$.mode=C;case C:if(2048&$.flags){if(0===se)break e;ce=0;do{ye=ee[te+ce++],$.head&&ye&&$.length<65536&&($.head.name+=String.fromCharCode(ye))}while(ye&&ce<se);if(512&$.flags&&($.check=n($.check,ee,ce,te)),se-=ce,te+=ce,ye)break e}else $.head&&($.head.name=null);$.length=0,$.mode=I;case I:if(4096&$.flags){if(0===se)break e;ce=0;do{ye=ee[te+ce++],$.head&&ye&&$.length<65536&&($.head.comment+=String.fromCharCode(ye))}while(ye&&ce<se);if(512&$.flags&&($.check=n($.check,ee,ce,te)),se-=ce,te+=ce,ye)break e}else $.head&&($.head.comment=null);$.mode=R;case R:if(512&$.flags){for(;de<16;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(re!==(65535&$.check)){e.msg="header crc mismatch",$.mode=X;break}re=0,de=0}$.head&&($.head.hcrc=$.flags>>9&1,$.head.done=!0),e.adler=$.check=0,$.mode=D;break;case j:for(;de<32;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}e.adler=$.check=ie(re),re=0,de=0,$.mode=A;case A:if(0===$.havedict)return e.next_out=ne,e.avail_out=oe,e.next_in=te,e.avail_in=se,$.hold=re,$.bits=de,m;e.adler=$.check=1,$.mode=D;case D:if(a===c||a===h)break e;case E:if($.last){re>>>=7&de,de-=7&de,$.mode=U;break}for(;de<3;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}switch($.last=1&re,de-=1,3&(re>>>=1)){case 0:$.mode=G;break;case 1:if(ke($),$.mode=J,a===h){re>>>=2,de-=2;break e}break;case 2:$.mode=N;break;case 3:e.msg="invalid block type",$.mode=X}re>>>=2,de-=2;break;case G:for(re>>>=7&de,de-=7&de;de<32;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if((65535&re)!=(re>>>16^65535)){e.msg="invalid stored block lengths",$.mode=X;break}if($.length=65535&re,re=0,de=0,$.mode=H,a===h)break e;case H:$.mode=K;case K:if(ce=$.length){if(ce>se&&(ce=se),ce>oe&&(ce=oe),0===ce)break e;t.arraySet(ae,ee,te,ce,ne),se-=ce,te+=ce,oe-=ce,ne+=ce,$.length-=ce;break}$.mode=D;break;case N:for(;de<14;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if($.nlen=257+(31&re),re>>>=5,de-=5,$.ndist=1+(31&re),re>>>=5,de-=5,$.ncode=4+(15&re),re>>>=4,de-=4,$.nlen>286||$.ndist>30){e.msg="too many length or distance symbols",$.mode=X;break}$.have=0,$.mode=q;case q:for(;$.have<$.ncode;){for(;de<3;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}$.lens[Ie[$.have++]]=7&re,re>>>=3,de-=3}for(;$.have<19;)$.lens[Ie[$.have++]]=0;if($.lencode=$.lendyn,$.lenbits=7,Se={bits:$.lenbits},ze=o(r,$.lens,0,19,$.lencode,0,$.work,Se),$.lenbits=Se.bits,ze){e.msg="invalid code lengths set",$.mode=X;break}$.have=0,$.mode=F;case F:for(;$.have<$.nlen+$.ndist;){for(;ge=(we=$.lencode[re&(1<<$.lenbits)-1])>>>16&255,ve=65535&we,!((ue=we>>>24)<=de);){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(ve<16)re>>>=ue,de-=ue,$.lens[$.have++]=ve;else{if(16===ve){for(Ce=ue+2;de<Ce;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(re>>>=ue,de-=ue,0===$.have){e.msg="invalid bit length repeat",$.mode=X;break}ye=$.lens[$.have-1],ce=3+(3&re),re>>>=2,de-=2}else if(17===ve){for(Ce=ue+3;de<Ce;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}de-=ue,ye=0,ce=3+(7&(re>>>=ue)),re>>>=3,de-=3}else{for(Ce=ue+7;de<Ce;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}de-=ue,ye=0,ce=11+(127&(re>>>=ue)),re>>>=7,de-=7}if($.have+ce>$.nlen+$.ndist){e.msg="invalid bit length repeat",$.mode=X;break}for(;ce--;)$.lens[$.have++]=ye}}if($.mode===X)break;if(0===$.lens[256]){e.msg="invalid code -- missing end-of-block",$.mode=X;break}if($.lenbits=9,Se={bits:$.lenbits},ze=o(d,$.lens,0,$.nlen,$.lencode,0,$.work,Se),$.lenbits=Se.bits,ze){e.msg="invalid literal/lengths set",$.mode=X;break}if($.distbits=6,$.distcode=$.distdyn,Se={bits:$.distbits},ze=o(l,$.lens,$.nlen,$.ndist,$.distcode,0,$.work,Se),$.distbits=Se.bits,ze){e.msg="invalid distances set",$.mode=X;break}if($.mode=J,a===h)break e;case J:$.mode=L;case L:if(se>=6&&oe>=258){e.next_out=ne,e.avail_out=oe,e.next_in=te,e.avail_in=se,$.hold=re,$.bits=de,s(e,fe),ne=e.next_out,ae=e.output,oe=e.avail_out,te=e.next_in,ee=e.input,se=e.avail_in,re=$.hold,de=$.bits,$.mode===D&&($.back=-1);break}for($.back=0;ge=(we=$.lencode[re&(1<<$.lenbits)-1])>>>16&255,ve=65535&we,!((ue=we>>>24)<=de);){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(ge&&0==(240&ge)){for(xe=ue,_e=ge,pe=ve;ge=(we=$.lencode[pe+((re&(1<<xe+_e)-1)>>xe)])>>>16&255,ve=65535&we,!(xe+(ue=we>>>24)<=de);){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}re>>>=xe,de-=xe,$.back+=xe}if(re>>>=ue,de-=ue,$.back+=ue,$.length=ve,0===ge){$.mode=T;break}if(32&ge){$.back=-1,$.mode=D;break}if(64&ge){e.msg="invalid literal/length code",$.mode=X;break}$.extra=15&ge,$.mode=M;case M:if($.extra){for(Ce=$.extra;de<Ce;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}$.length+=re&(1<<$.extra)-1,re>>>=$.extra,de-=$.extra,$.back+=$.extra}$.was=$.length,$.mode=O;case O:for(;ge=(we=$.distcode[re&(1<<$.distbits)-1])>>>16&255,ve=65535&we,!((ue=we>>>24)<=de);){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(0==(240&ge)){for(xe=ue,_e=ge,pe=ve;ge=(we=$.distcode[pe+((re&(1<<xe+_e)-1)>>xe)])>>>16&255,ve=65535&we,!(xe+(ue=we>>>24)<=de);){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}re>>>=xe,de-=xe,$.back+=xe}if(re>>>=ue,de-=ue,$.back+=ue,64&ge){e.msg="invalid distance code",$.mode=X;break}$.offset=ve,$.extra=15&ge,$.mode=P;case P:if($.extra){for(Ce=$.extra;de<Ce;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}$.offset+=re&(1<<$.extra)-1,re>>>=$.extra,de-=$.extra,$.back+=$.extra}if($.offset>$.dmax){e.msg="invalid distance too far back",$.mode=X;break}$.mode=Q;case Q:if(0===oe)break e;if(ce=fe-oe,$.offset>ce){if((ce=$.offset-ce)>$.whave&&$.sane){e.msg="invalid distance too far back",$.mode=X;break}ce>$.wnext?(ce-=$.wnext,he=$.wsize-ce):he=$.wnext-ce,ce>$.length&&(ce=$.length),me=$.window}else me=ae,he=ne-$.offset,ce=$.length;ce>oe&&(ce=oe),oe-=ce,$.length-=ce;do{ae[ne++]=me[he++]}while(--ce);0===$.length&&($.mode=L);break;case T:if(0===oe)break e;ae[ne++]=$.length,oe--,$.mode=L;break;case U:if($.wrap){for(;de<32;){if(0===se)break e;se--,re|=ee[te++]<<de,de+=8}if(fe-=oe,e.total_out+=fe,$.total+=fe,fe&&(e.adler=$.check=$.flags?n($.check,ae,fe,ne-fe):i($.check,ae,fe,ne-fe)),fe=oe,($.flags?re:ie(re))!==$.check){e.msg="incorrect data check",$.mode=X;break}re=0,de=0}$.mode=V;case V:if($.wrap&&$.flags){for(;de<32;){if(0===se)break e;se--,re+=ee[te++]<<de,de+=8}if(re!==(4294967295&$.total)){e.msg="incorrect length check",$.mode=X;break}re=0,de=0}$.mode=W;case W:ze=b;break e;case X:ze=u;break e;case Y:return g;case Z:default:return w}return e.next_out=ne,e.avail_out=oe,e.next_in=te,e.avail_in=se,$.hold=re,$.bits=de,($.wsize||fe!==e.avail_out&&$.mode<X&&($.mode<U||a!==f))&&be(e,e.output,e.next_out,fe-e.avail_out)?($.mode=Y,g):(le-=e.avail_in,fe-=e.avail_out,e.total_in+=le,e.total_out+=fe,$.total+=fe,$.wrap&&fe&&(e.adler=$.check=$.flags?n($.check,ae,fe,e.next_out-fe):i($.check,ae,fe,e.next_out-fe)),e.data_type=$.bits+($.last?64:0)+($.mode===D?128:0)+($.mode===J||$.mode===H?256:0),(0===le&&0===fe||a===f)&&ze===k&&(ze=v),ze)}function we(e){if(!e||!e.state)return w;var a=e.state;return a.window&&(a.window=null),e.state=null,k}function ue(e,a){var t;return e&&e.state?0==(2&(t=e.state).wrap)?w:(t.head=a,a.done=!1,k):w}function ge(e,a){var t=a.length,n,s,o;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==A?w:n.mode===A&&(s=i(s=1,a,t,0))!==n.check?u:(o=be(e,a,t,t))?(n.mode=Y,g):(n.havedict=1,k):w}a.inflateReset=oe,a.inflateReset2=re,a.inflateResetKeep=se,a.inflateInit=le,a.inflateInit2=de,a.inflate=me,a.inflateEnd=we,a.inflateGetHeader=ue,a.inflateSetDictionary=ge,a.inflateInfo="pako inflate (from Nodeca project)"}

