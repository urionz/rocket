function module(e,t,n){let s,a,c,l,o,r;n.link("meteor/meteor",{Meteor(e){s=e}},0),n.link("meteor/templating",{Template(e){a=e}},1),n.link("toastr",{default(e){c=e}},2),n.link("../../ui-utils",{modal(e){l=e}},3),n.link("../../utils",{t(e){o=e}},4),n.link("../../models",{WebdavAccounts(e){r=e}},5),a.selectWebdavAccount.helpers({webdavAccounts:()=>r.find().fetch(),usernamePlusServer:e=>e.name||"".concat(e.username,"@").concat(e.server_url.replace(/^https?\:\/\//i,""))}),a.selectWebdavAccount.events({"click .webdav-account"(){l.close();const e=this._id,{url:t}=a.instance().data,n=a.instance().data.attachment.title,r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){const t=r.response;if(t){const a=new Uint8Array(t);s.call("uploadFileToWebdav",e,a,n,(e,t)=>e?c.error(o(e.error)):t.success?c.success(o("File_uploaded")):c.error(o(t.message)))}},r.send(null)}})}

