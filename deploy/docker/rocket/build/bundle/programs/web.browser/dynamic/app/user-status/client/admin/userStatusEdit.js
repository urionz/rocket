function module(t,e,s){let a,u,r,i,n,l,c;s.link("toastr",{default(t){a=t}},0),s.link("underscore.string",{default(t){u=t}},1),s.link("meteor/meteor",{Meteor(t){r=t}},2),s.link("meteor/templating",{Template(t){i=t}},3),s.link("meteor/rocketchat:tap-i18n",{TAPi18n(t){n=t}},4),s.link("../../../utils",{t(t){l=t},handleError(t){c=t}},5),i.userStatusEdit.helpers({userStatus:()=>i.instance().userStatus,options(){const t=this.userStatus?this.userStatus.statusType:"";return[{value:"online",name:l("Online"),selected:"online"===t?"selected":""},{value:"away",name:l("Away"),selected:"away"===t?"selected":""},{value:"busy",name:l("Busy"),selected:"busy"===t?"selected":""},{value:"offline",name:l("Invisible"),selected:"offline"===t?"selected":""}]}}),i.userStatusEdit.events({"click .cancel"(t,e){t.stopPropagation(),t.preventDefault(),e.cancel(e.find("form"))},"submit form"(t,e){t.stopPropagation(),t.preventDefault(),e.save(t.currentTarget)}}),i.userStatusEdit.onCreated((function(){null!=this.data?this.userStatus=this.data.userStatus:this.userStatus=void 0,this.tabBar=i.currentData().tabBar,this.onSuccess=i.currentData().onSuccess,this.cancel=(t,e)=>{t.reset(),this.tabBar.close(),this.userStatus&&this.data.back(e)},this.getUserStatusData=()=>{const t={};return null!=this.userStatus&&(t._id=this.userStatus._id,t.previousName=this.userStatus.name),t.name=u.trim(this.$("#name").val()),t.statusType=u.trim(this.$("#statusType").val()),t},this.validate=()=>{const t=this.getUserStatusData(),e=[];t.name||e.push("Name");for(const s of e)a.error(n.__("error-the-field-is-required",{field:n.__(s)}));return 0===e.length},this.save=t=>{if(this.validate()){const e=this.getUserStatusData();r.call("insertOrUpdateUserStatus",e,(s,u)=>{u&&(e._id?a.success(l("Custom_User_Status_Updated_Successfully")):a.success(l("Custom_User_Status_Added_Successfully")),this.onSuccess(),this.cancel(t,e.name)),s&&c(s)})}}}))}

