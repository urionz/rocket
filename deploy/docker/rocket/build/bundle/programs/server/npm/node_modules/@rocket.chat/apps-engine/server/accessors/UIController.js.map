{"version":3,"sources":["src/server/accessors/UIController.ts"],"names":[],"mappings":";;AAEA,kDAA8D;AAC9D,8GAAyH;AAKzH;IAEI,YACqB,KAAa,EAC9B,OAAmB;QADF,UAAK,GAAL,KAAK,CAAQ;QAG9B,IAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC,sBAAsB,EAAE,CAAC;IAChE,CAAC;IAEM,aAAa,CAAC,IAA0B,EAAE,OAA+B,EAAE,IAAW;QACzF,MAAM,kBAAkB,qBACjB,OAAO,IACV,IAAI,EAAE,4BAAoB,CAAC,UAAU,EACrC,KAAK,EAAE,IAAI,CAAC,KAAK,GACpB,CAAC;QAEF,OAAO,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,IAAI,EAAE,yDAAsB,CAAC,IAAI,EAAE,kBAAkB,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACnH,CAAC;IAEM,eAAe,CAAC,IAA0B,EAAE,OAA+B,EAAE,IAAW;QAC3F,MAAM,kBAAkB,qBACjB,OAAO,IACV,IAAI,EAAE,4BAAoB,CAAC,YAAY,EACvC,KAAK,EAAE,IAAI,CAAC,KAAK,GACpB,CAAC;QAEF,OAAO,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,IAAI,EAAE,yDAAsB,CAAC,IAAI,EAAE,kBAAkB,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACnH,CAAC;IAEM,YAAY,CAAC,gBAA6C,EAAE,OAA+B,EAAE,IAAW;QAC3G,MAAM,kBAAkB,qBACjB,OAAO,IACV,IAAI,EAAE,4BAAoB,CAAC,MAAM,EACjC,KAAK,EAAE,IAAI,CAAC,KAAK,GACpB,CAAC;QAEF,OAAO,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,IAAI,EAAE,yDAAsB,CAAC,gBAAgB,EAAE,kBAAkB,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAC/H,CAAC;CACJ;AAtCD,oCAsCC","file":"UIController.js","sourcesContent":["import { IUIController } from '../../definition/accessors';\nimport { IUIKitErrorInteractionParam, IUIKitInteractionParam } from '../../definition/accessors/IUIController';\nimport { UIKitInteractionType } from '../../definition/uikit';\nimport { formatErrorInteraction, formatModalInteraction } from '../../definition/uikit/UIKitInteractionPayloadFormatter';\nimport { IUIKitModalViewParam } from '../../definition/uikit/UIKitInteractionResponder';\nimport { IUser } from '../../definition/users';\nimport { AppBridges, IUiInteractionBridge } from '../bridges';\n\nexport class UIController implements IUIController {\n    private readonly uiInteractionBridge: IUiInteractionBridge;\n    constructor(\n        private readonly appId: string,\n        bridges: AppBridges,\n    ) {\n        this.uiInteractionBridge = bridges.getUiInteractionBridge();\n    }\n\n    public openModalView(view: IUIKitModalViewParam, context: IUIKitInteractionParam, user: IUser) {\n        const interactionContext = {\n            ...context,\n            type: UIKitInteractionType.MODAL_OPEN,\n            appId: this.appId,\n        };\n\n        return this.uiInteractionBridge.notifyUser(user, formatModalInteraction(view, interactionContext), this.appId);\n    }\n\n    public updateModalView(view: IUIKitModalViewParam, context: IUIKitInteractionParam, user: IUser) {\n        const interactionContext = {\n            ...context,\n            type: UIKitInteractionType.MODAL_UPDATE,\n            appId: this.appId,\n        };\n\n        return this.uiInteractionBridge.notifyUser(user, formatModalInteraction(view, interactionContext), this.appId);\n    }\n\n    public setViewError(errorInteraction: IUIKitErrorInteractionParam, context: IUIKitInteractionParam, user: IUser) {\n        const interactionContext = {\n            ...context,\n            type: UIKitInteractionType.ERRORS,\n            appId: this.appId,\n        };\n\n        return this.uiInteractionBridge.notifyUser(user, formatErrorInteraction(errorInteraction, interactionContext), this.appId);\n    }\n}\n"]}