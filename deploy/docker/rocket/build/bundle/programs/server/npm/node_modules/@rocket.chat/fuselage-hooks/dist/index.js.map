{"version":3,"file":"index.js","sources":["../src/helpers.js","../src/useClassName.js","../src/useDebouncedCallback.js","../src/useDebouncedUpdates.js","../src/useExclusiveBooleanProps.js","../src/useMediaQuery.js","../src/useMergedRefs.js","../src/useToggle.js","../src/useUniqueId.js"],"sourcesContent":["// @flow\n\nexport const fromCamelToKebabCase = (camelCaseString: string) =>\n  camelCaseString.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g, '$1-$2').toLowerCase();\n\nexport const debounce = (fn: (...Array<any>) => any, delay: number) => {\n  let timer;\n  let callback;\n\n  function f(...args: Array<any>) {\n    const context = this;\n    clearTimeout(timer);\n    callback = () => fn.apply(context, args);\n    timer = setTimeout(callback, delay);\n    return context;\n  }\n\n  f.flush = () => {\n    clearTimeout(timer);\n    callback();\n  };\n\n  f.cancel = () => clearTimeout(timer);\n\n  return f;\n};\n","// @flow\n\nimport { useMemo } from 'react';\n\nimport { fromCamelToKebabCase } from './helpers';\n\n/**\n * Hook to generate a BEM-compatible `className` value for a component.\n *\n * @param componentClassName - the style class which identifies the component\n * @param modifiers - the modifiers applied to the style class\n * @param classNames - the additional style classes appended to the `className`\n * @return a BEM-compatible `className` in the format\n *  `(<block>|<block>__<element>) [...(<block>--<modifier>|<block>__<element>--<modifier>)] [...classNames]`\n */\nexport const useClassName = (\n  componentClassName : string,\n  modifiers: Object = {},\n  ...classNames: Array<string>\n): string =>\n  useMemo(\n    () => [\n      componentClassName,\n      ...Object.entries(modifiers)\n        .filter(([, value]) => !!value)\n        .map(([key, value]) => (typeof value === 'boolean'\n          ? `${ componentClassName }--${ fromCamelToKebabCase(key) }`\n          : `${ componentClassName }--${ fromCamelToKebabCase(key) }-${ fromCamelToKebabCase(String(value)) }`)),\n      ...classNames,\n    ].filter(Boolean).join(' '),\n    [\n      componentClassName,\n      Object.entries(modifiers).reduce((deps, [name, value]) => [...deps, name, value], []),\n      JSON.stringify(classNames),\n    ],\n  );\n","// @flow\n\nimport { useMemo } from 'react';\n\nimport { debounce } from './helpers';\n\n/**\n * Hook to memoize a debounced version of a callback.\n *\n * @param callback the callback to debounce\n * @param delay the number of milliseconds to delay\n * @param deps the hook dependencies\n * @return a memoized and debounced callback\n */\nexport const useDebouncedCallback = (\n  callback: (...Array<any>) => any,\n  delay: number,\n  deps?: Array<any>,\n): ((...Array<any>) => any) =>\n  useMemo(() => debounce(callback, delay), Array.isArray(deps) ? [delay, ...deps] : undefined);\n","// @flow\n\nimport { useReducer, useState } from 'react';\n\nimport { useDebouncedCallback } from './useDebouncedCallback';\n\n/**\n * Hook to debounce the state updater function returned by hooks like `useState()` and `useReducer()`.\n *\n * @param pair - the state and updater pair which will be debounced\n * @param pair.0 - the state value\n * @param pair.1 - the state updater function\n * @param delay - the number of milliseconds to delay the updater\n * @return a state value and debounced updater pair\n */\nexport const useDebouncedUpdates = (\n  [value, update]: [any, () => any],\n  delay: number,\n) => [value, useDebouncedCallback(update, delay, [])];\n\n/**\n * Hook to create a reduced state with a debounced `dispatch()` function.\n *\n * @param reducer - the reducer function\n * @param initializerArg - the initial state value or the argument passed to the initial state generator function\n * @param initializer - the initial state generator function\n * @param delay - the number of milliseconds to delay the updater\n * @return a state and debounced `dispatch()` function\n */\nexport const useDebouncedReducer = (\n  reducer: (any, any) => any,\n  initializerArg: any,\n  initializer: (any) => any,\n  delay: number,\n) =>\n  useDebouncedUpdates(useReducer(reducer, initializerArg, initializer), delay);\n\n/**\n * Hook to create a state with a debounced setter function.\n *\n * @param initialValue - the initial state value or the initial state generator function\n * @param delay - the number of milliseconds to delay the updater\n * @return a state and debounced setter function\n */\nexport const useDebouncedState = (\n  initialValue: any | () => any,\n  delay: number,\n) => useDebouncedUpdates(useState(initialValue), delay);\n","// @flow\n\nimport invariant from 'invariant';\n\n/**\n * Hook for asserting mutually exclusive boolean props. Useful for components that use boolean props\n * to choose styling variants.\n *\n * @param props - the mutually exclusive boolean props\n * @throws if two or more booleans props are set as true\n */\nexport const useExclusiveBooleanProps = (props: Object) =>\n  invariant(\n    Object.values(props).filter(Boolean).length <= 1,\n    `Only one property of [${ Object.keys(props).join(', ') }] should be true`,\n  );\n","// @flow\n\nimport { useLayoutEffect, useState } from 'react';\n\n/**\n * Hook to listen to a media query.\n *\n * @param [query] - the CSS3 media query expression\n * @return `true` if the media query matches; `false` is it does not match or the query is not defined\n */\nexport const useMediaQuery = (query: string): bool => {\n  const [matches, setMatches] = useState(() => {\n    if (!query) {\n      return false;\n    }\n\n    const { matches } = window.matchMedia(query);\n    return !!matches;\n  });\n\n  useLayoutEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    let mounted = true;\n    const mql = window.matchMedia(query);\n\n    const handleChange = () => {\n      if (!mounted) {\n        return;\n      }\n\n      setMatches(!!mql.matches);\n    };\n\n    mql.addListener(handleChange);\n    setMatches(mql.matches);\n\n    return () => {\n      mounted = false;\n      mql.removeListener(handleChange);\n    };\n  }, [query]);\n\n  return matches;\n};\n","// @flow\n\nimport { useCallback } from 'react';\nimport type { Ref } from 'react';\n\n/**\n * Hook to merge refs and callbacks refs into a single callback ref. Useful when your component need a internal ref\n * while receiving a forwared ref.\n *\n * @param refs - the refs and callback refs that should be merged\n * @return a merged callback ref\n */\nexport const useMergedRefs = (...refs: Array<Ref<any>>) => useCallback((refValue: any) => {\n  refs.filter(Boolean).forEach((ref) => {\n    if (typeof ref === 'function') {\n      ref(refValue);\n      return;\n    }\n\n    if (typeof ref === 'object') {\n      ref.current = refValue;\n    }\n  });\n}, refs);\n","// @flow\n\nimport { useState } from 'react';\n\n/**\n * Hook to create a toggleable boolean state.\n *\n * @param initialValue - the initial value or the initial state generator function\n * @return a state boolean value and a state toggler function\n */\nexport const useToggle = (initialValue: any | () => any) => {\n  const [value, setValue] = useState(() => (typeof initialValue === 'function' ? !!initialValue() : !!initialValue));\n  return [value, (forcedValue: any | () => any) => setValue(typeof forcedValue !== 'undefined' ? forcedValue : !value)];\n};\n","// @flow\n\nimport { useMemo } from 'react';\n\nexport const useUniqueId = (): string =>\n  useMemo(() => Math.random().toString(36).slice(2), []);\n"],"names":["fromCamelToKebabCase","camelCaseString","replace","toLowerCase","debounce","fn","delay","timer","callback","f","args","context","clearTimeout","apply","setTimeout","flush","cancel","useClassName","componentClassName","modifiers","classNames","useMemo","Object","entries","filter","value","map","key","String","Boolean","join","reduce","deps","name","JSON","stringify","useDebouncedCallback","Array","isArray","undefined","useDebouncedUpdates","update","useDebouncedReducer","reducer","initializerArg","initializer","useReducer","useDebouncedState","initialValue","useState","useExclusiveBooleanProps","props","invariant","values","length","keys","useMediaQuery","query","window","matchMedia","matches","setMatches","useLayoutEffect","mounted","mql","handleChange","addListener","removeListener","useMergedRefs","refs","useCallback","refValue","forEach","ref","current","useToggle","setValue","forcedValue","useUniqueId","Math","random","toString","slice"],"mappings":"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"}