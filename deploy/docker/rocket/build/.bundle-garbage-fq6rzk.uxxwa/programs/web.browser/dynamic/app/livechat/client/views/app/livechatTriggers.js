function module(e,t,i){let r,n,o,l,a,g,s,c;i.link("meteor/meteor",{Meteor(e){r=e}},0),i.link("meteor/reactive-var",{ReactiveVar(e){n=e}},1),i.link("meteor/kadira:flow-router",{FlowRouter(e){o=e}},2),i.link("meteor/templating",{Template(e){l=e}},3),i.link("../../../../ui-utils",{modal(e){a=e}},4),i.link("../../../../utils",{t(e){g=e},handleError(e){s=e}},5),i.link("./livechatTriggers.html"),i.link("../../../../utils/client",{APIClient(e){c=e}},6);const u=async e=>{const{triggers:t}=await c.v1.get("livechat/triggers");e.triggers.set(t)};l.livechatTriggers.helpers({triggers:()=>l.instance().triggers.get()}),l.livechatTriggers.events({"click .remove-trigger"(e,t){e.preventDefault(),e.stopPropagation(),a.open({title:g("Are_you_sure"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:g("Yes"),cancelButtonText:g("Cancel"),closeOnConfirm:!1,html:!1},()=>{r.call("livechat:removeTrigger",this._id,(async function(e){if(e)return s(e);await u(t),a.open({title:g("Removed"),text:g("Trigger_removed"),type:"success",timer:1e3,showConfirmButton:!1})}))})},"click .trigger-info"(e){e.preventDefault(),o.go("livechat-trigger-edit",{_id:this._id})}}),l.livechatTriggers.onCreated((async function(){this.triggers=new n([]),await u(this)}))}

