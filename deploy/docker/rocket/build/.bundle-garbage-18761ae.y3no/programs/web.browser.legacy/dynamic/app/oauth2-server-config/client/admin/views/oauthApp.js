function module(t,e,n){var i,r,a,o,u,c,l,s,p,d,f,m,h,_;n.link("@babel/runtime/regenerator",{default:function(t){i=t}},0),n.link("meteor/meteor",{Meteor:function(t){r=t}},0),n.link("meteor/reactive-var",{ReactiveVar:function(t){a=t}},1),n.link("meteor/kadira:flow-router",{FlowRouter:function(t){o=t}},2),n.link("meteor/templating",{Template:function(t){u=t}},3),n.link("meteor/rocketchat:tap-i18n",{TAPi18n:function(t){c=t}},4),n.link("meteor/tracker",{Tracker:function(t){l=t}},5),n.link("toastr",{default:function(t){s=t}},6),n.link("../../../../authorization",{hasAllPermission:function(t){p=t}},7),n.link("../../../../ui-utils/client",{modal:function(t){d=t},SideNav:function(t){f=t}},8),n.link("../../../../utils",{t:function(t){m=t},handleError:function(t){h=t}},9),n.link("../../../../utils/client",{APIClient:function(t){_=t}},10),u.oauthApp.onCreated(function(){function t(){var t,e,n;return i.async(function(){function r(r){for(;;)switch(r.prev=r.next){case 0:if(t=this.data.params(),this.oauthApp=new a({}),this.record=new a({active:!0}),!t||!t.id){r.next=9;break}return r.next=6,i.awrap(_.v1.get("oauth-apps.get?appId="+t.id));case 6:e=r.sent,n=e.oauthApp,this.oauthApp.set(n);case 9:case"end":return r.stop()}}return r}(),null,this)}return t}()),u.oauthApp.helpers({hasPermission:function(){return p("manage-oauth-apps")},data:function(){var t=u.instance();if("function"==typeof t.data.params){var e=t.data.params();if(e&&e.id){var n=u.instance().oauthApp.get();if(n)return n.authorization_url=r.absoluteUrl("oauth/authorize"),n.access_token_url=r.absoluteUrl("oauth/token"),Array.isArray(n.redirectUri)&&(n.redirectUri=n.redirectUri.join("\n")),u.instance().record.set(n),n}}return u.instance().record.curValue}}),u.oauthApp.events({"click .submit > .delete":function(){var t=u.instance().data.params();d.open({title:m("Are_you_sure"),text:m("You_will_not_be_able_to_recover"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:m("Yes_delete_it"),cancelButtonText:m("Cancel"),closeOnConfirm:!1,html:!1},(function(){r.call("deleteOAuthApp",t.id,(function(){d.open({title:m("Deleted"),text:m("Your_entry_has_been_deleted"),type:"success",timer:1e3,showConfirmButton:!1}),o.go("admin-oauth-apps")}))}))},"click .submit > .save":function(){var t=u.instance(),e=$("[name=name]").val().trim(),n="1"===$("[name=active]:checked").val().trim(),i=$("[name=redirectUri]").val().trim();if(""===e)return s.error(c.__("The_application_name_is_required"));if(""===i)return s.error(c.__("The_redirectUri_is_required"));var a={name:e,active:n,redirectUri:i};if("function"==typeof t.data.params){var l=t.data.params();if(l&&l.id)return r.call("updateOAuthApp",l.id,a,(function(t){if(null!=t)return h(t);s.success(c.__("Application_updated"))}))}r.call("addOAuthApp",a,(function(t,e){if(null!=t)return h(t);s.success(c.__("Application_added")),o.go("admin-oauth-app",{id:e._id})}))}}),u.oauthApp.onRendered((function(){l.afterFlush((function(){f.setFlex("adminFlex"),f.openFlex()}))}))}

