function module(t,e,o){let i,s,l,n,c,r,u,a;o.link("meteor/meteor",{Meteor(t){i=t}},0),o.link("meteor/kadira:flow-router",{FlowRouter(t){s=t}},1),o.link("meteor/templating",{Template(t){l=t}},2),o.link("meteor/reactive-var",{ReactiveVar(t){n=t}},3),o.link("../../../../ui-utils",{modal(t){c=t}},4),o.link("../../../../utils/client",{t(t){r=t},handleError(t){u=t},APIClient(t){a=t}},5),o.link("./livechatCustomFields.html");const m=50;l.livechatCustomFields.helpers({customFields:()=>l.instance().customFields.get(),onTableScroll(){const t=l.instance();return function(e){if(e.offsetHeight+e.scrollTop<e.scrollHeight-100)return;const o=t.customFields.get();return t.total.get()<=o.length?void 0:t.offset.set(t.offset.get()+50)}}}),l.livechatCustomFields.events({"click .remove-custom-field"(t,e){t.preventDefault(),t.stopPropagation(),c.open({title:r("Are_you_sure"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:r("Yes"),cancelButtonText:r("Cancel"),closeOnConfirm:!1,html:!1},()=>{i.call("livechat:removeCustomField",this._id,(function(t){if(t)return u(t);e.offset.set(0),c.open({title:r("Removed"),text:r("Field_removed"),type:"success",timer:1e3,showConfirmButton:!1})}))})},"click .custom-field-info"(t){t.preventDefault(),s.go("livechat-customfield-edit",{_id:this._id})}}),l.livechatCustomFields.onCreated((function(){this.customFields=new n([]),this.offset=new n(0),this.total=new n(0),this.autorun(async()=>{const t=this.offset.get(),{customFields:e,total:o}=await a.v1.get("livechat/custom-fields?count=".concat(50,"&offset=").concat(t));0===t?this.customFields.set(e):this.customFields.set(this.customFields.get().concat(e)),this.total.set(o)})}))}

