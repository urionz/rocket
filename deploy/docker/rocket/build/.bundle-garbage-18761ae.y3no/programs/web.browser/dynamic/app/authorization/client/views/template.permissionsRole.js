function module(){Template.__checkName("permissionsRole"),Template.permissionsRole=new Template("Template.permissionsRole",(function(){var t=this;return HTML.DIV({class:"permissions-manager"},"\n\t\t",Blaze.If((function(){return Spacebars.call(t.lookup("hasPermission"))}),(function(){return["\n\t\t\t",Spacebars.With((function(){return Spacebars.call(t.lookup("role"))}),(function(){return["\n\t\t\t\t",HTML.FORM({id:"form-role",class:"inline form-role form-inline"},"\n\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\n\t\t\t\t\t\t",HTML.DIV({class:"rc-input"},"\n\t\t\t\t\t\t\t",HTML.DIV({class:"rc-input__title"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Role")}))),"\n\t\t\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(t.lookup("editing"))}),(function(){return["\n\t\t\t\t\t\t\t\t",HTML.INPUT({type:"text",class:"rc-input__element",name:"name",autocomplete:"off",value:function(){return Spacebars.mustache(t.lookup("_id"))},disabled:""}),"\n\t\t\t\t\t\t\t"]}),(function(){return["\n\t\t\t\t\t\t\t\t",HTML.INPUT({type:"text",class:"rc-input__element",name:"name",autocomplete:"off"}),"\n\t\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t\t\t\t\t\t",HTML.DIV({class:"rc-input"},"\n\t\t\t\t\t\t\t",HTML.DIV({class:"rc-input__title"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Description")}))),"\n\t\t\t\t\t\t\t",HTML.INPUT({type:"text",class:"rc-input__element",name:"description",autocomplete:"off",value:function(){return Spacebars.mustache(t.lookup("description"))}}),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t\t",HTML.DIV({class:"form-group"},"\n\t\t\t\t\t\t",HTML.DIV({class:"rc-input__title"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Scope")}))),"\n\t\t\t\t\t\t",HTML.DIV({class:"rc-select"},"\n\t\t\t\t\t\t\t",HTML.SELECT({name:"scope",class:"required rc-select__element",disabled:function(){return Spacebars.mustache(t.lookup("protected"))}},"\n\t\t\t\t\t\t\t\t",HTML.OPTION({value:"Users",selected:function(){return Spacebars.mustache(t.lookup("$eq"),t.lookup("scope"),"Users")}},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Global")}))),"\n\t\t\t\t\t\t\t\t",HTML.OPTION({value:"Subscriptions",selected:function(){return Spacebars.mustache(t.lookup("$eq"),t.lookup("scope"),"Subscriptions")}},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Rooms")}))),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t",Blaze._TemplateWith((function(){return{block:Spacebars.call("rc-select__arrow"),icon:Spacebars.call("arrow-down")}}),(function(){return Spacebars.include(t.lookupTemplate("icon"))})),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t\t",HTML.DIV("\n\t\t\t\t\t\t",HTML.LABEL({for:"mandatory2fa"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Users must use Two Factor Authentication")}))," :"),"\n\t\t\t\t\t\t",HTML.INPUT({id:"mandatory2fa",type:"checkbox",name:"mandatory2fa",checked:function(){return Spacebars.mustache(t.lookup("mandatory2fa"))}}),"\n\t\t\t\t\t"),"\n\t\t\t\t\t",HTML.DIV({class:"alert alert-warning"},"\n\t\t\t\t\t\t",HTML.P({for:"mandatory2fa"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Leave the description field blank if you dont want to show the role")})),"."),"\n\t\t\t\t\t"),"\n\t\t\t\t\t",HTML.DIV({class:"rc-button__group"},"\n\t\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(t.lookup("editable"))}),(function(){return["\n\t\t\t\t\t\t\t",HTML.BUTTON({name:"delete",class:"rc-button rc-button--danger delete-role"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Delete")}))),"\n\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t",HTML.BUTTON({name:"save",class:"rc-button rc-button--primary save"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Save")}))),"\n\t\t\t\t\t\t",HTML.A({class:"rc-button",href:function(){return Spacebars.mustache(t.lookup("pathFor"),"admin-permissions")}},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Back_to_permissions")}))),"\n\t\t\t\t\t"),"\n\t\t\t\t"),"\n\t\t\t"]})),"\n\t\t\t",Blaze.If((function(){return Spacebars.call(t.lookup("editing"))}),(function(){return["\n\t\t\t\t",HTML.H2({class:"border-tertiary-background-color"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Users_in_role")}))),"\n\t\t\t\t",Blaze.If((function(){return Spacebars.dataMustache(t.lookup("$eq"),Spacebars.dot(t.lookup("role"),"scope"),"Subscriptions")}),(function(){return["\n\t\t\t\t\t",HTML.FORM({id:"form-search-room",class:"inline"},"\n\t\t\t\t\t\t",HTML.LABEL({class:"rc-input"},"\n\t\t\t\t\t\t\t",HTML.DIV({class:"rc-input__title"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Choose_a_room")}))),"\n\t\t\t\t\t\t\t",Blaze._TemplateWith((function(){return{settings:Spacebars.call(t.lookup("autocompleteChannelSettings")),name:Spacebars.call("room"),class:Spacebars.call("search autocomplete rc-input__element"),placeholder:Spacebars.call(Spacebars.dataMustache(t.lookup("_"),"Enter_a_room_name")),autocomplete:Spacebars.call("off")}}),(function(){return Spacebars.include(t.lookupTemplate("inputAutocomplete"))})),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t"),"\n\t\t\t\t"]})),"\n\t\t\t\t",Blaze.If((function(){return Spacebars.dataMustache(t.lookup("$or"),Spacebars.dataMustache(t.lookup("$eq"),Spacebars.dot(t.lookup("role"),"scope"),"Users"),t.lookup("searchRoom"))}),(function(){return["\n\t\t\t\t\t",HTML.FORM({id:"form-users",class:"inline"},"\n\t\t\t\t\t\t",HTML.LABEL({class:"rc-input"},"\n\t\t\t\t\t\t\t",HTML.DIV({class:"rc-input__title"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Add_user")}))),"\n\t\t\t\t\t\t\t",Blaze._TemplateWith((function(){return{settings:Spacebars.call(t.lookup("autocompleteUsernameSettings")),name:Spacebars.call("username"),class:Spacebars.call("search autocomplete rc-input__element"),placeholder:Spacebars.call(Spacebars.dataMustache(t.lookup("_"),"Enter_a_username")),autocomplete:Spacebars.call("off")}}),(function(){return Spacebars.include(t.lookupTemplate("inputAutocomplete"))})),"\n\t\t\t\t\t\t"),"\n\t\t\t\t\t\t",HTML.BUTTON({name:"add",class:"rc-button rc-button--primary add"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Add")}))),"\n\t\t\t\t\t"),"\n\t\t\t\t\t",HTML.DIV({class:"rc-table-content"},"\n\t\t\t\t\t\t",Blaze._TemplateWith((function(){return{fixed:Spacebars.call("true"),onItemClick:Spacebars.call(t.lookup("onTableItemClick")),onScroll:Spacebars.call(t.lookup("onTableScroll")),onResize:Spacebars.call(t.lookup("onTableResize"))}}),(function(){return Spacebars.include(t.lookupTemplate("table"),(function(){return["\n\t\t\t\t\t\t\t",HTML.THEAD("\n\t\t\t\t\t\t\t\t",HTML.TR("\n\t\t\t\t\t\t\t\t\t",HTML.TH({width:"30%"},HTML.DIV({class:"table-fake-th"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Name")})))),"\n\t\t\t\t\t\t\t\t\t",HTML.TH({width:"25%"},HTML.DIV({class:"table-fake-th"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Username")})))),"\n\t\t\t\t\t\t\t\t\t",HTML.TH({width:"25%"},HTML.DIV({class:"table-fake-th"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Email")})))),"\n\t\t\t\t\t\t\t\t\t",HTML.TH({width:"5%"},HTML.CharRef({html:"&nbsp;",str:"Â "})),"\n\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t",HTML.TBODY("\n\t\t\t\t\t\t\t\t",Blaze.Unless((function(){return Spacebars.call(t.lookup("hasUsers"))}),(function(){return["\n\t\t\t\t\t\t\t\t\t",HTML.TR("\n\t\t\t\t\t\t\t\t\t\t",HTML.TD({colspan:"5",class:"empty-role"},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"There_are_no_users_in_this_role")}))),"\n\t\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t\t\t",Blaze.Each((function(){return Spacebars.call(t.lookup("userInRole"))}),(function(){return["\n\t\t\t\t\t\t\t\t\t",HTML.TR({class:"user-info","data-id":function(){return Spacebars.mustache(t.lookup("_id"))}},"\n\t\t\t\t\t\t\t\t\t\t",HTML.TD({width:"30%"},"\n\t\t\t\t\t\t\t\t\t\t\t",HTML.DIV({class:"rc-table-wrapper"},"\n\t\t\t\t\t\t\t\t\t\t\t\t",HTML.DIV({class:"rc-table-avatar"},Blaze._TemplateWith((function(){return{username:Spacebars.call(t.lookup("username"))}}),(function(){return Spacebars.include(t.lookupTemplate("avatar"))}))),"\n\t\t\t\t\t\t\t\t\t\t\t\t",HTML.DIV({class:"rc-table-info"},"\n\t\t\t\t\t\t\t\t\t\t\t\t\t",HTML.SPAN({class:"rc-table-title"},Blaze.View("lookup:name",(function(){return Spacebars.mustache(t.lookup("name"))}))),"\n\t\t\t\t\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t\t\t\t",HTML.TD(HTML.DIV({class:"rc-table-wrapper"},Blaze.View("lookup:username",(function(){return Spacebars.mustache(t.lookup("username"))})))),"\n\t\t\t\t\t\t\t\t\t\t",HTML.TD(HTML.DIV({class:"rc-table-wrapper"},Blaze.View("lookup:emailAddress",(function(){return Spacebars.mustache(t.lookup("emailAddress"))})))),"\n\t\t\t\t\t\t\t\t\t\t",HTML.TD(HTML.A({href:"#remove",class:"remove-user"},HTML.I({class:"icon-block"}))),"\n\t\t\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t\t\t"]})),"\n\t\t\t\t\t\t\t"),"\n\t\t\t\t\t\t"]}))})),"\n\t\t\t\t\t\t",Blaze.If((function(){return Spacebars.call(t.lookup("hasMore"))}),(function(){return["\n\t\t\t\t\t\t\t",HTML.BUTTON({class:function(){return["rc-button rc-button--secondary load-more ",Spacebars.mustache(t.lookup("isLoading"))]}},Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Load_more")}))),"\n\t\t\t\t\t\t"]})),"\n\t\t\t\t\t"),"\n\t\t\t\t"]})),"\n\t\t\t"]})),"\n\t\t"]}),(function(){return["\n\t\t\t",Blaze.View("lookup:_",(function(){return Spacebars.mustache(t.lookup("_"),"Not_authorized")})),"\n\t\t"]})),"\n\t")}))}

