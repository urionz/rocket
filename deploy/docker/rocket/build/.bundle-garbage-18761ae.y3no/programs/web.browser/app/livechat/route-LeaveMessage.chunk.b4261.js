(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{Kl3u:function(e,r,n){"use strict";(function(e){n.d(r,"b",function(){return f}),n.d(r,"a",function(){return h});var t=n("gDde"),a=n("qPgm"),o=n("vBLd"),i=n("kQFM"),l=n("VCjn"),s=n("PyG4");function u(){return(u=Object.assign||function(e){for(var r=1;arguments.length>r;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var f=function(r){var n,t;function i(){for(var n,t=arguments.length,i=new Array(t),f=0;t>f;f++)i[f]=arguments[f];return d(c(n=r.call.apply(r,[this].concat(i))||this),"handleSubmit",function(e){return new Promise(function(r,t){var i,l,u,c,d,f,h,m,p=function(e){return function(r){try{return Promise.resolve(u({loading:!1})).then(function(){try{return e&&e.call(this,r)}catch(e){return t(e)}}.bind(this),t)}catch(e){return t(e)}}.bind(this)}.bind(this);return l=(i=n.props).alerts,u=i.dispatch,c=i.successMessage,Promise.resolve(u({loading:!0})).then(function(){try{var n=function(){try{return r()}catch(e){return t(e)}},i=function(e){try{return h=e.data.message,m={id:Object(s.e)(),children:h,error:!0,timeout:0},Promise.resolve(u({alerts:(l.push(m),l)})).then(function(){try{return p(n)()}catch(e){return t(e)}},t)}catch(e){return p(t)(e)}};try{return Promise.resolve(a.a.sendOfflineMessage(e)).then(function(r){try{return d=r,f={id:Object(s.e)(),children:c||d,success:!0,timeout:5e3},Promise.resolve(u({alerts:(l.push(f),l)})).then(function(){try{return Object(o.a)("callback",["offline-form-submit",e]),p(n)()}catch(e){return i(e)}},i)}catch(e){return i(e)}},i)}catch(e){i(e)}}catch(e){return t(e)}},t)})}),d(c(n),"render",function(r){return e(l.a,u({},r,{onSubmit:n.handleSubmit}))}),n}return t=r,(n=i).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t,i}(t.Component),h=function(r){var n=r.ref,t=function(e,r){if(null==e)return{};var n,t,a={},o=Object.keys(e);for(t=0;o.length>t;t++)0>r.indexOf(n=o[t])&&(a[n]=e[n]);return a}(r,["ref"]);return e(i.a,null,function(r){var a=r.config,o=(a=void 0===a?{}:a).departments,i=void 0===o?{}:o,l=a.messages;l=void 0===l?{}:l;var s=a.theme,c=a.settings;return e(f,u({ref:n},t,{title:(s=void 0===s?{}:s).offlineTitle,theme:{color:s.offlineColor},message:l.offlineMessage,successMessage:l.offlineSuccessMessage,unavailableMessage:l.offlineUnavailableMessage,loading:r.loading,token:r.token,dispatch:r.dispatch,alerts:r.alerts,hasForm:(c=void 0===c?{}:c).displayOfflineForm,hasDepartmentField:i&&i.some(function(e){return e.showOnOfflineForm}),departments:i.filter(function(e){return e.showOnOfflineForm})}))})};r.c=h}).call(this,n("gDde").h)},VCjn:function(e,r,n){"use strict";(function(e,t){n.d(r,"a",function(){return w});var a=n("gDde"),o=n("co3k"),i=n("z4Qk"),l=n("qoM+"),s=n("jdJj"),u=n("PyG4"),c=n("8SHJ"),d=n.n(c);function f(){return(f=Object.assign||function(e){for(var r=1;arguments.length>r;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function h(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function m(e){for(var r=1;arguments.length>r;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?h(n,!0).forEach(function(r){v(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var b=e.t("Leave a message"),g=e.t("We are not online right now. Please, leave a message."),y="",O=t(s.b.Footer,null),w=function(r){var n,a;function c(n){var a;v(p(a=r.call(this,n)||this),"state",{name:{value:""},email:{value:""},department:null,message:{value:""}}),v(p(a),"validations",{name:[l.e.nonEmpty],email:[l.e.nonEmpty,l.e.email],department:[],message:[l.e.nonEmpty]}),v(p(a),"getValidableFields",function(){return Object.keys(a.validations).map(function(e){return a.state[e]?m({fieldName:e},a.state[e]):null}).filter(Boolean)}),v(p(a),"validate",function(e,r){return a.validations[e].reduce(function(e,n){return e||n(r)},void 0)}),v(p(a),"validateAll",function(){var e=a.getValidableFields(),r=Array.isArray(e),n=0;for(e=r?e:e[Symbol.iterator]();;){var t,o;if(r){if(n>=e.length)break;o=e[n++]}else{if((n=e.next()).done)break;o=n.value}var i=o.fieldName,l=o.value,s=a.validate(i,l);a.setState(((t={})[i]=m({},a.state[i],{value:l,error:s,showError:!1}),t))}}),v(p(a),"isValid",function(){return a.getValidableFields().every(function(e){return!(void 0===e?{}:e).error})}),v(p(a),"handleFieldChange",function(e){return function(r){var n,t=r.target.value,o=a.validate(e,t);a.setState(((n={})[e]=m({},a.state[e],{value:t,error:o,showError:!1}),n))}}),v(p(a),"handleNameChange",a.handleFieldChange("name")),v(p(a),"handleEmailChange",a.handleFieldChange("email")),v(p(a),"handleDepartmentChange",a.handleFieldChange("department")),v(p(a),"handleMessageChange",a.handleFieldChange("message")),v(p(a),"handleSubmit",function(e){if(e.preventDefault(),a.props.onSubmit){var r=Object.entries(a.state).filter(function(e){return null!==e[1]}).map(function(e){var r;return(r={})[e[0]]=e[1].value,r}).reduce(function(e,r){return m({},e,{},r)},{});a.props.onSubmit(r)}}),v(p(a),"renderForm",function(r,n){var s=r.loading,c=r.departments,d=r.valid,f=void 0===d?a.isValid():d,h=n.name,m=n.email,p=n.department,v=n.message;return t(l.a,{onSubmit:a.handleSubmit},h?t(l.b,{required:!0,label:e.t("Name"),error:h.showError&&h.error},t(l.d,{name:"name",value:h.value,placeholder:e.t("Insert your name here..."),disabled:s,onInput:a.handleNameChange})):null,m?t(l.b,{required:!0,label:e.t("Email"),error:m.showError&&m.error},t(l.d,{name:"email",value:m.value,placeholder:e.t("Insert your email here..."),disabled:s,onInput:a.handleEmailChange})):null,p?t(l.b,{label:e.t("I need help with..."),error:p.showError&&p.error},t(l.c,{name:"department",value:p.value,options:Object(u.l)(c,"name").map(function(e){return{value:e._id,label:e.name}}),placeholder:e.t("Choose an option..."),disabled:s,error:p.showError,onInput:a.handleDepartmentChange})):null,v?t(l.b,{required:!0,label:e.t("Message"),error:v.showError&&v.error},t(l.d,{name:"message",value:v.value,multiline:!0,rows:4,placeholder:e.t("Write your message..."),disabled:s,error:v.showError,onInput:a.handleMessageChange})):null,t(i.a,null,t(o.a,{submit:!0,loading:s,disabled:!f||s,stack:!0},e.t("Send"))))}),v(p(a),"render",function(e){var r=e.color,n=e.title,o=e.message,i=e.unavailableMessage,l=e.hasForm,c=function(e,r){if(null==e)return{};var n,t,a={},o=Object.keys(e);for(t=0;o.length>t;t++)0>r.indexOf(n=o[t])&&(a[n]=e[n]);return a}(e,["color","title","message","unavailableMessage","hasForm"]);return t(s.b,f({color:r,title:n||b,className:Object(u.d)(d.a,"leave-message")},c),t(s.b.Content,null,t("p",{className:Object(u.d)(d.a,"leave-message__main-message")},l?o||g:i||y),l&&a.renderForm(a.props,a.state)),O)});var c=n.departments;return n.hasDepartmentField&&c&&(a.state.department=c.length>0?{value:""}:null),a.validateAll(),a}return a=r,(n=c).prototype=Object.create(a.prototype),n.prototype.constructor=n,n.__proto__=a,c}(a.Component)}).call(this,n("fsQa").default,n("gDde").h)},ag5X:function(e,r,n){"use strict";n.r(r);var t=n("VCjn");n.d(r,"LeaveMessage",function(){return t.a});var a=n("Kl3u");n.d(r,"LeaveMessageContainer",function(){return a.b}),n.d(r,"LeaveMessageConnector",function(){return a.a}),n.d(r,"default",function(){return a.c})}}]);