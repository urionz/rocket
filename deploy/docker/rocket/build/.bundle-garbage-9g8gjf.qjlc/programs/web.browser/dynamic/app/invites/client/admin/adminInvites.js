function module(e,t,n){let i,s,a,r,o,l,c,m,d;n.link("@babel/runtime/helpers/objectSpread2",{default(e){i=e}},0),n.link("meteor/templating",{Template(e){s=e}},0),n.link("meteor/reactive-var",{ReactiveVar(e){a=e}},1),n.link("moment",{default(e){r=e}},2),n.link("toastr",{default(e){o=e}},3),n.link("../../../utils",{t(e){l=e},APIClient(e){c=e}},4),n.link("../../../lib/client/lib/formatDate",{formatDateAndTime(e){m=e}},5),n.link("../../../ui-utils/client",{modal(e){d=e}},6),n.link("./adminInvites.html"),s.adminInvites.helpers({formatDateAndTime:m,invites:()=>s.instance().invites.get(),daysToExpire(){const{expires:e,days:t}=this;return t>0?e<Date.now()?l("Expired"):r(e).fromNow(!0):l("Never")},maxUsesLeft(){const{maxUses:e,uses:t}=this;return e>0?t>=e?0:e-t:l("Unlimited")}}),s.adminInvites.onCreated((async function(){const e=this;this.invites=new a([]);const t=await c.v1.get("listInvites")||[],n=t.map(e=>i({},e,{createdAt:new Date(e.createdAt),expires:e.expires?new Date(e.expires):""}));this.invites.set(n)})),s.adminInvites.events({async"click .js-remove"(e,t){e.stopPropagation(),d.open({text:l("Are_you_sure_you_want_to_delete_this_record"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:l("Yes"),cancelButtonText:l("No"),closeOnConfirm:!0,html:!1},async n=>{if(!n)return;const{currentTarget:i}=e,{id:s}=i.dataset;try{await c.v1.delete("removeInvite/".concat(s));const e=t.invites.get()||[];e.splice(e.findIndex(e=>e._id===s),1),t.invites.set(e)}catch(a){o.error(l(a.error))}})}})}

