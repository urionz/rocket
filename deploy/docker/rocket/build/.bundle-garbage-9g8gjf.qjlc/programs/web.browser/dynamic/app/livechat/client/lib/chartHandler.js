function module(t,a,e){let o;e.export({drawLineChart:()=>s,drawDoughnutChart:()=>d,updateChart:()=>l}),e.link("meteor/rocketchat:tap-i18n",{TAPi18n(t){o=t}},0);const i=t=>{let{legends:a=!1,anim:e=!1,smallTicks:o=!1}=t;const i={layout:{padding:{top:10,bottom:0}},legend:{display:!1},title:{display:!1},tooltips:{enabled:!0,mode:"point",displayColors:!1},scales:{xAxes:[{scaleLabel:{display:!1},gridLines:{display:!0,color:"rgba(0, 0, 0, 0.03)"}}],yAxes:[{scaleLabel:{display:!1},gridLines:{display:!0,color:"rgba(0, 0, 0, 0.03)"},ticks:{beginAtZero:!0}}]},hover:{animationDuration:0},responsive:!0,maintainAspectRatio:!1,responsiveAnimationDuration:0};return e||(i.animation={duration:0}),a&&(i.legend={display:!0,labels:{boxWidth:20,fontSize:8}}),o&&(i.scales.xAxes[0].ticks={fontSize:8},i.scales.yAxes[0].ticks={beginAtZero:!0,fontSize:8}),i},n=t=>({layout:{padding:{top:0,bottom:0}},legend:{display:!0,position:"right",labels:{boxWidth:20,fontSize:8}},title:{display:"true",text:t},tooltips:{enabled:!0,mode:"point",displayColors:!1},hover:{animationDuration:0},responsive:!0,maintainAspectRatio:!1,responsiveAnimationDuration:0}),s=async function(t,a,n,s,d){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!t)return void console.log("No chart element");a&&a.destroy();const r=["#2de0a5","#ffd21f","#f5455c","#cbced1"],c=[];n.forEach((function(t,a){c.push({label:o.__(t),data:d[a],backgroundColor:[r[a]],borderColor:[r[a]],borderWidth:3,fill:!1})}));const p=await e.dynamicImport("chart.js"),u=p.default;return new u(t,{type:"line",data:{labels:s,datasets:c},options:i(l)})},d=async(t,a,o,i,s)=>{if(!t)return;o&&o.destroy();const d=await e.dynamicImport("chart.js"),l=d.default;return new l(t,{type:"doughnut",data:{labels:i,datasets:[{data:s,backgroundColor:["#2de0a5","#ffd21f","#f5455c","#cbced1"],borderWidth:0}]},options:n(a)})},l=async(t,a,e)=>{const o=await t;if(-1===o.data.labels.indexOf(a))o.data.labels.push(a),o.data.datasets.forEach((t,a)=>{t.data.push(e[a])});else{const t=o.data.labels.indexOf(a);o.data.datasets.forEach((a,o)=>{a.data[t]=e[o]})}o.update()}}

