function module(t,e,n){let r,c,a,l,o,s,u;n.export({ConnectionStatusAlert:()=>f}),n.link("@rocket.chat/fuselage",{Icon(t){r=t}},0),n.link("react",{default(t){c=t},useEffect(t){a=t},useRef(t){l=t},useState(t){o=t}},1),n.link("../../contexts/ConnectionStatusContext",{useConnectionStatus(t){s=t}},2),n.link("../../contexts/TranslationContext",{useTranslation(t){u=t}},3),n.link("./ConnectionStatusAlert.css");const i=t=>{const e=t-Date.now();return e>0&&Math.round(e/1e3)||0},m=(t,e)=>{const n=l(),[r,c]=o(()=>i(t));return a(()=>{if("waiting"!==e)clearInterval(n.current),n.current=null;else{if(n.current)return;n.current=setInterval(()=>{c(i(t))},500)}},[t,e]),a(()=>()=>{clearInterval(n.current)},[]),r};function f(){const{connected:t,retryTime:e,status:n,reconnect:a}=s(),l=m(e,n),o=u();if(t)return null;const i=t=>{t.preventDefault(),a&&a()};return c.createElement("div",{className:"ConnectionStatusAlert",role:"alert"},c.createElement("strong",null,c.createElement(r,{name:"warning"})," ",o("meteor_status",{context:n})),"waiting"===n&&c.createElement(c.Fragment,null," ",o("meteor_status_reconnect_in",{count:l})),["waiting","offline"].includes(n)&&c.createElement(c.Fragment,null," ",c.createElement("a",{className:"ConnectionStatusAlert__retry-link",href:"#",onClick:i},o("meteor_status_try_now",{context:n}))))}}

